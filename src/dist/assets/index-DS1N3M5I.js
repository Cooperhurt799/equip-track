function l_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Hw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ad={exports:{}},Ro={},Od={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function u_(){if(Iy)return ke;Iy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=y&&S[y]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function C(S,N,G){this.props=S,this.context=N,this.refs=k,this.updater=G||T}C.prototype.isReactComponent={},C.prototype.setState=function(S,N){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,N,"setState")},C.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function O(){}O.prototype=C.prototype;function L(S,N,G){this.props=S,this.context=N,this.refs=k,this.updater=G||T}var M=L.prototype=new O;M.constructor=L,R(M,C.prototype),M.isPureReactComponent=!0;var W=Array.isArray,D=Object.prototype.hasOwnProperty,K={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function Z(S,N,G){var de,oe={},_e=null,fe=null;if(N!=null)for(de in N.ref!==void 0&&(fe=N.ref),N.key!==void 0&&(_e=""+N.key),N)D.call(N,de)&&!q.hasOwnProperty(de)&&(oe[de]=N[de]);var Ce=arguments.length-2;if(Ce===1)oe.children=G;else if(1<Ce){for(var we=Array(Ce),Je=0;Je<Ce;Je++)we[Je]=arguments[Je+2];oe.children=we}if(S&&S.defaultProps)for(de in Ce=S.defaultProps,Ce)oe[de]===void 0&&(oe[de]=Ce[de]);return{$$typeof:t,type:S,key:_e,ref:fe,props:oe,_owner:K.current}}function Ie(S,N){return{$$typeof:t,type:S.type,key:N,ref:S.ref,props:S.props,_owner:S._owner}}function Ue(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function Xe(S){var N={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(G){return N[G]})}var Pe=/\/+/g;function qe(S,N){return typeof S=="object"&&S!==null&&S.key!=null?Xe(""+S.key):N.toString(36)}function $e(S,N,G,de,oe){var _e=typeof S;(_e==="undefined"||_e==="boolean")&&(S=null);var fe=!1;if(S===null)fe=!0;else switch(_e){case"string":case"number":fe=!0;break;case"object":switch(S.$$typeof){case t:case e:fe=!0}}if(fe)return fe=S,oe=oe(fe),S=de===""?"."+qe(fe,0):de,W(oe)?(G="",S!=null&&(G=S.replace(Pe,"$&/")+"/"),$e(oe,N,G,"",function(Je){return Je})):oe!=null&&(Ue(oe)&&(oe=Ie(oe,G+(!oe.key||fe&&fe.key===oe.key?"":(""+oe.key).replace(Pe,"$&/")+"/")+S)),N.push(oe)),1;if(fe=0,de=de===""?".":de+":",W(S))for(var Ce=0;Ce<S.length;Ce++){_e=S[Ce];var we=de+qe(_e,Ce);fe+=$e(_e,N,G,we,oe)}else if(we=E(S),typeof we=="function")for(S=we.call(S),Ce=0;!(_e=S.next()).done;)_e=_e.value,we=de+qe(_e,Ce++),fe+=$e(_e,N,G,we,oe);else if(_e==="object")throw N=String(S),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return fe}function De(S,N,G){if(S==null)return S;var de=[],oe=0;return $e(S,de,"","",function(_e){return N.call(G,_e,oe++)}),de}function Te(S){if(S._status===-1){var N=S._result;N=N(),N.then(function(G){(S._status===0||S._status===-1)&&(S._status=1,S._result=G)},function(G){(S._status===0||S._status===-1)&&(S._status=2,S._result=G)}),S._status===-1&&(S._status=0,S._result=N)}if(S._status===1)return S._result.default;throw S._result}var be={current:null},B={transition:null},ne={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:B,ReactCurrentOwner:K};return ke.Children={map:De,forEach:function(S,N,G){De(S,function(){N.apply(this,arguments)},G)},count:function(S){var N=0;return De(S,function(){N++}),N},toArray:function(S){return De(S,function(N){return N})||[]},only:function(S){if(!Ue(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ke.Component=C,ke.Fragment=n,ke.Profiler=s,ke.PureComponent=L,ke.StrictMode=r,ke.Suspense=h,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ke.cloneElement=function(S,N,G){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var de=R({},S.props),oe=S.key,_e=S.ref,fe=S._owner;if(N!=null){if(N.ref!==void 0&&(_e=N.ref,fe=K.current),N.key!==void 0&&(oe=""+N.key),S.type&&S.type.defaultProps)var Ce=S.type.defaultProps;for(we in N)D.call(N,we)&&!q.hasOwnProperty(we)&&(de[we]=N[we]===void 0&&Ce!==void 0?Ce[we]:N[we])}var we=arguments.length-2;if(we===1)de.children=G;else if(1<we){Ce=Array(we);for(var Je=0;Je<we;Je++)Ce[Je]=arguments[Je+2];de.children=Ce}return{$$typeof:t,type:S.type,key:oe,ref:_e,props:de,_owner:fe}},ke.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:a,_context:S},S.Consumer=S},ke.createElement=Z,ke.createFactory=function(S){var N=Z.bind(null,S);return N.type=S,N},ke.createRef=function(){return{current:null}},ke.forwardRef=function(S){return{$$typeof:d,render:S}},ke.isValidElement=Ue,ke.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:Te}},ke.memo=function(S,N){return{$$typeof:m,type:S,compare:N===void 0?null:N}},ke.startTransition=function(S){var N=B.transition;B.transition={};try{S()}finally{B.transition=N}},ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.useCallback=function(S,N){return be.current.useCallback(S,N)},ke.useContext=function(S){return be.current.useContext(S)},ke.useDebugValue=function(){},ke.useDeferredValue=function(S){return be.current.useDeferredValue(S)},ke.useEffect=function(S,N){return be.current.useEffect(S,N)},ke.useId=function(){return be.current.useId()},ke.useImperativeHandle=function(S,N,G){return be.current.useImperativeHandle(S,N,G)},ke.useInsertionEffect=function(S,N){return be.current.useInsertionEffect(S,N)},ke.useLayoutEffect=function(S,N){return be.current.useLayoutEffect(S,N)},ke.useMemo=function(S,N){return be.current.useMemo(S,N)},ke.useReducer=function(S,N,G){return be.current.useReducer(S,N,G)},ke.useRef=function(S){return be.current.useRef(S)},ke.useState=function(S){return be.current.useState(S)},ke.useSyncExternalStore=function(S,N,G){return be.current.useSyncExternalStore(S,N,G)},ke.useTransition=function(){return be.current.useTransition()},ke.version="18.2.0",ke}var Cy;function ip(){return Cy||(Cy=1,Od.exports=u_()),Od.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function c_(){if(Ty)return Ro;Ty=1;var t=ip(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var g,y={},E=null,T=null;m!==void 0&&(E=""+m),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:E,ref:T,props:y,_owner:s.current}}return Ro.Fragment=n,Ro.jsx=u,Ro.jsxs=u,Ro}var _y;function h_(){return _y||(_y=1,Ad.exports=c_()),Ad.exports}var $=h_(),x=ip();const Ww=Hw(x),ky=l_({__proto__:null,default:Ww},[x]);var Pd={exports:{}},Jt={},Dd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function d_(){return by||(by=1,function(t){function e(B,ne){var S=B.length;B.push(ne);e:for(;0<S;){var N=S-1>>>1,G=B[N];if(0<s(G,ne))B[N]=ne,B[S]=G,S=N;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ne=B[0],S=B.pop();if(S!==ne){B[0]=S;e:for(var N=0,G=B.length,de=G>>>1;N<de;){var oe=2*(N+1)-1,_e=B[oe],fe=oe+1,Ce=B[fe];if(0>s(_e,S))fe<G&&0>s(Ce,_e)?(B[N]=Ce,B[fe]=S,N=fe):(B[N]=_e,B[oe]=S,N=oe);else if(fe<G&&0>s(Ce,S))B[N]=Ce,B[fe]=S,N=fe;else break e}}return ne}function s(B,ne){var S=B.sortIndex-ne.sortIndex;return S!==0?S:B.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,E=3,T=!1,R=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(B){for(var ne=n(m);ne!==null;){if(ne.callback===null)r(m);else if(ne.startTime<=B)r(m),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(m)}}function W(B){if(k=!1,M(B),!R)if(n(h)!==null)R=!0,Te(D);else{var ne=n(m);ne!==null&&be(W,ne.startTime-B)}}function D(B,ne){R=!1,k&&(k=!1,O(Z),Z=-1),T=!0;var S=E;try{for(M(ne),y=n(h);y!==null&&(!(y.expirationTime>ne)||B&&!Xe());){var N=y.callback;if(typeof N=="function"){y.callback=null,E=y.priorityLevel;var G=N(y.expirationTime<=ne);ne=t.unstable_now(),typeof G=="function"?y.callback=G:y===n(h)&&r(h),M(ne)}else r(h);y=n(h)}if(y!==null)var de=!0;else{var oe=n(m);oe!==null&&be(W,oe.startTime-ne),de=!1}return de}finally{y=null,E=S,T=!1}}var K=!1,q=null,Z=-1,Ie=5,Ue=-1;function Xe(){return!(t.unstable_now()-Ue<Ie)}function Pe(){if(q!==null){var B=t.unstable_now();Ue=B;var ne=!0;try{ne=q(!0,B)}finally{ne?qe():(K=!1,q=null)}}else K=!1}var qe;if(typeof L=="function")qe=function(){L(Pe)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,De=$e.port2;$e.port1.onmessage=Pe,qe=function(){De.postMessage(null)}}else qe=function(){C(Pe,0)};function Te(B){q=B,K||(K=!0,qe())}function be(B,ne){Z=C(function(){B(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){R||T||(R=!0,Te(D))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var S=E;E=ne;try{return B()}finally{E=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var S=E;E=B;try{return ne()}finally{E=S}},t.unstable_scheduleCallback=function(B,ne,S){var N=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?N+S:N):S=N,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=S+G,B={id:g++,callback:ne,priorityLevel:B,startTime:S,expirationTime:G,sortIndex:-1},S>N?(B.sortIndex=S,e(m,B),n(h)===null&&B===n(m)&&(k?(O(Z),Z=-1):k=!0,be(W,S-N))):(B.sortIndex=G,e(h,B),R||T||(R=!0,Te(D))),B},t.unstable_shouldYield=Xe,t.unstable_wrapCallback=function(B){var ne=E;return function(){var S=E;E=ne;try{return B.apply(this,arguments)}finally{E=S}}}}(xd)),xd}var Ry;function f_(){return Ry||(Ry=1,Dd.exports=d_()),Dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function p_(){if(Ay)return Jt;Ay=1;var t=ip(),e=f_();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function E(i){return h.call(y,i)?!0:h.call(g,i)?!1:m.test(i)?y[i]=!0:(g[i]=!0,!1)}function T(i,o,l,c){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,l,c){if(o===null||typeof o>"u"||T(i,o,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(i,o,l,c,f,p,v){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=p,this.removeEmptyString=v}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new k(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,L);C[o]=new k(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,L);C[o]=new k(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,L);C[o]=new k(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,o,l,c){var f=C.hasOwnProperty(o)?C[o]:null;(f!==null?f.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,f,c)&&(l=null),c||f===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):f.mustUseProperty?i[f.propertyName]=l===null?f.type===3?!1:"":l:(o=f.attributeName,c=f.attributeNamespace,l===null?i.removeAttribute(o):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?i.setAttributeNS(c,o,l):i.setAttribute(o,l))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),K=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),Ue=Symbol.for("react.provider"),Xe=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),B=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var S=Object.assign,N;function G(i){if(N===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);N=o&&o[1]||""}return`
`+N+i}var de=!1;function oe(i,o){if(!i||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(P){var c=P}Reflect.construct(i,[],o)}else{try{o.call()}catch(P){c=P}i.call(o.prototype)}else{try{throw Error()}catch(P){c=P}i()}}catch(P){if(P&&c&&typeof P.stack=="string"){for(var f=P.stack.split(`
`),p=c.stack.split(`
`),v=f.length-1,w=p.length-1;1<=v&&0<=w&&f[v]!==p[w];)w--;for(;1<=v&&0<=w;v--,w--)if(f[v]!==p[w]){if(v!==1||w!==1)do if(v--,w--,0>w||f[v]!==p[w]){var I=`
`+f[v].replace(" at new "," at ");return i.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",i.displayName)),I}while(1<=v&&0<=w);break}}}finally{de=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?G(i):""}function _e(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=oe(i.type,!1),i;case 11:return i=oe(i.type.render,!1),i;case 1:return i=oe(i.type,!0),i;default:return""}}function fe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case K:return"Portal";case Ie:return"Profiler";case Z:return"StrictMode";case qe:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Xe:return(i.displayName||"Context")+".Consumer";case Ue:return(i._context.displayName||"Context")+".Provider";case Pe:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case De:return o=i.displayName||null,o!==null?o:fe(i.type)||"Memo";case Te:o=i._payload,i=i._init;try{return fe(i(o))}catch{}}return null}function Ce(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(o);case 8:return o===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function we(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Je(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Zr(i){var o=Je(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Dn(i){i._valueTracker||(i._valueTracker=Zr(i))}function ei(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return i&&(c=Je(i)?i.checked?"true":"false":i.value),i=c,i!==l?(o.setValue(i),!0):!1}function vr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Q(i,o){var l=o.checked;return S({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Me(i,o){var l=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;l=we(o.value!=null?o.value:l),i._wrapperState={initialChecked:c,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ze(i,o){o=o.checked,o!=null&&M(i,"checked",o,!1)}function tn(i,o){ze(i,o);var l=we(o.value),c=o.type;if(l!=null)c==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(c==="submit"||c==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Vc(i,o.type,l):o.hasOwnProperty("defaultValue")&&Vc(i,o.type,we(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Yn(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Vc(i,o,l){(o!=="number"||vr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var zs=Array.isArray;function Mi(i,o,l,c){if(i=i.options,o){o={};for(var f=0;f<l.length;f++)o["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=o.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&c&&(i[l].defaultSelected=!0)}else{for(l=""+we(l),o=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}o!==null||i[f].disabled||(o=i[f])}o!==null&&(o.selected=!0)}}function Uc(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return S({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Pm(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(zs(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:we(l)}}function Dm(i,o){var l=we(o.value),c=we(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),c!=null&&(i.defaultValue=""+c)}function xm(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Nm(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $c(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Nm(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Na,Mm=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,c,f){MSApp.execUnsafeLocalFunction(function(){return i(o,l,c,f)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Na.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Bs(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dC=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(i){dC.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Hs[o]=Hs[i]})});function Lm(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Hs.hasOwnProperty(i)&&Hs[i]?(""+o).trim():o+"px"}function Fm(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=Lm(l,o[l],c);l==="float"&&(l="cssFloat"),c?i.setProperty(l,f):i[l]=f}}var fC=S({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jc(i,o){if(o){if(fC[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function zc(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function Hc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wc=null,Li=null,Fi=null;function Vm(i){if(i=fo(i)){if(typeof Wc!="function")throw Error(n(280));var o=i.stateNode;o&&(o=rl(o),Wc(i.stateNode,i.type,o))}}function Um(i){Li?Fi?Fi.push(i):Fi=[i]:Li=i}function $m(){if(Li){var i=Li,o=Fi;if(Fi=Li=null,Vm(i),o)for(i=0;i<o.length;i++)Vm(o[i])}}function jm(i,o){return i(o)}function zm(){}var qc=!1;function Bm(i,o,l){if(qc)return i(o,l);qc=!0;try{return jm(i,o,l)}finally{qc=!1,(Li!==null||Fi!==null)&&(zm(),$m())}}function Ws(i,o){var l=i.stateNode;if(l===null)return null;var c=rl(l);if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Kc=!1;if(d)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Kc=!1}function pC(i,o,l,c,f,p,v,w,I){var P=Array.prototype.slice.call(arguments,3);try{o.apply(l,P)}catch(V){this.onError(V)}}var Ks=!1,Ma=null,La=!1,Gc=null,mC={onError:function(i){Ks=!0,Ma=i}};function gC(i,o,l,c,f,p,v,w,I){Ks=!1,Ma=null,pC.apply(mC,arguments)}function vC(i,o,l,c,f,p,v,w,I){if(gC.apply(this,arguments),Ks){if(Ks){var P=Ma;Ks=!1,Ma=null}else throw Error(n(198));La||(La=!0,Gc=P)}}function ti(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Hm(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Wm(i){if(ti(i)!==i)throw Error(n(188))}function yC(i){var o=i.alternate;if(!o){if(o=ti(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,c=o;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return Wm(f),i;if(p===c)return Wm(f),o;p=p.sibling}throw Error(n(188))}if(l.return!==c.return)l=f,c=p;else{for(var v=!1,w=f.child;w;){if(w===l){v=!0,l=f,c=p;break}if(w===c){v=!0,c=f,l=p;break}w=w.sibling}if(!v){for(w=p.child;w;){if(w===l){v=!0,l=p,c=f;break}if(w===c){v=!0,c=p,l=f;break}w=w.sibling}if(!v)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function qm(i){return i=yC(i),i!==null?Km(i):null}function Km(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Km(i);if(o!==null)return o;i=i.sibling}return null}var Gm=e.unstable_scheduleCallback,Qm=e.unstable_cancelCallback,wC=e.unstable_shouldYield,SC=e.unstable_requestPaint,at=e.unstable_now,EC=e.unstable_getCurrentPriorityLevel,Qc=e.unstable_ImmediatePriority,Ym=e.unstable_UserBlockingPriority,Fa=e.unstable_NormalPriority,IC=e.unstable_LowPriority,Xm=e.unstable_IdlePriority,Va=null,xn=null;function CC(i){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Va,i,void 0,(i.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:kC,TC=Math.log,_C=Math.LN2;function kC(i){return i>>>=0,i===0?32:31-(TC(i)/_C|0)|0}var Ua=64,$a=4194304;function Gs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ja(i,o){var l=i.pendingLanes;if(l===0)return 0;var c=0,f=i.suspendedLanes,p=i.pingedLanes,v=l&268435455;if(v!==0){var w=v&~f;w!==0?c=Gs(w):(p&=v,p!==0&&(c=Gs(p)))}else v=l&~f,v!==0?c=Gs(v):p!==0&&(c=Gs(p));if(c===0)return 0;if(o!==0&&o!==c&&!(o&f)&&(f=c&-c,p=o&-o,f>=p||f===16&&(p&4194240)!==0))return o;if(c&4&&(c|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=c;0<o;)l=31-wn(o),f=1<<l,c|=i[l],o&=~f;return c}function bC(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(i,o){for(var l=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes;0<p;){var v=31-wn(p),w=1<<v,I=f[v];I===-1?(!(w&l)||w&c)&&(f[v]=bC(w,o)):I<=o&&(i.expiredLanes|=w),p&=~w}}function Yc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Jm(){var i=Ua;return Ua<<=1,!(Ua&4194240)&&(Ua=64),i}function Xc(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Qs(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-wn(o),i[o]=l}function AC(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var c=i.eventTimes;for(i=i.expirationTimes;0<l;){var f=31-wn(l),p=1<<f;o[f]=0,c[f]=-1,i[f]=-1,l&=~p}}function Jc(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var c=31-wn(l),f=1<<c;f&o|i[c]&o&&(i[c]|=o),l&=~f}}var Be=0;function Zm(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var eg,Zc,tg,ng,rg,eh=!1,za=[],yr=null,wr=null,Sr=null,Ys=new Map,Xs=new Map,Er=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ig(i,o){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ys.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(o.pointerId)}}function Js(i,o,l,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},o!==null&&(o=fo(o),o!==null&&Zc(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),i)}function PC(i,o,l,c,f){switch(o){case"focusin":return yr=Js(yr,i,o,l,c,f),!0;case"dragenter":return wr=Js(wr,i,o,l,c,f),!0;case"mouseover":return Sr=Js(Sr,i,o,l,c,f),!0;case"pointerover":var p=f.pointerId;return Ys.set(p,Js(Ys.get(p)||null,i,o,l,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Xs.set(p,Js(Xs.get(p)||null,i,o,l,c,f)),!0}return!1}function sg(i){var o=ni(i.target);if(o!==null){var l=ti(o);if(l!==null){if(o=l.tag,o===13){if(o=Hm(l),o!==null){i.blockedOn=o,rg(i.priority,function(){tg(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ba(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=nh(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Bc=c,l.target.dispatchEvent(c),Bc=null}else return o=fo(l),o!==null&&Zc(o),i.blockedOn=l,!1;o.shift()}return!0}function og(i,o,l){Ba(i)&&l.delete(o)}function DC(){eh=!1,yr!==null&&Ba(yr)&&(yr=null),wr!==null&&Ba(wr)&&(wr=null),Sr!==null&&Ba(Sr)&&(Sr=null),Ys.forEach(og),Xs.forEach(og)}function Zs(i,o){i.blockedOn===o&&(i.blockedOn=null,eh||(eh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,DC)))}function eo(i){function o(f){return Zs(f,i)}if(0<za.length){Zs(za[0],i);for(var l=1;l<za.length;l++){var c=za[l];c.blockedOn===i&&(c.blockedOn=null)}}for(yr!==null&&Zs(yr,i),wr!==null&&Zs(wr,i),Sr!==null&&Zs(Sr,i),Ys.forEach(o),Xs.forEach(o),l=0;l<Er.length;l++)c=Er[l],c.blockedOn===i&&(c.blockedOn=null);for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)sg(l),l.blockedOn===null&&Er.shift()}var Vi=W.ReactCurrentBatchConfig,Ha=!0;function xC(i,o,l,c){var f=Be,p=Vi.transition;Vi.transition=null;try{Be=1,th(i,o,l,c)}finally{Be=f,Vi.transition=p}}function NC(i,o,l,c){var f=Be,p=Vi.transition;Vi.transition=null;try{Be=4,th(i,o,l,c)}finally{Be=f,Vi.transition=p}}function th(i,o,l,c){if(Ha){var f=nh(i,o,l,c);if(f===null)wh(i,o,c,Wa,l),ig(i,c);else if(PC(f,i,o,l,c))c.stopPropagation();else if(ig(i,c),o&4&&-1<OC.indexOf(i)){for(;f!==null;){var p=fo(f);if(p!==null&&eg(p),p=nh(i,o,l,c),p===null&&wh(i,o,c,Wa,l),p===f)break;f=p}f!==null&&c.stopPropagation()}else wh(i,o,c,null,l)}}var Wa=null;function nh(i,o,l,c){if(Wa=null,i=Hc(c),i=ni(i),i!==null)if(o=ti(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Hm(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Wa=i,null}function ag(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EC()){case Qc:return 1;case Ym:return 4;case Fa:case IC:return 16;case Xm:return 536870912;default:return 16}default:return 16}}var Ir=null,rh=null,qa=null;function lg(){if(qa)return qa;var i,o=rh,l=o.length,c,f="value"in Ir?Ir.value:Ir.textContent,p=f.length;for(i=0;i<l&&o[i]===f[i];i++);var v=l-i;for(c=1;c<=v&&o[l-c]===f[p-c];c++);return qa=f.slice(i,1<c?1-c:void 0)}function Ka(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ga(){return!0}function ug(){return!1}function nn(i){function o(l,c,f,p,v){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(l=i[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ga:ug,this.isPropagationStopped=ug,this}return S(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),o}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=nn(Ui),to=S({},Ui,{view:0,detail:0}),MC=nn(to),sh,oh,no,Qa=S({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==no&&(no&&i.type==="mousemove"?(sh=i.screenX-no.screenX,oh=i.screenY-no.screenY):oh=sh=0,no=i),sh)},movementY:function(i){return"movementY"in i?i.movementY:oh}}),cg=nn(Qa),LC=S({},Qa,{dataTransfer:0}),FC=nn(LC),VC=S({},to,{relatedTarget:0}),ah=nn(VC),UC=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),$C=nn(UC),jC=S({},Ui,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zC=nn(jC),BC=S({},Ui,{data:0}),hg=nn(BC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KC(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=qC[i])?!!o[i]:!1}function lh(){return KC}var GC=S({},to,{key:function(i){if(i.key){var o=HC[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ka(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?WC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(i){return i.type==="keypress"?Ka(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ka(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),QC=nn(GC),YC=S({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dg=nn(YC),XC=S({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),JC=nn(XC),ZC=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),eT=nn(ZC),tT=S({},Qa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nT=nn(tT),rT=[9,13,27,32],uh=d&&"CompositionEvent"in window,ro=null;d&&"documentMode"in document&&(ro=document.documentMode);var iT=d&&"TextEvent"in window&&!ro,fg=d&&(!uh||ro&&8<ro&&11>=ro),pg=" ",mg=!1;function gg(i,o){switch(i){case"keyup":return rT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $i=!1;function sT(i,o){switch(i){case"compositionend":return vg(o);case"keypress":return o.which!==32?null:(mg=!0,pg);case"textInput":return i=o.data,i===pg&&mg?null:i;default:return null}}function oT(i,o){if($i)return i==="compositionend"||!uh&&gg(i,o)?(i=lg(),qa=rh=Ir=null,$i=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return fg&&o.locale!=="ko"?null:o.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!aT[i.type]:o==="textarea"}function wg(i,o,l,c){Um(c),o=el(o,"onChange"),0<o.length&&(l=new ih("onChange","change",null,l,c),i.push({event:l,listeners:o}))}var io=null,so=null;function lT(i){Fg(i,0)}function Ya(i){var o=Wi(i);if(ei(o))return i}function uT(i,o){if(i==="change")return o}var Sg=!1;if(d){var ch;if(d){var hh="oninput"in document;if(!hh){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),hh=typeof Eg.oninput=="function"}ch=hh}else ch=!1;Sg=ch&&(!document.documentMode||9<document.documentMode)}function Ig(){io&&(io.detachEvent("onpropertychange",Cg),so=io=null)}function Cg(i){if(i.propertyName==="value"&&Ya(so)){var o=[];wg(o,so,i,Hc(i)),Bm(lT,o)}}function cT(i,o,l){i==="focusin"?(Ig(),io=o,so=l,io.attachEvent("onpropertychange",Cg)):i==="focusout"&&Ig()}function hT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ya(so)}function dT(i,o){if(i==="click")return Ya(o)}function fT(i,o){if(i==="input"||i==="change")return Ya(o)}function pT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Sn=typeof Object.is=="function"?Object.is:pT;function oo(i,o){if(Sn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!h.call(o,f)||!Sn(i[f],o[f]))return!1}return!0}function Tg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _g(i,o){var l=Tg(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=o&&c>=o)return{node:l,offset:o-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tg(l)}}function kg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?kg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function bg(){for(var i=window,o=vr();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=vr(i.document)}return o}function dh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function mT(i){var o=bg(),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&kg(l.ownerDocument.documentElement,l)){if(c!==null&&dh(l)){if(o=c.start,i=c.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var f=l.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!i.extend&&p>c&&(f=c,c=p,p=f),f=_g(l,p);var v=_g(l,c);f&&v&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==v.node||i.focusOffset!==v.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),i.removeAllRanges(),p>c?(i.addRange(o),i.extend(v.node,v.offset)):(o.setEnd(v.node,v.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var gT=d&&"documentMode"in document&&11>=document.documentMode,ji=null,fh=null,ao=null,ph=!1;function Rg(i,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ph||ji==null||ji!==vr(c)||(c=ji,"selectionStart"in c&&dh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ao&&oo(ao,c)||(ao=c,c=el(fh,"onSelect"),0<c.length&&(o=new ih("onSelect","select",null,o,l),i.push({event:o,listeners:c}),o.target=ji)))}function Xa(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var zi={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},mh={},Ag={};d&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Ja(i){if(mh[i])return mh[i];if(!zi[i])return i;var o=zi[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Ag)return mh[i]=o[l];return i}var Og=Ja("animationend"),Pg=Ja("animationiteration"),Dg=Ja("animationstart"),xg=Ja("transitionend"),Ng=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(i,o){Ng.set(i,o),a(o,[i])}for(var gh=0;gh<Mg.length;gh++){var vh=Mg[gh],vT=vh.toLowerCase(),yT=vh[0].toUpperCase()+vh.slice(1);Cr(vT,"on"+yT)}Cr(Og,"onAnimationEnd"),Cr(Pg,"onAnimationIteration"),Cr(Dg,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(xg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function Lg(i,o,l){var c=i.type||"unknown-event";i.currentTarget=l,vC(c,o,void 0,i),i.currentTarget=null}function Fg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],f=c.event;c=c.listeners;e:{var p=void 0;if(o)for(var v=c.length-1;0<=v;v--){var w=c[v],I=w.instance,P=w.currentTarget;if(w=w.listener,I!==p&&f.isPropagationStopped())break e;Lg(f,w,P),p=I}else for(v=0;v<c.length;v++){if(w=c[v],I=w.instance,P=w.currentTarget,w=w.listener,I!==p&&f.isPropagationStopped())break e;Lg(f,w,P),p=I}}}if(La)throw i=Gc,La=!1,Gc=null,i}function Ke(i,o){var l=o[_h];l===void 0&&(l=o[_h]=new Set);var c=i+"__bubble";l.has(c)||(Vg(o,i,2,!1),l.add(c))}function yh(i,o,l){var c=0;o&&(c|=4),Vg(l,i,c,o)}var Za="_reactListening"+Math.random().toString(36).slice(2);function uo(i){if(!i[Za]){i[Za]=!0,r.forEach(function(l){l!=="selectionchange"&&(wT.has(l)||yh(l,!1,i),yh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Za]||(o[Za]=!0,yh("selectionchange",!1,o))}}function Vg(i,o,l,c){switch(ag(o)){case 1:var f=xC;break;case 4:f=NC;break;default:f=th}l=f.bind(null,o,l,i),f=void 0,!Kc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(o,l,{capture:!0,passive:f}):i.addEventListener(o,l,!0):f!==void 0?i.addEventListener(o,l,{passive:f}):i.addEventListener(o,l,!1)}function wh(i,o,l,c,f){var p=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var w=c.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;v=v.return}for(;w!==null;){if(v=ni(w),v===null)return;if(I=v.tag,I===5||I===6){c=p=v;continue e}w=w.parentNode}}c=c.return}Bm(function(){var P=p,V=Hc(l),U=[];e:{var F=Ng.get(i);if(F!==void 0){var X=ih,ee=i;switch(i){case"keypress":if(Ka(l)===0)break e;case"keydown":case"keyup":X=QC;break;case"focusin":ee="focus",X=ah;break;case"focusout":ee="blur",X=ah;break;case"beforeblur":case"afterblur":X=ah;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=FC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=JC;break;case Og:case Pg:case Dg:X=$C;break;case xg:X=eT;break;case"scroll":X=MC;break;case"wheel":X=nT;break;case"copy":case"cut":case"paste":X=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=dg}var te=(o&4)!==0,lt=!te&&i==="scroll",b=te?F!==null?F+"Capture":null:F;te=[];for(var _=P,A;_!==null;){A=_;var H=A.stateNode;if(A.tag===5&&H!==null&&(A=H,b!==null&&(H=Ws(_,b),H!=null&&te.push(co(_,H,A)))),lt)break;_=_.return}0<te.length&&(F=new X(F,ee,null,l,V),U.push({event:F,listeners:te}))}}if(!(o&7)){e:{if(F=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",F&&l!==Bc&&(ee=l.relatedTarget||l.fromElement)&&(ni(ee)||ee[Xn]))break e;if((X||F)&&(F=V.window===V?V:(F=V.ownerDocument)?F.defaultView||F.parentWindow:window,X?(ee=l.relatedTarget||l.toElement,X=P,ee=ee?ni(ee):null,ee!==null&&(lt=ti(ee),ee!==lt||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(X=null,ee=P),X!==ee)){if(te=cg,H="onMouseLeave",b="onMouseEnter",_="mouse",(i==="pointerout"||i==="pointerover")&&(te=dg,H="onPointerLeave",b="onPointerEnter",_="pointer"),lt=X==null?F:Wi(X),A=ee==null?F:Wi(ee),F=new te(H,_+"leave",X,l,V),F.target=lt,F.relatedTarget=A,H=null,ni(V)===P&&(te=new te(b,_+"enter",ee,l,V),te.target=A,te.relatedTarget=lt,H=te),lt=H,X&&ee)t:{for(te=X,b=ee,_=0,A=te;A;A=Bi(A))_++;for(A=0,H=b;H;H=Bi(H))A++;for(;0<_-A;)te=Bi(te),_--;for(;0<A-_;)b=Bi(b),A--;for(;_--;){if(te===b||b!==null&&te===b.alternate)break t;te=Bi(te),b=Bi(b)}te=null}else te=null;X!==null&&Ug(U,F,X,te,!1),ee!==null&&lt!==null&&Ug(U,lt,ee,te,!0)}}e:{if(F=P?Wi(P):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var re=uT;else if(yg(F))if(Sg)re=fT;else{re=hT;var le=cT}else(X=F.nodeName)&&X.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(re=dT);if(re&&(re=re(i,P))){wg(U,re,l,V);break e}le&&le(i,F,P),i==="focusout"&&(le=F._wrapperState)&&le.controlled&&F.type==="number"&&Vc(F,"number",F.value)}switch(le=P?Wi(P):window,i){case"focusin":(yg(le)||le.contentEditable==="true")&&(ji=le,fh=P,ao=null);break;case"focusout":ao=fh=ji=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Rg(U,l,V);break;case"selectionchange":if(gT)break;case"keydown":case"keyup":Rg(U,l,V)}var ue;if(uh)e:{switch(i){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else $i?gg(i,l)&&(me="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(me="onCompositionStart");me&&(fg&&l.locale!=="ko"&&($i||me!=="onCompositionStart"?me==="onCompositionEnd"&&$i&&(ue=lg()):(Ir=V,rh="value"in Ir?Ir.value:Ir.textContent,$i=!0)),le=el(P,me),0<le.length&&(me=new hg(me,i,null,l,V),U.push({event:me,listeners:le}),ue?me.data=ue:(ue=vg(l),ue!==null&&(me.data=ue)))),(ue=iT?sT(i,l):oT(i,l))&&(P=el(P,"onBeforeInput"),0<P.length&&(V=new hg("onBeforeInput","beforeinput",null,l,V),U.push({event:V,listeners:P}),V.data=ue))}Fg(U,o)})}function co(i,o,l){return{instance:i,listener:o,currentTarget:l}}function el(i,o){for(var l=o+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=Ws(i,l),p!=null&&c.unshift(co(i,p,f)),p=Ws(i,o),p!=null&&c.push(co(i,p,f))),i=i.return}return c}function Bi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ug(i,o,l,c,f){for(var p=o._reactName,v=[];l!==null&&l!==c;){var w=l,I=w.alternate,P=w.stateNode;if(I!==null&&I===c)break;w.tag===5&&P!==null&&(w=P,f?(I=Ws(l,p),I!=null&&v.unshift(co(l,I,w))):f||(I=Ws(l,p),I!=null&&v.push(co(l,I,w)))),l=l.return}v.length!==0&&i.push({event:o,listeners:v})}var ST=/\r\n?/g,ET=/\u0000|\uFFFD/g;function $g(i){return(typeof i=="string"?i:""+i).replace(ST,`
`).replace(ET,"")}function tl(i,o,l){if(o=$g(o),$g(i)!==o&&l)throw Error(n(425))}function nl(){}var Sh=null,Eh=null;function Ih(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(i){return jg.resolve(null).then(i).catch(TT)}:Ch;function TT(i){setTimeout(function(){throw i})}function Th(i,o){var l=o,c=0;do{var f=l.nextSibling;if(i.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){i.removeChild(f),eo(o);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);eo(o)}function Tr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function zg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Hi,ho="__reactProps$"+Hi,Xn="__reactContainer$"+Hi,_h="__reactEvents$"+Hi,_T="__reactListeners$"+Hi,kT="__reactHandles$"+Hi;function ni(i){var o=i[Nn];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Xn]||l[Nn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=zg(i);i!==null;){if(l=i[Nn])return l;i=zg(i)}return o}i=l,l=i.parentNode}return null}function fo(i){return i=i[Nn]||i[Xn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function rl(i){return i[ho]||null}var kh=[],qi=-1;function _r(i){return{current:i}}function Ge(i){0>qi||(i.current=kh[qi],kh[qi]=null,qi--)}function We(i,o){qi++,kh[qi]=i.current,i.current=o}var kr={},At=_r(kr),Kt=_r(!1),ri=kr;function Ki(i,o){var l=i.type.contextTypes;if(!l)return kr;var c=i.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in l)f[p]=o[p];return c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=f),f}function Gt(i){return i=i.childContextTypes,i!=null}function il(){Ge(Kt),Ge(At)}function Bg(i,o,l){if(At.current!==kr)throw Error(n(168));We(At,o),We(Kt,l)}function Hg(i,o,l){var c=i.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in o))throw Error(n(108,Ce(i)||"Unknown",f));return S({},l,c)}function sl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||kr,ri=At.current,We(At,i),We(Kt,Kt.current),!0}function Wg(i,o,l){var c=i.stateNode;if(!c)throw Error(n(169));l?(i=Hg(i,o,ri),c.__reactInternalMemoizedMergedChildContext=i,Ge(Kt),Ge(At),We(At,i)):Ge(Kt),We(Kt,l)}var Jn=null,ol=!1,bh=!1;function qg(i){Jn===null?Jn=[i]:Jn.push(i)}function bT(i){ol=!0,qg(i)}function br(){if(!bh&&Jn!==null){bh=!0;var i=0,o=Be;try{var l=Jn;for(Be=1;i<l.length;i++){var c=l[i];do c=c(!0);while(c!==null)}Jn=null,ol=!1}catch(f){throw Jn!==null&&(Jn=Jn.slice(i+1)),Gm(Qc,br),f}finally{Be=o,bh=!1}}return null}var Gi=[],Qi=0,al=null,ll=0,cn=[],hn=0,ii=null,Zn=1,er="";function si(i,o){Gi[Qi++]=ll,Gi[Qi++]=al,al=i,ll=o}function Kg(i,o,l){cn[hn++]=Zn,cn[hn++]=er,cn[hn++]=ii,ii=i;var c=Zn;i=er;var f=32-wn(c)-1;c&=~(1<<f),l+=1;var p=32-wn(o)+f;if(30<p){var v=f-f%5;p=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Zn=1<<32-wn(o)+f|l<<f|c,er=p+i}else Zn=1<<p|l<<f|c,er=i}function Rh(i){i.return!==null&&(si(i,1),Kg(i,1,0))}function Ah(i){for(;i===al;)al=Gi[--Qi],Gi[Qi]=null,ll=Gi[--Qi],Gi[Qi]=null;for(;i===ii;)ii=cn[--hn],cn[hn]=null,er=cn[--hn],cn[hn]=null,Zn=cn[--hn],cn[hn]=null}var rn=null,sn=null,Ze=!1,En=null;function Gg(i,o){var l=mn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Qg(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,rn=i,sn=Tr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,rn=i,sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ii!==null?{id:Zn,overflow:er}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=mn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,rn=i,sn=null,!0):!1;default:return!1}}function Oh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ph(i){if(Ze){var o=sn;if(o){var l=o;if(!Qg(i,o)){if(Oh(i))throw Error(n(418));o=Tr(l.nextSibling);var c=rn;o&&Qg(i,o)?Gg(c,l):(i.flags=i.flags&-4097|2,Ze=!1,rn=i)}}else{if(Oh(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ze=!1,rn=i}}}function Yg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;rn=i}function ul(i){if(i!==rn)return!1;if(!Ze)return Yg(i),Ze=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ih(i.type,i.memoizedProps)),o&&(o=sn)){if(Oh(i))throw Xg(),Error(n(418));for(;o;)Gg(i,o),o=Tr(o.nextSibling)}if(Yg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){sn=Tr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}sn=null}}else sn=rn?Tr(i.stateNode.nextSibling):null;return!0}function Xg(){for(var i=sn;i;)i=Tr(i.nextSibling)}function Yi(){sn=rn=null,Ze=!1}function Dh(i){En===null?En=[i]:En.push(i)}var RT=W.ReactCurrentBatchConfig;function In(i,o){if(i&&i.defaultProps){o=S({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}var cl=_r(null),hl=null,Xi=null,xh=null;function Nh(){xh=Xi=hl=null}function Mh(i){var o=cl.current;Ge(cl),i._currentValue=o}function Lh(i,o,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===l)break;i=i.return}}function Ji(i,o){hl=i,xh=Xi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Qt=!0),i.firstContext=null)}function dn(i){var o=i._currentValue;if(xh!==i)if(i={context:i,memoizedValue:o,next:null},Xi===null){if(hl===null)throw Error(n(308));Xi=i,hl.dependencies={lanes:0,firstContext:i}}else Xi=Xi.next=i;return o}var oi=null;function Fh(i){oi===null?oi=[i]:oi.push(i)}function Jg(i,o,l,c){var f=o.interleaved;return f===null?(l.next=l,Fh(o)):(l.next=f.next,f.next=l),o.interleaved=l,tr(i,c)}function tr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Rr=!1;function Vh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function nr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ar(i,o,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Oe&2){var f=c.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),c.pending=o,tr(i,l)}return f=c.interleaved,f===null?(o.next=o,Fh(c)):(o.next=f.next,f.next=o),c.interleaved=o,tr(i,l)}function dl(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,Jc(i,l)}}function ev(i,o){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?f=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?f=p=o:p=p.next=o}else f=p=o;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function fl(i,o,l,c){var f=i.updateQueue;Rr=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,P=I.next;I.next=null,v===null?p=P:v.next=P,v=I;var V=i.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==v&&(w===null?V.firstBaseUpdate=P:w.next=P,V.lastBaseUpdate=I))}if(p!==null){var U=f.baseState;v=0,V=P=I=null,w=p;do{var F=w.lane,X=w.eventTime;if((c&F)===F){V!==null&&(V=V.next={eventTime:X,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ee=i,te=w;switch(F=o,X=l,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){U=ee.call(X,U,F);break e}U=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,F=typeof ee=="function"?ee.call(X,U,F):ee,F==null)break e;U=S({},U,F);break e;case 2:Rr=!0}}w.callback!==null&&w.lane!==0&&(i.flags|=64,F=f.effects,F===null?f.effects=[w]:F.push(w))}else X={eventTime:X,lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(P=V=X,I=U):V=V.next=X,v|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;F=w,w=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);if(V===null&&(I=U),f.baseState=I,f.firstBaseUpdate=P,f.lastBaseUpdate=V,o=f.shared.interleaved,o!==null){f=o;do v|=f.lane,f=f.next;while(f!==o)}else p===null&&(f.shared.lanes=0);ui|=v,i.lanes=v,i.memoizedState=U}}function tv(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var c=i[o],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var nv=new t.Component().refs;function Uh(i,o,l,c){o=i.memoizedState,l=l(c,o),l=l==null?o:S({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var pl={isMounted:function(i){return(i=i._reactInternals)?ti(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var c=Wt(),f=xr(i),p=nr(c,f);p.payload=o,l!=null&&(p.callback=l),o=Ar(i,p,f),o!==null&&(_n(o,i,f,c),dl(o,i,f))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var c=Wt(),f=xr(i),p=nr(c,f);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=Ar(i,p,f),o!==null&&(_n(o,i,f,c),dl(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Wt(),c=xr(i),f=nr(l,c);f.tag=2,o!=null&&(f.callback=o),o=Ar(i,f,c),o!==null&&(_n(o,i,c,l),dl(o,i,c))}};function rv(i,o,l,c,f,p,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,v):o.prototype&&o.prototype.isPureReactComponent?!oo(l,c)||!oo(f,p):!0}function iv(i,o,l){var c=!1,f=kr,p=o.contextType;return typeof p=="object"&&p!==null?p=dn(p):(f=Gt(o)?ri:At.current,c=o.contextTypes,p=(c=c!=null)?Ki(i,f):kr),o=new o(l,p),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=pl,i.stateNode=o,o._reactInternals=i,c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=p),o}function sv(i,o,l,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==i&&pl.enqueueReplaceState(o,o.state,null)}function $h(i,o,l,c){var f=i.stateNode;f.props=l,f.state=i.memoizedState,f.refs=nv,Vh(i);var p=o.contextType;typeof p=="object"&&p!==null?f.context=dn(p):(p=Gt(o)?ri:At.current,f.context=Ki(i,p)),f.state=i.memoizedState,p=o.getDerivedStateFromProps,typeof p=="function"&&(Uh(i,o,p,l),f.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&pl.enqueueReplaceState(f,f.state,null),fl(i,l,f,c),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function po(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var c=l.stateNode}if(!c)throw Error(n(147,i));var f=c,p=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===p?o.ref:(o=function(v){var w=f.refs;w===nv&&(w=f.refs={}),v===null?delete w[p]:w[p]=v},o._stringRef=p,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function ml(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function ov(i){var o=i._init;return o(i._payload)}function av(i){function o(b,_){if(i){var A=b.deletions;A===null?(b.deletions=[_],b.flags|=16):A.push(_)}}function l(b,_){if(!i)return null;for(;_!==null;)o(b,_),_=_.sibling;return null}function c(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function f(b,_){return b=Mr(b,_),b.index=0,b.sibling=null,b}function p(b,_,A){return b.index=A,i?(A=b.alternate,A!==null?(A=A.index,A<_?(b.flags|=2,_):A):(b.flags|=2,_)):(b.flags|=1048576,_)}function v(b){return i&&b.alternate===null&&(b.flags|=2),b}function w(b,_,A,H){return _===null||_.tag!==6?(_=Cd(A,b.mode,H),_.return=b,_):(_=f(_,A),_.return=b,_)}function I(b,_,A,H){var re=A.type;return re===q?V(b,_,A.props.children,H,A.key):_!==null&&(_.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Te&&ov(re)===_.type)?(H=f(_,A.props),H.ref=po(b,_,A),H.return=b,H):(H=Nl(A.type,A.key,A.props,null,b.mode,H),H.ref=po(b,_,A),H.return=b,H)}function P(b,_,A,H){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=Td(A,b.mode,H),_.return=b,_):(_=f(_,A.children||[]),_.return=b,_)}function V(b,_,A,H,re){return _===null||_.tag!==7?(_=fi(A,b.mode,H,re),_.return=b,_):(_=f(_,A),_.return=b,_)}function U(b,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Cd(""+_,b.mode,A),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case D:return A=Nl(_.type,_.key,_.props,null,b.mode,A),A.ref=po(b,null,_),A.return=b,A;case K:return _=Td(_,b.mode,A),_.return=b,_;case Te:var H=_._init;return U(b,H(_._payload),A)}if(zs(_)||ne(_))return _=fi(_,b.mode,A,null),_.return=b,_;ml(b,_)}return null}function F(b,_,A,H){var re=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return re!==null?null:w(b,_,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case D:return A.key===re?I(b,_,A,H):null;case K:return A.key===re?P(b,_,A,H):null;case Te:return re=A._init,F(b,_,re(A._payload),H)}if(zs(A)||ne(A))return re!==null?null:V(b,_,A,H,null);ml(b,A)}return null}function X(b,_,A,H,re){if(typeof H=="string"&&H!==""||typeof H=="number")return b=b.get(A)||null,w(_,b,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return b=b.get(H.key===null?A:H.key)||null,I(_,b,H,re);case K:return b=b.get(H.key===null?A:H.key)||null,P(_,b,H,re);case Te:var le=H._init;return X(b,_,A,le(H._payload),re)}if(zs(H)||ne(H))return b=b.get(A)||null,V(_,b,H,re,null);ml(_,H)}return null}function ee(b,_,A,H){for(var re=null,le=null,ue=_,me=_=0,wt=null;ue!==null&&me<A.length;me++){ue.index>me?(wt=ue,ue=null):wt=ue.sibling;var xe=F(b,ue,A[me],H);if(xe===null){ue===null&&(ue=wt);break}i&&ue&&xe.alternate===null&&o(b,ue),_=p(xe,_,me),le===null?re=xe:le.sibling=xe,le=xe,ue=wt}if(me===A.length)return l(b,ue),Ze&&si(b,me),re;if(ue===null){for(;me<A.length;me++)ue=U(b,A[me],H),ue!==null&&(_=p(ue,_,me),le===null?re=ue:le.sibling=ue,le=ue);return Ze&&si(b,me),re}for(ue=c(b,ue);me<A.length;me++)wt=X(ue,b,me,A[me],H),wt!==null&&(i&&wt.alternate!==null&&ue.delete(wt.key===null?me:wt.key),_=p(wt,_,me),le===null?re=wt:le.sibling=wt,le=wt);return i&&ue.forEach(function(Lr){return o(b,Lr)}),Ze&&si(b,me),re}function te(b,_,A,H){var re=ne(A);if(typeof re!="function")throw Error(n(150));if(A=re.call(A),A==null)throw Error(n(151));for(var le=re=null,ue=_,me=_=0,wt=null,xe=A.next();ue!==null&&!xe.done;me++,xe=A.next()){ue.index>me?(wt=ue,ue=null):wt=ue.sibling;var Lr=F(b,ue,xe.value,H);if(Lr===null){ue===null&&(ue=wt);break}i&&ue&&Lr.alternate===null&&o(b,ue),_=p(Lr,_,me),le===null?re=Lr:le.sibling=Lr,le=Lr,ue=wt}if(xe.done)return l(b,ue),Ze&&si(b,me),re;if(ue===null){for(;!xe.done;me++,xe=A.next())xe=U(b,xe.value,H),xe!==null&&(_=p(xe,_,me),le===null?re=xe:le.sibling=xe,le=xe);return Ze&&si(b,me),re}for(ue=c(b,ue);!xe.done;me++,xe=A.next())xe=X(ue,b,me,xe.value,H),xe!==null&&(i&&xe.alternate!==null&&ue.delete(xe.key===null?me:xe.key),_=p(xe,_,me),le===null?re=xe:le.sibling=xe,le=xe);return i&&ue.forEach(function(a_){return o(b,a_)}),Ze&&si(b,me),re}function lt(b,_,A,H){if(typeof A=="object"&&A!==null&&A.type===q&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case D:e:{for(var re=A.key,le=_;le!==null;){if(le.key===re){if(re=A.type,re===q){if(le.tag===7){l(b,le.sibling),_=f(le,A.props.children),_.return=b,b=_;break e}}else if(le.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Te&&ov(re)===le.type){l(b,le.sibling),_=f(le,A.props),_.ref=po(b,le,A),_.return=b,b=_;break e}l(b,le);break}else o(b,le);le=le.sibling}A.type===q?(_=fi(A.props.children,b.mode,H,A.key),_.return=b,b=_):(H=Nl(A.type,A.key,A.props,null,b.mode,H),H.ref=po(b,_,A),H.return=b,b=H)}return v(b);case K:e:{for(le=A.key;_!==null;){if(_.key===le)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){l(b,_.sibling),_=f(_,A.children||[]),_.return=b,b=_;break e}else{l(b,_);break}else o(b,_);_=_.sibling}_=Td(A,b.mode,H),_.return=b,b=_}return v(b);case Te:return le=A._init,lt(b,_,le(A._payload),H)}if(zs(A))return ee(b,_,A,H);if(ne(A))return te(b,_,A,H);ml(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(l(b,_.sibling),_=f(_,A),_.return=b,b=_):(l(b,_),_=Cd(A,b.mode,H),_.return=b,b=_),v(b)):l(b,_)}return lt}var Zi=av(!0),lv=av(!1),mo={},Mn=_r(mo),go=_r(mo),vo=_r(mo);function ai(i){if(i===mo)throw Error(n(174));return i}function jh(i,o){switch(We(vo,o),We(go,i),We(Mn,mo),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:$c(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=$c(o,i)}Ge(Mn),We(Mn,o)}function es(){Ge(Mn),Ge(go),Ge(vo)}function uv(i){ai(vo.current);var o=ai(Mn.current),l=$c(o,i.type);o!==l&&(We(go,i),We(Mn,l))}function zh(i){go.current===i&&(Ge(Mn),Ge(go))}var tt=_r(0);function gl(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Bh=[];function Hh(){for(var i=0;i<Bh.length;i++)Bh[i]._workInProgressVersionPrimary=null;Bh.length=0}var vl=W.ReactCurrentDispatcher,Wh=W.ReactCurrentBatchConfig,li=0,nt=null,ft=null,vt=null,yl=!1,yo=!1,wo=0,AT=0;function Ot(){throw Error(n(321))}function qh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Sn(i[l],o[l]))return!1;return!0}function Kh(i,o,l,c,f,p){if(li=p,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vl.current=i===null||i.memoizedState===null?xT:NT,i=l(c,f),yo){p=0;do{if(yo=!1,wo=0,25<=p)throw Error(n(301));p+=1,vt=ft=null,o.updateQueue=null,vl.current=MT,i=l(c,f)}while(yo)}if(vl.current=El,o=ft!==null&&ft.next!==null,li=0,vt=ft=nt=null,yl=!1,o)throw Error(n(300));return i}function Gh(){var i=wo!==0;return wo=0,i}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?nt.memoizedState=vt=i:vt=vt.next=i,vt}function fn(){if(ft===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var o=vt===null?nt.memoizedState:vt.next;if(o!==null)vt=o,ft=i;else{if(i===null)throw Error(n(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?nt.memoizedState=vt=i:vt=vt.next=i}return vt}function So(i,o){return typeof o=="function"?o(i):o}function Qh(i){var o=fn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=ft,f=c.baseQueue,p=l.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}c.baseQueue=f=p,l.pending=null}if(f!==null){p=f.next,c=c.baseState;var w=v=null,I=null,P=p;do{var V=P.lane;if((li&V)===V)I!==null&&(I=I.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),c=P.hasEagerState?P.eagerState:i(c,P.action);else{var U={lane:V,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};I===null?(w=I=U,v=c):I=I.next=U,nt.lanes|=V,ui|=V}P=P.next}while(P!==null&&P!==p);I===null?v=c:I.next=w,Sn(c,o.memoizedState)||(Qt=!0),o.memoizedState=c,o.baseState=v,o.baseQueue=I,l.lastRenderedState=c}if(i=l.interleaved,i!==null){f=i;do p=f.lane,nt.lanes|=p,ui|=p,f=f.next;while(f!==i)}else f===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Yh(i){var o=fn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=l.dispatch,f=l.pending,p=o.memoizedState;if(f!==null){l.pending=null;var v=f=f.next;do p=i(p,v.action),v=v.next;while(v!==f);Sn(p,o.memoizedState)||(Qt=!0),o.memoizedState=p,o.baseQueue===null&&(o.baseState=p),l.lastRenderedState=p}return[p,c]}function cv(){}function hv(i,o){var l=nt,c=fn(),f=o(),p=!Sn(c.memoizedState,f);if(p&&(c.memoizedState=f,Qt=!0),c=c.queue,Xh(pv.bind(null,l,c,i),[i]),c.getSnapshot!==o||p||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Eo(9,fv.bind(null,l,c,f,o),void 0,null),yt===null)throw Error(n(349));li&30||dv(l,o,f)}return f}function dv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function fv(i,o,l,c){o.value=l,o.getSnapshot=c,mv(o)&&gv(i)}function pv(i,o,l){return l(function(){mv(o)&&gv(i)})}function mv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Sn(i,l)}catch{return!0}}function gv(i){var o=tr(i,1);o!==null&&_n(o,i,1,-1)}function vv(i){var o=Ln();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:i},o.queue=i,i=i.dispatch=DT.bind(null,nt,i),[o.memoizedState,i]}function Eo(i,o,l,c){return i={tag:i,create:o,destroy:l,deps:c,next:null},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,o.lastEffect=i)),i}function yv(){return fn().memoizedState}function wl(i,o,l,c){var f=Ln();nt.flags|=i,f.memoizedState=Eo(1|o,l,void 0,c===void 0?null:c)}function Sl(i,o,l,c){var f=fn();c=c===void 0?null:c;var p=void 0;if(ft!==null){var v=ft.memoizedState;if(p=v.destroy,c!==null&&qh(c,v.deps)){f.memoizedState=Eo(o,l,p,c);return}}nt.flags|=i,f.memoizedState=Eo(1|o,l,p,c)}function wv(i,o){return wl(8390656,8,i,o)}function Xh(i,o){return Sl(2048,8,i,o)}function Sv(i,o){return Sl(4,2,i,o)}function Ev(i,o){return Sl(4,4,i,o)}function Iv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Cv(i,o,l){return l=l!=null?l.concat([i]):null,Sl(4,4,Iv.bind(null,o,i),l)}function Jh(){}function Tv(i,o){var l=fn();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&qh(o,c[1])?c[0]:(l.memoizedState=[i,o],i)}function _v(i,o){var l=fn();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&qh(o,c[1])?c[0]:(i=i(),l.memoizedState=[i,o],i)}function kv(i,o,l){return li&21?(Sn(l,o)||(l=Jm(),nt.lanes|=l,ui|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Qt=!0),i.memoizedState=l)}function OT(i,o){var l=Be;Be=l!==0&&4>l?l:4,i(!0);var c=Wh.transition;Wh.transition={};try{i(!1),o()}finally{Be=l,Wh.transition=c}}function bv(){return fn().memoizedState}function PT(i,o,l){var c=xr(i);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Rv(i))Av(o,l);else if(l=Jg(i,o,l,c),l!==null){var f=Wt();_n(l,i,c,f),Ov(l,o,c)}}function DT(i,o,l){var c=xr(i),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rv(i))Av(o,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=o.lastRenderedReducer,p!==null))try{var v=o.lastRenderedState,w=p(v,l);if(f.hasEagerState=!0,f.eagerState=w,Sn(w,v)){var I=o.interleaved;I===null?(f.next=f,Fh(o)):(f.next=I.next,I.next=f),o.interleaved=f;return}}catch{}finally{}l=Jg(i,o,f,c),l!==null&&(f=Wt(),_n(l,i,c,f),Ov(l,o,c))}}function Rv(i){var o=i.alternate;return i===nt||o!==null&&o===nt}function Av(i,o){yo=yl=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Ov(i,o,l){if(l&4194240){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,Jc(i,l)}}var El={readContext:dn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},xT={readContext:dn,useCallback:function(i,o){return Ln().memoizedState=[i,o===void 0?null:o],i},useContext:dn,useEffect:wv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,wl(4194308,4,Iv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return wl(4194308,4,i,o)},useInsertionEffect:function(i,o){return wl(4,2,i,o)},useMemo:function(i,o){var l=Ln();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var c=Ln();return o=l!==void 0?l(o):o,c.memoizedState=c.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},c.queue=i,i=i.dispatch=PT.bind(null,nt,i),[c.memoizedState,i]},useRef:function(i){var o=Ln();return i={current:i},o.memoizedState=i},useState:vv,useDebugValue:Jh,useDeferredValue:function(i){return Ln().memoizedState=i},useTransition:function(){var i=vv(!1),o=i[0];return i=OT.bind(null,i[1]),Ln().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var c=nt,f=Ln();if(Ze){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),yt===null)throw Error(n(349));li&30||dv(c,o,l)}f.memoizedState=l;var p={value:l,getSnapshot:o};return f.queue=p,wv(pv.bind(null,c,p,i),[i]),c.flags|=2048,Eo(9,fv.bind(null,c,p,l,o),void 0,null),l},useId:function(){var i=Ln(),o=yt.identifierPrefix;if(Ze){var l=er,c=Zn;l=(c&~(1<<32-wn(c)-1)).toString(32)+l,o=":"+o+"R"+l,l=wo++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=AT++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},NT={readContext:dn,useCallback:Tv,useContext:dn,useEffect:Xh,useImperativeHandle:Cv,useInsertionEffect:Sv,useLayoutEffect:Ev,useMemo:_v,useReducer:Qh,useRef:yv,useState:function(){return Qh(So)},useDebugValue:Jh,useDeferredValue:function(i){var o=fn();return kv(o,ft.memoizedState,i)},useTransition:function(){var i=Qh(So)[0],o=fn().memoizedState;return[i,o]},useMutableSource:cv,useSyncExternalStore:hv,useId:bv,unstable_isNewReconciler:!1},MT={readContext:dn,useCallback:Tv,useContext:dn,useEffect:Xh,useImperativeHandle:Cv,useInsertionEffect:Sv,useLayoutEffect:Ev,useMemo:_v,useReducer:Yh,useRef:yv,useState:function(){return Yh(So)},useDebugValue:Jh,useDeferredValue:function(i){var o=fn();return ft===null?o.memoizedState=i:kv(o,ft.memoizedState,i)},useTransition:function(){var i=Yh(So)[0],o=fn().memoizedState;return[i,o]},useMutableSource:cv,useSyncExternalStore:hv,useId:bv,unstable_isNewReconciler:!1};function ts(i,o){try{var l="",c=o;do l+=_e(c),c=c.return;while(c);var f=l}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:i,source:o,stack:f,digest:null}}function Zh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function ed(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var LT=typeof WeakMap=="function"?WeakMap:Map;function Pv(i,o,l){l=nr(-1,l),l.tag=3,l.payload={element:null};var c=o.value;return l.callback=function(){Rl||(Rl=!0,md=c),ed(i,o)},l}function Dv(i,o,l){l=nr(-1,l),l.tag=3;var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;l.payload=function(){return c(f)},l.callback=function(){ed(i,o)}}var p=i.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){ed(i,o),typeof c!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})}),l}function xv(i,o,l){var c=i.pingCache;if(c===null){c=i.pingCache=new LT;var f=new Set;c.set(o,f)}else f=c.get(o),f===void 0&&(f=new Set,c.set(o,f));f.has(l)||(f.add(l),i=YT.bind(null,i,o,l),o.then(i,i))}function Nv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Mv(i,o,l,c,f){return i.mode&1?(i.flags|=65536,i.lanes=f,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=nr(-1,1),o.tag=2,Ar(l,o,1))),l.lanes|=1),i)}var FT=W.ReactCurrentOwner,Qt=!1;function Ht(i,o,l,c){o.child=i===null?lv(o,null,l,c):Zi(o,i.child,l,c)}function Lv(i,o,l,c,f){l=l.render;var p=o.ref;return Ji(o,f),c=Kh(i,o,l,c,p,f),l=Gh(),i!==null&&!Qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,rr(i,o,f)):(Ze&&l&&Rh(o),o.flags|=1,Ht(i,o,c,f),o.child)}function Fv(i,o,l,c,f){if(i===null){var p=l.type;return typeof p=="function"&&!Id(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=p,Vv(i,o,p,c,f)):(i=Nl(l.type,null,c,o,o.mode,f),i.ref=o.ref,i.return=o,o.child=i)}if(p=i.child,!(i.lanes&f)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:oo,l(v,c)&&i.ref===o.ref)return rr(i,o,f)}return o.flags|=1,i=Mr(p,c),i.ref=o.ref,i.return=o,o.child=i}function Vv(i,o,l,c,f){if(i!==null){var p=i.memoizedProps;if(oo(p,c)&&i.ref===o.ref)if(Qt=!1,o.pendingProps=c=p,(i.lanes&f)!==0)i.flags&131072&&(Qt=!0);else return o.lanes=i.lanes,rr(i,o,f)}return td(i,o,l,c,f)}function Uv(i,o,l){var c=o.pendingProps,f=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(rs,on),on|=l;else{if(!(l&1073741824))return i=p!==null?p.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,We(rs,on),on|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:l,We(rs,on),on|=c}else p!==null?(c=p.baseLanes|l,o.memoizedState=null):c=l,We(rs,on),on|=c;return Ht(i,o,f,l),o.child}function $v(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function td(i,o,l,c,f){var p=Gt(l)?ri:At.current;return p=Ki(o,p),Ji(o,f),l=Kh(i,o,l,c,p,f),c=Gh(),i!==null&&!Qt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,rr(i,o,f)):(Ze&&c&&Rh(o),o.flags|=1,Ht(i,o,l,f),o.child)}function jv(i,o,l,c,f){if(Gt(l)){var p=!0;sl(o)}else p=!1;if(Ji(o,f),o.stateNode===null)Cl(i,o),iv(o,l,c),$h(o,l,c,f),c=!0;else if(i===null){var v=o.stateNode,w=o.memoizedProps;v.props=w;var I=v.context,P=l.contextType;typeof P=="object"&&P!==null?P=dn(P):(P=Gt(l)?ri:At.current,P=Ki(o,P));var V=l.getDerivedStateFromProps,U=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function";U||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==c||I!==P)&&sv(o,v,c,P),Rr=!1;var F=o.memoizedState;v.state=F,fl(o,c,v,f),I=o.memoizedState,w!==c||F!==I||Kt.current||Rr?(typeof V=="function"&&(Uh(o,l,V,c),I=o.memoizedState),(w=Rr||rv(o,l,w,c,F,I,P))?(U||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=I),v.props=c,v.state=I,v.context=P,c=w):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{v=o.stateNode,Zg(i,o),w=o.memoizedProps,P=o.type===o.elementType?w:In(o.type,w),v.props=P,U=o.pendingProps,F=v.context,I=l.contextType,typeof I=="object"&&I!==null?I=dn(I):(I=Gt(l)?ri:At.current,I=Ki(o,I));var X=l.getDerivedStateFromProps;(V=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==U||F!==I)&&sv(o,v,c,I),Rr=!1,F=o.memoizedState,v.state=F,fl(o,c,v,f);var ee=o.memoizedState;w!==U||F!==ee||Kt.current||Rr?(typeof X=="function"&&(Uh(o,l,X,c),ee=o.memoizedState),(P=Rr||rv(o,l,P,c,F,ee,I)||!1)?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ee,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ee,I)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=ee),v.props=c,v.state=ee,v.context=I,c=P):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(o.flags|=1024),c=!1)}return nd(i,o,l,c,p,f)}function nd(i,o,l,c,f,p){$v(i,o);var v=(o.flags&128)!==0;if(!c&&!v)return f&&Wg(o,l,!1),rr(i,o,p);c=o.stateNode,FT.current=o;var w=v&&typeof l.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,i!==null&&v?(o.child=Zi(o,i.child,null,p),o.child=Zi(o,null,w,p)):Ht(i,o,w,p),o.memoizedState=c.state,f&&Wg(o,l,!0),o.child}function zv(i){var o=i.stateNode;o.pendingContext?Bg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Bg(i,o.context,!1),jh(i,o.containerInfo)}function Bv(i,o,l,c,f){return Yi(),Dh(f),o.flags|=256,Ht(i,o,l,c),o.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function id(i){return{baseLanes:i,cachePool:null,transitions:null}}function Hv(i,o,l){var c=o.pendingProps,f=tt.current,p=!1,v=(o.flags&128)!==0,w;if((w=v)||(w=i!==null&&i.memoizedState===null?!1:(f&2)!==0),w?(p=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),We(tt,f&1),i===null)return Ph(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(v=c.children,i=c.fallback,p?(c=o.mode,p=o.child,v={mode:"hidden",children:v},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Ml(v,c,0,null),i=fi(i,c,l,null),p.return=o,i.return=o,p.sibling=i,o.child=p,o.child.memoizedState=id(l),o.memoizedState=rd,i):sd(o,v));if(f=i.memoizedState,f!==null&&(w=f.dehydrated,w!==null))return VT(i,o,v,c,w,f,l);if(p){p=c.fallback,v=o.mode,f=i.child,w=f.sibling;var I={mode:"hidden",children:c.children};return!(v&1)&&o.child!==f?(c=o.child,c.childLanes=0,c.pendingProps=I,o.deletions=null):(c=Mr(f,I),c.subtreeFlags=f.subtreeFlags&14680064),w!==null?p=Mr(w,p):(p=fi(p,v,l,null),p.flags|=2),p.return=o,c.return=o,c.sibling=p,o.child=c,c=p,p=o.child,v=i.child.memoizedState,v=v===null?id(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=i.childLanes&~l,o.memoizedState=rd,c}return p=i.child,i=p.sibling,c=Mr(p,{mode:"visible",children:c.children}),!(o.mode&1)&&(c.lanes=l),c.return=o,c.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=c,o.memoizedState=null,c}function sd(i,o){return o=Ml({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Il(i,o,l,c){return c!==null&&Dh(c),Zi(o,i.child,null,l),i=sd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function VT(i,o,l,c,f,p,v){if(l)return o.flags&256?(o.flags&=-257,c=Zh(Error(n(422))),Il(i,o,v,c)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(p=c.fallback,f=o.mode,c=Ml({mode:"visible",children:c.children},f,0,null),p=fi(p,f,v,null),p.flags|=2,c.return=o,p.return=o,c.sibling=p,o.child=c,o.mode&1&&Zi(o,i.child,null,v),o.child.memoizedState=id(v),o.memoizedState=rd,p);if(!(o.mode&1))return Il(i,o,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var w=c.dgst;return c=w,p=Error(n(419)),c=Zh(p,c,void 0),Il(i,o,v,c)}if(w=(v&i.childLanes)!==0,Qt||w){if(c=yt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,tr(i,f),_n(c,i,f,-1))}return Ed(),c=Zh(Error(n(421))),Il(i,o,v,c)}return f.data==="$?"?(o.flags|=128,o.child=i.child,o=XT.bind(null,i),f._reactRetry=o,null):(i=p.treeContext,sn=Tr(f.nextSibling),rn=o,Ze=!0,En=null,i!==null&&(cn[hn++]=Zn,cn[hn++]=er,cn[hn++]=ii,Zn=i.id,er=i.overflow,ii=o),o=sd(o,c.children),o.flags|=4096,o)}function Wv(i,o,l){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),Lh(i.return,o,l)}function od(i,o,l,c,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(p.isBackwards=o,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=f)}function qv(i,o,l){var c=o.pendingProps,f=c.revealOrder,p=c.tail;if(Ht(i,o,c.children,l),c=tt.current,c&2)c=c&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wv(i,l,o);else if(i.tag===19)Wv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}if(We(tt,c),!(o.mode&1))o.memoizedState=null;else switch(f){case"forwards":for(l=o.child,f=null;l!==null;)i=l.alternate,i!==null&&gl(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=o.child,o.child=null):(f=l.sibling,l.sibling=null),od(o,!1,f,l,p);break;case"backwards":for(l=null,f=o.child,o.child=null;f!==null;){if(i=f.alternate,i!==null&&gl(i)===null){o.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}od(o,!0,l,null,p);break;case"together":od(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Cl(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function rr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ui|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=Mr(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Mr(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function UT(i,o,l){switch(o.tag){case 3:zv(o),Yi();break;case 5:uv(o);break;case 1:Gt(o.type)&&sl(o);break;case 4:jh(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,f=o.memoizedProps.value;We(cl,c._currentValue),c._currentValue=f;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(We(tt,tt.current&1),o.flags|=128,null):l&o.child.childLanes?Hv(i,o,l):(We(tt,tt.current&1),i=rr(i,o,l),i!==null?i.sibling:null);We(tt,tt.current&1);break;case 19:if(c=(l&o.childLanes)!==0,i.flags&128){if(c)return qv(i,o,l);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(tt,tt.current),c)break;return null;case 22:case 23:return o.lanes=0,Uv(i,o,l)}return rr(i,o,l)}var Kv,ad,Gv,Qv;Kv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ad=function(){},Gv=function(i,o,l,c){var f=i.memoizedProps;if(f!==c){i=o.stateNode,ai(Mn.current);var p=null;switch(l){case"input":f=Q(i,f),c=Q(i,c),p=[];break;case"select":f=S({},f,{value:void 0}),c=S({},c,{value:void 0}),p=[];break;case"textarea":f=Uc(i,f),c=Uc(i,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(i.onclick=nl)}jc(l,c);var v;l=null;for(P in f)if(!c.hasOwnProperty(P)&&f.hasOwnProperty(P)&&f[P]!=null)if(P==="style"){var w=f[P];for(v in w)w.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?p||(p=[]):(p=p||[]).push(P,null));for(P in c){var I=c[P];if(w=f!=null?f[P]:void 0,c.hasOwnProperty(P)&&I!==w&&(I!=null||w!=null))if(P==="style")if(w){for(v in w)!w.hasOwnProperty(v)||I&&I.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in I)I.hasOwnProperty(v)&&w[v]!==I[v]&&(l||(l={}),l[v]=I[v])}else l||(p||(p=[]),p.push(P,l)),l=I;else P==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,w=w?w.__html:void 0,I!=null&&w!==I&&(p=p||[]).push(P,I)):P==="children"?typeof I!="string"&&typeof I!="number"||(p=p||[]).push(P,""+I):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(s.hasOwnProperty(P)?(I!=null&&P==="onScroll"&&Ke("scroll",i),p||w===I||(p=[])):(p=p||[]).push(P,I))}l&&(p=p||[]).push("style",l);var P=p;(o.updateQueue=P)&&(o.flags|=4)}},Qv=function(i,o,l,c){l!==c&&(o.flags|=4)};function Io(i,o){if(!Ze)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Pt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(o)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=l,o}function $T(i,o,l){var c=o.pendingProps;switch(Ah(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(o),null;case 1:return Gt(o.type)&&il(),Pt(o),null;case 3:return c=o.stateNode,es(),Ge(Kt),Ge(At),Hh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(ul(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,En!==null&&(yd(En),En=null))),ad(i,o),Pt(o),null;case 5:zh(o);var f=ai(vo.current);if(l=o.type,i!==null&&o.stateNode!=null)Gv(i,o,l,c,f),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(n(166));return Pt(o),null}if(i=ai(Mn.current),ul(o)){c=o.stateNode,l=o.type;var p=o.memoizedProps;switch(c[Nn]=o,c[ho]=p,i=(o.mode&1)!==0,l){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(f=0;f<lo.length;f++)Ke(lo[f],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":Me(c,p),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ke("invalid",c);break;case"textarea":Pm(c,p),Ke("invalid",c)}jc(l,p),f=null;for(var v in p)if(p.hasOwnProperty(v)){var w=p[v];v==="children"?typeof w=="string"?c.textContent!==w&&(p.suppressHydrationWarning!==!0&&tl(c.textContent,w,i),f=["children",w]):typeof w=="number"&&c.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&tl(c.textContent,w,i),f=["children",""+w]):s.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&Ke("scroll",c)}switch(l){case"input":Dn(c),Yn(c,p,!0);break;case"textarea":Dn(c),xm(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=nl)}c=f,o.updateQueue=c,c!==null&&(o.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Nm(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof c.is=="string"?i=v.createElement(l,{is:c.is}):(i=v.createElement(l),l==="select"&&(v=i,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):i=v.createElementNS(i,l),i[Nn]=o,i[ho]=c,Kv(i,o,!1,!1),o.stateNode=i;e:{switch(v=zc(l,c),l){case"dialog":Ke("cancel",i),Ke("close",i),f=c;break;case"iframe":case"object":case"embed":Ke("load",i),f=c;break;case"video":case"audio":for(f=0;f<lo.length;f++)Ke(lo[f],i);f=c;break;case"source":Ke("error",i),f=c;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),f=c;break;case"details":Ke("toggle",i),f=c;break;case"input":Me(i,c),f=Q(i,c),Ke("invalid",i);break;case"option":f=c;break;case"select":i._wrapperState={wasMultiple:!!c.multiple},f=S({},c,{value:void 0}),Ke("invalid",i);break;case"textarea":Pm(i,c),f=Uc(i,c),Ke("invalid",i);break;default:f=c}jc(l,f),w=f;for(p in w)if(w.hasOwnProperty(p)){var I=w[p];p==="style"?Fm(i,I):p==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Mm(i,I)):p==="children"?typeof I=="string"?(l!=="textarea"||I!=="")&&Bs(i,I):typeof I=="number"&&Bs(i,""+I):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(s.hasOwnProperty(p)?I!=null&&p==="onScroll"&&Ke("scroll",i):I!=null&&M(i,p,I,v))}switch(l){case"input":Dn(i),Yn(i,c,!1);break;case"textarea":Dn(i),xm(i);break;case"option":c.value!=null&&i.setAttribute("value",""+we(c.value));break;case"select":i.multiple=!!c.multiple,p=c.value,p!=null?Mi(i,!!c.multiple,p,!1):c.defaultValue!=null&&Mi(i,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=nl)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pt(o),null;case 6:if(i&&o.stateNode!=null)Qv(i,o,i.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(n(166));if(l=ai(vo.current),ai(Mn.current),ul(o)){if(c=o.stateNode,l=o.memoizedProps,c[Nn]=o,(p=c.nodeValue!==l)&&(i=rn,i!==null))switch(i.tag){case 3:tl(c.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&tl(c.nodeValue,l,(i.mode&1)!==0)}p&&(o.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Nn]=o,o.stateNode=c}return Pt(o),null;case 13:if(Ge(tt),c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ze&&sn!==null&&o.mode&1&&!(o.flags&128))Xg(),Yi(),o.flags|=98560,p=!1;else if(p=ul(o),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Nn]=o}else Yi(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Pt(o),p=!1}else En!==null&&(yd(En),En=null),p=!0;if(!p)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(c=c!==null,c!==(i!==null&&i.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(i===null||tt.current&1?pt===0&&(pt=3):Ed())),o.updateQueue!==null&&(o.flags|=4),Pt(o),null);case 4:return es(),ad(i,o),i===null&&uo(o.stateNode.containerInfo),Pt(o),null;case 10:return Mh(o.type._context),Pt(o),null;case 17:return Gt(o.type)&&il(),Pt(o),null;case 19:if(Ge(tt),p=o.memoizedState,p===null)return Pt(o),null;if(c=(o.flags&128)!==0,v=p.rendering,v===null)if(c)Io(p,!1);else{if(pt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(v=gl(i),v!==null){for(o.flags|=128,Io(p,!1),c=v.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=l,l=o.child;l!==null;)p=l,i=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=i,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,i=v.dependencies,p.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return We(tt,tt.current&1|2),o.child}i=i.sibling}p.tail!==null&&at()>is&&(o.flags|=128,c=!0,Io(p,!1),o.lanes=4194304)}else{if(!c)if(i=gl(v),i!==null){if(o.flags|=128,c=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Io(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ze)return Pt(o),null}else 2*at()-p.renderingStartTime>is&&l!==1073741824&&(o.flags|=128,c=!0,Io(p,!1),o.lanes=4194304);p.isBackwards?(v.sibling=o.child,o.child=v):(l=p.last,l!==null?l.sibling=v:o.child=v,p.last=v)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=at(),o.sibling=null,l=tt.current,We(tt,c?l&1|2:l&1),o):(Pt(o),null);case 22:case 23:return Sd(),c=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?on&1073741824&&(Pt(o),o.subtreeFlags&6&&(o.flags|=8192)):Pt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function jT(i,o){switch(Ah(o),o.tag){case 1:return Gt(o.type)&&il(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return es(),Ge(Kt),Ge(At),Hh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return zh(o),null;case 13:if(Ge(tt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Yi()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ge(tt),null;case 4:return es(),null;case 10:return Mh(o.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var Tl=!1,Dt=!1,zT=typeof WeakSet=="function"?WeakSet:Set,J=null;function ns(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){it(i,o,c)}else l.current=null}function ld(i,o,l){try{l()}catch(c){it(i,o,c)}}var Yv=!1;function BT(i,o){if(Sh=Ha,i=bg(),dh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var v=0,w=-1,I=-1,P=0,V=0,U=i,F=null;t:for(;;){for(var X;U!==l||f!==0&&U.nodeType!==3||(w=v+f),U!==p||c!==0&&U.nodeType!==3||(I=v+c),U.nodeType===3&&(v+=U.nodeValue.length),(X=U.firstChild)!==null;)F=U,U=X;for(;;){if(U===i)break t;if(F===l&&++P===f&&(w=v),F===p&&++V===c&&(I=v),(X=U.nextSibling)!==null)break;U=F,F=U.parentNode}U=X}l=w===-1||I===-1?null:{start:w,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(Eh={focusedElem:i,selectionRange:l},Ha=!1,J=o;J!==null;)if(o=J,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,J=i;else for(;J!==null;){o=J;try{var ee=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,lt=ee.memoizedState,b=o.stateNode,_=b.getSnapshotBeforeUpdate(o.elementType===o.type?te:In(o.type,te),lt);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=o.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(H){it(o,o.return,H)}if(i=o.sibling,i!==null){i.return=o.return,J=i;break}J=o.return}return ee=Yv,Yv=!1,ee}function Co(i,o,l){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&i)===i){var p=f.destroy;f.destroy=void 0,p!==void 0&&ld(o,l,p)}f=f.next}while(f!==c)}}function _l(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var c=l.create;l.destroy=c()}l=l.next}while(l!==o)}}function ud(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Xv(i){var o=i.alternate;o!==null&&(i.alternate=null,Xv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Nn],delete o[ho],delete o[_h],delete o[_T],delete o[kT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Jv(i){return i.tag===5||i.tag===3||i.tag===4}function Zv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cd(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=nl));else if(c!==4&&(i=i.child,i!==null))for(cd(i,o,l),i=i.sibling;i!==null;)cd(i,o,l),i=i.sibling}function hd(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(c!==4&&(i=i.child,i!==null))for(hd(i,o,l),i=i.sibling;i!==null;)hd(i,o,l),i=i.sibling}var Ct=null,Cn=!1;function Or(i,o,l){for(l=l.child;l!==null;)ey(i,o,l),l=l.sibling}function ey(i,o,l){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Va,l)}catch{}switch(l.tag){case 5:Dt||ns(l,o);case 6:var c=Ct,f=Cn;Ct=null,Or(i,o,l),Ct=c,Cn=f,Ct!==null&&(Cn?(i=Ct,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ct.removeChild(l.stateNode));break;case 18:Ct!==null&&(Cn?(i=Ct,l=l.stateNode,i.nodeType===8?Th(i.parentNode,l):i.nodeType===1&&Th(i,l),eo(i)):Th(Ct,l.stateNode));break;case 4:c=Ct,f=Cn,Ct=l.stateNode.containerInfo,Cn=!0,Or(i,o,l),Ct=c,Cn=f;break;case 0:case 11:case 14:case 15:if(!Dt&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&ld(l,o,v),f=f.next}while(f!==c)}Or(i,o,l);break;case 1:if(!Dt&&(ns(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(w){it(l,o,w)}Or(i,o,l);break;case 21:Or(i,o,l);break;case 22:l.mode&1?(Dt=(c=Dt)||l.memoizedState!==null,Or(i,o,l),Dt=c):Or(i,o,l);break;default:Or(i,o,l)}}function ty(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new zT),o.forEach(function(c){var f=JT.bind(null,i,c);l.has(c)||(l.add(c),c.then(f,f))})}}function Tn(i,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var p=i,v=o,w=v;e:for(;w!==null;){switch(w.tag){case 5:Ct=w.stateNode,Cn=!1;break e;case 3:Ct=w.stateNode.containerInfo,Cn=!0;break e;case 4:Ct=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(Ct===null)throw Error(n(160));ey(p,v,f),Ct=null,Cn=!1;var I=f.alternate;I!==null&&(I.return=null),f.return=null}catch(P){it(f,o,P)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ny(o,i),o=o.sibling}function ny(i,o){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Tn(o,i),Fn(i),c&4){try{Co(3,i,i.return),_l(3,i)}catch(te){it(i,i.return,te)}try{Co(5,i,i.return)}catch(te){it(i,i.return,te)}}break;case 1:Tn(o,i),Fn(i),c&512&&l!==null&&ns(l,l.return);break;case 5:if(Tn(o,i),Fn(i),c&512&&l!==null&&ns(l,l.return),i.flags&32){var f=i.stateNode;try{Bs(f,"")}catch(te){it(i,i.return,te)}}if(c&4&&(f=i.stateNode,f!=null)){var p=i.memoizedProps,v=l!==null?l.memoizedProps:p,w=i.type,I=i.updateQueue;if(i.updateQueue=null,I!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&ze(f,p),zc(w,v);var P=zc(w,p);for(v=0;v<I.length;v+=2){var V=I[v],U=I[v+1];V==="style"?Fm(f,U):V==="dangerouslySetInnerHTML"?Mm(f,U):V==="children"?Bs(f,U):M(f,V,U,P)}switch(w){case"input":tn(f,p);break;case"textarea":Dm(f,p);break;case"select":var F=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var X=p.value;X!=null?Mi(f,!!p.multiple,X,!1):F!==!!p.multiple&&(p.defaultValue!=null?Mi(f,!!p.multiple,p.defaultValue,!0):Mi(f,!!p.multiple,p.multiple?[]:"",!1))}f[ho]=p}catch(te){it(i,i.return,te)}}break;case 6:if(Tn(o,i),Fn(i),c&4){if(i.stateNode===null)throw Error(n(162));f=i.stateNode,p=i.memoizedProps;try{f.nodeValue=p}catch(te){it(i,i.return,te)}}break;case 3:if(Tn(o,i),Fn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{eo(o.containerInfo)}catch(te){it(i,i.return,te)}break;case 4:Tn(o,i),Fn(i);break;case 13:Tn(o,i),Fn(i),f=i.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(pd=at())),c&4&&ty(i);break;case 22:if(V=l!==null&&l.memoizedState!==null,i.mode&1?(Dt=(P=Dt)||V,Tn(o,i),Dt=P):Tn(o,i),Fn(i),c&8192){if(P=i.memoizedState!==null,(i.stateNode.isHidden=P)&&!V&&i.mode&1)for(J=i,V=i.child;V!==null;){for(U=J=V;J!==null;){switch(F=J,X=F.child,F.tag){case 0:case 11:case 14:case 15:Co(4,F,F.return);break;case 1:ns(F,F.return);var ee=F.stateNode;if(typeof ee.componentWillUnmount=="function"){c=F,l=F.return;try{o=c,ee.props=o.memoizedProps,ee.state=o.memoizedState,ee.componentWillUnmount()}catch(te){it(c,l,te)}}break;case 5:ns(F,F.return);break;case 22:if(F.memoizedState!==null){sy(U);continue}}X!==null?(X.return=F,J=X):sy(U)}V=V.sibling}e:for(V=null,U=i;;){if(U.tag===5){if(V===null){V=U;try{f=U.stateNode,P?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=U.stateNode,I=U.memoizedProps.style,v=I!=null&&I.hasOwnProperty("display")?I.display:null,w.style.display=Lm("display",v))}catch(te){it(i,i.return,te)}}}else if(U.tag===6){if(V===null)try{U.stateNode.nodeValue=P?"":U.memoizedProps}catch(te){it(i,i.return,te)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===i)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===i)break e;for(;U.sibling===null;){if(U.return===null||U.return===i)break e;V===U&&(V=null),U=U.return}V===U&&(V=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Tn(o,i),Fn(i),c&4&&ty(i);break;case 21:break;default:Tn(o,i),Fn(i)}}function Fn(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Jv(l)){var c=l;break e}l=l.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Bs(f,""),c.flags&=-33);var p=Zv(i);hd(i,p,f);break;case 3:case 4:var v=c.stateNode.containerInfo,w=Zv(i);cd(i,w,v);break;default:throw Error(n(161))}}catch(I){it(i,i.return,I)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function HT(i,o,l){J=i,ry(i)}function ry(i,o,l){for(var c=(i.mode&1)!==0;J!==null;){var f=J,p=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Tl;if(!v){var w=f.alternate,I=w!==null&&w.memoizedState!==null||Dt;w=Tl;var P=Dt;if(Tl=v,(Dt=I)&&!P)for(J=f;J!==null;)v=J,I=v.child,v.tag===22&&v.memoizedState!==null?oy(f):I!==null?(I.return=v,J=I):oy(f);for(;p!==null;)J=p,ry(p),p=p.sibling;J=f,Tl=w,Dt=P}iy(i)}else f.subtreeFlags&8772&&p!==null?(p.return=f,J=p):iy(i)}}function iy(i){for(;J!==null;){var o=J;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Dt||_l(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!Dt)if(l===null)c.componentDidMount();else{var f=o.elementType===o.type?l.memoizedProps:In(o.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=o.updateQueue;p!==null&&tv(o,p,c);break;case 3:var v=o.updateQueue;if(v!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}tv(o,v,l)}break;case 5:var w=o.stateNode;if(l===null&&o.flags&4){l=w;var I=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&l.focus();break;case"img":I.src&&(l.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var P=o.alternate;if(P!==null){var V=P.memoizedState;if(V!==null){var U=V.dehydrated;U!==null&&eo(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||o.flags&512&&ud(o)}catch(F){it(o,o.return,F)}}if(o===i){J=null;break}if(l=o.sibling,l!==null){l.return=o.return,J=l;break}J=o.return}}function sy(i){for(;J!==null;){var o=J;if(o===i){J=null;break}var l=o.sibling;if(l!==null){l.return=o.return,J=l;break}J=o.return}}function oy(i){for(;J!==null;){var o=J;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{_l(4,o)}catch(I){it(o,l,I)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var f=o.return;try{c.componentDidMount()}catch(I){it(o,f,I)}}var p=o.return;try{ud(o)}catch(I){it(o,p,I)}break;case 5:var v=o.return;try{ud(o)}catch(I){it(o,v,I)}}}catch(I){it(o,o.return,I)}if(o===i){J=null;break}var w=o.sibling;if(w!==null){w.return=o.return,J=w;break}J=o.return}}var WT=Math.ceil,kl=W.ReactCurrentDispatcher,dd=W.ReactCurrentOwner,pn=W.ReactCurrentBatchConfig,Oe=0,yt=null,ut=null,Tt=0,on=0,rs=_r(0),pt=0,To=null,ui=0,bl=0,fd=0,_o=null,Yt=null,pd=0,is=1/0,ir=null,Rl=!1,md=null,Pr=null,Al=!1,Dr=null,Ol=0,ko=0,gd=null,Pl=-1,Dl=0;function Wt(){return Oe&6?at():Pl!==-1?Pl:Pl=at()}function xr(i){return i.mode&1?Oe&2&&Tt!==0?Tt&-Tt:RT.transition!==null?(Dl===0&&(Dl=Jm()),Dl):(i=Be,i!==0||(i=window.event,i=i===void 0?16:ag(i.type)),i):1}function _n(i,o,l,c){if(50<ko)throw ko=0,gd=null,Error(n(185));Qs(i,l,c),(!(Oe&2)||i!==yt)&&(i===yt&&(!(Oe&2)&&(bl|=l),pt===4&&Nr(i,Tt)),Xt(i,c),l===1&&Oe===0&&!(o.mode&1)&&(is=at()+500,ol&&br()))}function Xt(i,o){var l=i.callbackNode;RC(i,o);var c=ja(i,i===yt?Tt:0);if(c===0)l!==null&&Qm(l),i.callbackNode=null,i.callbackPriority=0;else if(o=c&-c,i.callbackPriority!==o){if(l!=null&&Qm(l),o===1)i.tag===0?bT(ly.bind(null,i)):qg(ly.bind(null,i)),CT(function(){!(Oe&6)&&br()}),l=null;else{switch(Zm(c)){case 1:l=Qc;break;case 4:l=Ym;break;case 16:l=Fa;break;case 536870912:l=Xm;break;default:l=Fa}l=gy(l,ay.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function ay(i,o){if(Pl=-1,Dl=0,Oe&6)throw Error(n(327));var l=i.callbackNode;if(ss()&&i.callbackNode!==l)return null;var c=ja(i,i===yt?Tt:0);if(c===0)return null;if(c&30||c&i.expiredLanes||o)o=xl(i,c);else{o=c;var f=Oe;Oe|=2;var p=cy();(yt!==i||Tt!==o)&&(ir=null,is=at()+500,hi(i,o));do try{GT();break}catch(w){uy(i,w)}while(!0);Nh(),kl.current=p,Oe=f,ut!==null?o=0:(yt=null,Tt=0,o=pt)}if(o!==0){if(o===2&&(f=Yc(i),f!==0&&(c=f,o=vd(i,f))),o===1)throw l=To,hi(i,0),Nr(i,c),Xt(i,at()),l;if(o===6)Nr(i,c);else{if(f=i.current.alternate,!(c&30)&&!qT(f)&&(o=xl(i,c),o===2&&(p=Yc(i),p!==0&&(c=p,o=vd(i,p))),o===1))throw l=To,hi(i,0),Nr(i,c),Xt(i,at()),l;switch(i.finishedWork=f,i.finishedLanes=c,o){case 0:case 1:throw Error(n(345));case 2:di(i,Yt,ir);break;case 3:if(Nr(i,c),(c&130023424)===c&&(o=pd+500-at(),10<o)){if(ja(i,0)!==0)break;if(f=i.suspendedLanes,(f&c)!==c){Wt(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=Ch(di.bind(null,i,Yt,ir),o);break}di(i,Yt,ir);break;case 4:if(Nr(i,c),(c&4194240)===c)break;for(o=i.eventTimes,f=-1;0<c;){var v=31-wn(c);p=1<<v,v=o[v],v>f&&(f=v),c&=~p}if(c=f,c=at()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*WT(c/1960))-c,10<c){i.timeoutHandle=Ch(di.bind(null,i,Yt,ir),c);break}di(i,Yt,ir);break;case 5:di(i,Yt,ir);break;default:throw Error(n(329))}}}return Xt(i,at()),i.callbackNode===l?ay.bind(null,i):null}function vd(i,o){var l=_o;return i.current.memoizedState.isDehydrated&&(hi(i,o).flags|=256),i=xl(i,o),i!==2&&(o=Yt,Yt=l,o!==null&&yd(o)),i}function yd(i){Yt===null?Yt=i:Yt.push.apply(Yt,i)}function qT(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],p=f.getSnapshot;f=f.value;try{if(!Sn(p(),f))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Nr(i,o){for(o&=~fd,o&=~bl,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-wn(o),c=1<<l;i[l]=-1,o&=~c}}function ly(i){if(Oe&6)throw Error(n(327));ss();var o=ja(i,0);if(!(o&1))return Xt(i,at()),null;var l=xl(i,o);if(i.tag!==0&&l===2){var c=Yc(i);c!==0&&(o=c,l=vd(i,c))}if(l===1)throw l=To,hi(i,0),Nr(i,o),Xt(i,at()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,di(i,Yt,ir),Xt(i,at()),null}function wd(i,o){var l=Oe;Oe|=1;try{return i(o)}finally{Oe=l,Oe===0&&(is=at()+500,ol&&br())}}function ci(i){Dr!==null&&Dr.tag===0&&!(Oe&6)&&ss();var o=Oe;Oe|=1;var l=pn.transition,c=Be;try{if(pn.transition=null,Be=1,i)return i()}finally{Be=c,pn.transition=l,Oe=o,!(Oe&6)&&br()}}function Sd(){on=rs.current,Ge(rs)}function hi(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,IT(l)),ut!==null)for(l=ut.return;l!==null;){var c=l;switch(Ah(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&il();break;case 3:es(),Ge(Kt),Ge(At),Hh();break;case 5:zh(c);break;case 4:es();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:Mh(c.type._context);break;case 22:case 23:Sd()}l=l.return}if(yt=i,ut=i=Mr(i.current,null),Tt=on=o,pt=0,To=null,fd=bl=ui=0,Yt=_o=null,oi!==null){for(o=0;o<oi.length;o++)if(l=oi[o],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,p=l.pending;if(p!==null){var v=p.next;p.next=f,c.next=v}l.pending=c}oi=null}return i}function uy(i,o){do{var l=ut;try{if(Nh(),vl.current=El,yl){for(var c=nt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}yl=!1}if(li=0,vt=ft=nt=null,yo=!1,wo=0,dd.current=null,l===null||l.return===null){pt=1,To=o,ut=null;break}e:{var p=i,v=l.return,w=l,I=o;if(o=Tt,w.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var P=I,V=w,U=V.tag;if(!(V.mode&1)&&(U===0||U===11||U===15)){var F=V.alternate;F?(V.updateQueue=F.updateQueue,V.memoizedState=F.memoizedState,V.lanes=F.lanes):(V.updateQueue=null,V.memoizedState=null)}var X=Nv(v);if(X!==null){X.flags&=-257,Mv(X,v,w,p,o),X.mode&1&&xv(p,P,o),o=X,I=P;var ee=o.updateQueue;if(ee===null){var te=new Set;te.add(I),o.updateQueue=te}else ee.add(I);break e}else{if(!(o&1)){xv(p,P,o),Ed();break e}I=Error(n(426))}}else if(Ze&&w.mode&1){var lt=Nv(v);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Mv(lt,v,w,p,o),Dh(ts(I,w));break e}}p=I=ts(I,w),pt!==4&&(pt=2),_o===null?_o=[p]:_o.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,o&=-o,p.lanes|=o;var b=Pv(p,I,o);ev(p,b);break e;case 1:w=I;var _=p.type,A=p.stateNode;if(!(p.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Pr===null||!Pr.has(A)))){p.flags|=65536,o&=-o,p.lanes|=o;var H=Dv(p,w,o);ev(p,H);break e}}p=p.return}while(p!==null)}dy(l)}catch(re){o=re,ut===l&&l!==null&&(ut=l=l.return);continue}break}while(!0)}function cy(){var i=kl.current;return kl.current=El,i===null?El:i}function Ed(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(ui&268435455)&&!(bl&268435455)||Nr(yt,Tt)}function xl(i,o){var l=Oe;Oe|=2;var c=cy();(yt!==i||Tt!==o)&&(ir=null,hi(i,o));do try{KT();break}catch(f){uy(i,f)}while(!0);if(Nh(),Oe=l,kl.current=c,ut!==null)throw Error(n(261));return yt=null,Tt=0,pt}function KT(){for(;ut!==null;)hy(ut)}function GT(){for(;ut!==null&&!wC();)hy(ut)}function hy(i){var o=my(i.alternate,i,on);i.memoizedProps=i.pendingProps,o===null?dy(i):ut=o,dd.current=null}function dy(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=jT(l,o),l!==null){l.flags&=32767,ut=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pt=6,ut=null;return}}else if(l=$T(l,o,on),l!==null){ut=l;return}if(o=o.sibling,o!==null){ut=o;return}ut=o=i}while(o!==null);pt===0&&(pt=5)}function di(i,o,l){var c=Be,f=pn.transition;try{pn.transition=null,Be=1,QT(i,o,l,c)}finally{pn.transition=f,Be=c}return null}function QT(i,o,l,c){do ss();while(Dr!==null);if(Oe&6)throw Error(n(327));l=i.finishedWork;var f=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var p=l.lanes|l.childLanes;if(AC(i,p),i===yt&&(ut=yt=null,Tt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Al||(Al=!0,gy(Fa,function(){return ss(),null})),p=(l.flags&15990)!==0,l.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var v=Be;Be=1;var w=Oe;Oe|=4,dd.current=null,BT(i,l),ny(l,i),mT(Eh),Ha=!!Sh,Eh=Sh=null,i.current=l,HT(l),SC(),Oe=w,Be=v,pn.transition=p}else i.current=l;if(Al&&(Al=!1,Dr=i,Ol=f),p=i.pendingLanes,p===0&&(Pr=null),CC(l.stateNode),Xt(i,at()),o!==null)for(c=i.onRecoverableError,l=0;l<o.length;l++)f=o[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(Rl)throw Rl=!1,i=md,md=null,i;return Ol&1&&i.tag!==0&&ss(),p=i.pendingLanes,p&1?i===gd?ko++:(ko=0,gd=i):ko=0,br(),null}function ss(){if(Dr!==null){var i=Zm(Ol),o=pn.transition,l=Be;try{if(pn.transition=null,Be=16>i?16:i,Dr===null)var c=!1;else{if(i=Dr,Dr=null,Ol=0,Oe&6)throw Error(n(331));var f=Oe;for(Oe|=4,J=i.current;J!==null;){var p=J,v=p.child;if(J.flags&16){var w=p.deletions;if(w!==null){for(var I=0;I<w.length;I++){var P=w[I];for(J=P;J!==null;){var V=J;switch(V.tag){case 0:case 11:case 15:Co(8,V,p)}var U=V.child;if(U!==null)U.return=V,J=U;else for(;J!==null;){V=J;var F=V.sibling,X=V.return;if(Xv(V),V===P){J=null;break}if(F!==null){F.return=X,J=F;break}J=X}}}var ee=p.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var lt=te.sibling;te.sibling=null,te=lt}while(te!==null)}}J=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,J=v;else e:for(;J!==null;){if(p=J,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Co(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,J=b;break e}J=p.return}}var _=i.current;for(J=_;J!==null;){v=J;var A=v.child;if(v.subtreeFlags&2064&&A!==null)A.return=v,J=A;else e:for(v=_;J!==null;){if(w=J,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:_l(9,w)}}catch(re){it(w,w.return,re)}if(w===v){J=null;break e}var H=w.sibling;if(H!==null){H.return=w.return,J=H;break e}J=w.return}}if(Oe=f,br(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Va,i)}catch{}c=!0}return c}finally{Be=l,pn.transition=o}}return!1}function fy(i,o,l){o=ts(l,o),o=Pv(i,o,1),i=Ar(i,o,1),o=Wt(),i!==null&&(Qs(i,1,o),Xt(i,o))}function it(i,o,l){if(i.tag===3)fy(i,i,l);else for(;o!==null;){if(o.tag===3){fy(o,i,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pr===null||!Pr.has(c))){i=ts(l,i),i=Dv(o,i,1),o=Ar(o,i,1),i=Wt(),o!==null&&(Qs(o,1,i),Xt(o,i));break}}o=o.return}}function YT(i,o,l){var c=i.pingCache;c!==null&&c.delete(o),o=Wt(),i.pingedLanes|=i.suspendedLanes&l,yt===i&&(Tt&l)===l&&(pt===4||pt===3&&(Tt&130023424)===Tt&&500>at()-pd?hi(i,0):fd|=l),Xt(i,o)}function py(i,o){o===0&&(i.mode&1?(o=$a,$a<<=1,!($a&130023424)&&($a=4194304)):o=1);var l=Wt();i=tr(i,o),i!==null&&(Qs(i,o,l),Xt(i,l))}function XT(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),py(i,l)}function JT(i,o){var l=0;switch(i.tag){case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=i.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(o),py(i,l)}var my;my=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Kt.current)Qt=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return Qt=!1,UT(i,o,l);Qt=!!(i.flags&131072)}else Qt=!1,Ze&&o.flags&1048576&&Kg(o,ll,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;Cl(i,o),i=o.pendingProps;var f=Ki(o,At.current);Ji(o,l),f=Kh(null,o,c,i,f,l);var p=Gh();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Gt(c)?(p=!0,sl(o)):p=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Vh(o),f.updater=pl,o.stateNode=f,f._reactInternals=o,$h(o,c,i,l),o=nd(null,o,c,!0,p,l)):(o.tag=0,Ze&&p&&Rh(o),Ht(null,o,f,l),o=o.child),o;case 16:c=o.elementType;e:{switch(Cl(i,o),i=o.pendingProps,f=c._init,c=f(c._payload),o.type=c,f=o.tag=e_(c),i=In(c,i),f){case 0:o=td(null,o,c,i,l);break e;case 1:o=jv(null,o,c,i,l);break e;case 11:o=Lv(null,o,c,i,l);break e;case 14:o=Fv(null,o,c,In(c.type,i),l);break e}throw Error(n(306,c,""))}return o;case 0:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:In(c,f),td(i,o,c,f,l);case 1:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:In(c,f),jv(i,o,c,f,l);case 3:e:{if(zv(o),i===null)throw Error(n(387));c=o.pendingProps,p=o.memoizedState,f=p.element,Zg(i,o),fl(o,c,null,l);var v=o.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){f=ts(Error(n(423)),o),o=Bv(i,o,c,l,f);break e}else if(c!==f){f=ts(Error(n(424)),o),o=Bv(i,o,c,l,f);break e}else for(sn=Tr(o.stateNode.containerInfo.firstChild),rn=o,Ze=!0,En=null,l=lv(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yi(),c===f){o=rr(i,o,l);break e}Ht(i,o,c,l)}o=o.child}return o;case 5:return uv(o),i===null&&Ph(o),c=o.type,f=o.pendingProps,p=i!==null?i.memoizedProps:null,v=f.children,Ih(c,f)?v=null:p!==null&&Ih(c,p)&&(o.flags|=32),$v(i,o),Ht(i,o,v,l),o.child;case 6:return i===null&&Ph(o),null;case 13:return Hv(i,o,l);case 4:return jh(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=Zi(o,null,c,l):Ht(i,o,c,l),o.child;case 11:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:In(c,f),Lv(i,o,c,f,l);case 7:return Ht(i,o,o.pendingProps,l),o.child;case 8:return Ht(i,o,o.pendingProps.children,l),o.child;case 12:return Ht(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(c=o.type._context,f=o.pendingProps,p=o.memoizedProps,v=f.value,We(cl,c._currentValue),c._currentValue=v,p!==null)if(Sn(p.value,v)){if(p.children===f.children&&!Kt.current){o=rr(i,o,l);break e}}else for(p=o.child,p!==null&&(p.return=o);p!==null;){var w=p.dependencies;if(w!==null){v=p.child;for(var I=w.firstContext;I!==null;){if(I.context===c){if(p.tag===1){I=nr(-1,l&-l),I.tag=2;var P=p.updateQueue;if(P!==null){P=P.shared;var V=P.pending;V===null?I.next=I:(I.next=V.next,V.next=I),P.pending=I}}p.lanes|=l,I=p.alternate,I!==null&&(I.lanes|=l),Lh(p.return,l,o),w.lanes|=l;break}I=I.next}}else if(p.tag===10)v=p.type===o.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=l,w=v.alternate,w!==null&&(w.lanes|=l),Lh(v,l,o),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===o){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Ht(i,o,f.children,l),o=o.child}return o;case 9:return f=o.type,c=o.pendingProps.children,Ji(o,l),f=dn(f),c=c(f),o.flags|=1,Ht(i,o,c,l),o.child;case 14:return c=o.type,f=In(c,o.pendingProps),f=In(c.type,f),Fv(i,o,c,f,l);case 15:return Vv(i,o,o.type,o.pendingProps,l);case 17:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:In(c,f),Cl(i,o),o.tag=1,Gt(c)?(i=!0,sl(o)):i=!1,Ji(o,l),iv(o,c,f),$h(o,c,f,l),nd(null,o,c,!0,i,l);case 19:return qv(i,o,l);case 22:return Uv(i,o,l)}throw Error(n(156,o.tag))};function gy(i,o){return Gm(i,o)}function ZT(i,o,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(i,o,l,c){return new ZT(i,o,l,c)}function Id(i){return i=i.prototype,!(!i||!i.isReactComponent)}function e_(i){if(typeof i=="function")return Id(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Pe)return 11;if(i===De)return 14}return 2}function Mr(i,o){var l=i.alternate;return l===null?(l=mn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Nl(i,o,l,c,f,p){var v=2;if(c=i,typeof i=="function")Id(i)&&(v=1);else if(typeof i=="string")v=5;else e:switch(i){case q:return fi(l.children,f,p,o);case Z:v=8,f|=8;break;case Ie:return i=mn(12,l,o,f|2),i.elementType=Ie,i.lanes=p,i;case qe:return i=mn(13,l,o,f),i.elementType=qe,i.lanes=p,i;case $e:return i=mn(19,l,o,f),i.elementType=$e,i.lanes=p,i;case be:return Ml(l,f,p,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ue:v=10;break e;case Xe:v=9;break e;case Pe:v=11;break e;case De:v=14;break e;case Te:v=16,c=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=mn(v,l,o,f),o.elementType=i,o.type=c,o.lanes=p,o}function fi(i,o,l,c){return i=mn(7,i,c,o),i.lanes=l,i}function Ml(i,o,l,c){return i=mn(22,i,c,o),i.elementType=be,i.lanes=l,i.stateNode={isHidden:!1},i}function Cd(i,o,l){return i=mn(6,i,null,o),i.lanes=l,i}function Td(i,o,l){return o=mn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function t_(i,o,l,c,f){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xc(0),this.expirationTimes=Xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function _d(i,o,l,c,f,p,v,w,I){return i=new t_(i,o,l,w,I),o===1?(o=1,p===!0&&(o|=8)):o=0,p=mn(3,null,null,o),i.current=p,p.stateNode=i,p.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vh(p),i}function n_(i,o,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:c==null?null:""+c,children:i,containerInfo:o,implementation:l}}function vy(i){if(!i)return kr;i=i._reactInternals;e:{if(ti(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Gt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(Gt(l))return Hg(i,l,o)}return o}function yy(i,o,l,c,f,p,v,w,I){return i=_d(l,c,!0,i,f,p,v,w,I),i.context=vy(null),l=i.current,c=Wt(),f=xr(l),p=nr(c,f),p.callback=o??null,Ar(l,p,f),i.current.lanes=f,Qs(i,f,c),Xt(i,c),i}function Ll(i,o,l,c){var f=o.current,p=Wt(),v=xr(f);return l=vy(l),o.context===null?o.context=l:o.pendingContext=l,o=nr(p,v),o.payload={element:i},c=c===void 0?null:c,c!==null&&(o.callback=c),i=Ar(f,o,v),i!==null&&(_n(i,f,v,p),dl(i,f,v)),v}function Fl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function wy(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function kd(i,o){wy(i,o),(i=i.alternate)&&wy(i,o)}function r_(){return null}var Sy=typeof reportError=="function"?reportError:function(i){console.error(i)};function bd(i){this._internalRoot=i}Vl.prototype.render=bd.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Ll(i,o,null,null)},Vl.prototype.unmount=bd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ci(function(){Ll(null,i,null,null)}),o[Xn]=null}};function Vl(i){this._internalRoot=i}Vl.prototype.unstable_scheduleHydration=function(i){if(i){var o=ng();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Er.length&&o!==0&&o<Er[l].priority;l++);Er.splice(l,0,i),l===0&&sg(i)}};function Rd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ul(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function i_(i,o,l,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var P=Fl(v);p.call(P)}}var v=yy(o,c,i,0,null,!1,!1,"",Ey);return i._reactRootContainer=v,i[Xn]=v.current,uo(i.nodeType===8?i.parentNode:i),ci(),v}for(;f=i.lastChild;)i.removeChild(f);if(typeof c=="function"){var w=c;c=function(){var P=Fl(I);w.call(P)}}var I=_d(i,0,!1,null,null,!1,!1,"",Ey);return i._reactRootContainer=I,i[Xn]=I.current,uo(i.nodeType===8?i.parentNode:i),ci(function(){Ll(o,I,l,c)}),I}function $l(i,o,l,c,f){var p=l._reactRootContainer;if(p){var v=p;if(typeof f=="function"){var w=f;f=function(){var I=Fl(v);w.call(I)}}Ll(o,v,i,f)}else v=i_(l,o,i,f,c);return Fl(v)}eg=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Gs(o.pendingLanes);l!==0&&(Jc(o,l|1),Xt(o,at()),!(Oe&6)&&(is=at()+500,br()))}break;case 13:ci(function(){var c=tr(i,1);if(c!==null){var f=Wt();_n(c,i,1,f)}}),kd(i,1)}},Zc=function(i){if(i.tag===13){var o=tr(i,134217728);if(o!==null){var l=Wt();_n(o,i,134217728,l)}kd(i,134217728)}},tg=function(i){if(i.tag===13){var o=xr(i),l=tr(i,o);if(l!==null){var c=Wt();_n(l,i,o,c)}kd(i,o)}},ng=function(){return Be},rg=function(i,o){var l=Be;try{return Be=i,o()}finally{Be=l}},Wc=function(i,o,l){switch(o){case"input":if(tn(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==i&&c.form===i.form){var f=rl(c);if(!f)throw Error(n(90));ei(c),tn(c,f)}}}break;case"textarea":Dm(i,l);break;case"select":o=l.value,o!=null&&Mi(i,!!l.multiple,o,!1)}},jm=wd,zm=ci;var s_={usingClientEntryPoint:!1,Events:[fo,Wi,rl,Um,$m,wd]},bo={findFiberByHostInstance:ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},o_={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=qm(i),i===null?null:i.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||r_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Va=jl.inject(o_),xn=jl}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s_,Jt.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(o))throw Error(n(200));return n_(i,o,null,l)},Jt.createRoot=function(i,o){if(!Rd(i))throw Error(n(299));var l=!1,c="",f=Sy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=_d(i,1,!1,null,null,l,!1,c,f),i[Xn]=o.current,uo(i.nodeType===8?i.parentNode:i),new bd(o)},Jt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=qm(o),i=i===null?null:i.stateNode,i},Jt.flushSync=function(i){return ci(i)},Jt.hydrate=function(i,o,l){if(!Ul(o))throw Error(n(200));return $l(null,i,o,!0,l)},Jt.hydrateRoot=function(i,o,l){if(!Rd(i))throw Error(n(405));var c=l!=null&&l.hydratedSources||null,f=!1,p="",v=Sy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),o=yy(o,null,i,1,l??null,f,!1,p,v),i[Xn]=o.current,uo(i),c)for(i=0;i<c.length;i++)l=c[i],f=l._getVersion,f=f(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,f]:o.mutableSourceEagerHydrationData.push(l,f);return new Vl(o)},Jt.render=function(i,o,l){if(!Ul(o))throw Error(n(200));return $l(null,i,o,!1,l)},Jt.unmountComponentAtNode=function(i){if(!Ul(i))throw Error(n(40));return i._reactRootContainer?(ci(function(){$l(null,null,i,!1,function(){i._reactRootContainer=null,i[Xn]=null})}),!0):!1},Jt.unstable_batchedUpdates=wd,Jt.unstable_renderSubtreeIntoContainer=function(i,o,l,c){if(!Ul(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return $l(i,o,l,!1,c)},Jt.version="18.2.0-next-9e3b772b8-20220608",Jt}var Oy;function m_(){if(Oy)return Pd.exports;Oy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pd.exports=p_(),Pd.exports}var qw=m_();const g_=Hw(qw),v_="modulepreload",y_=function(t){return"/"+t},Py={},w_=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=y_(h),h in Py)return;Py[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":v_,m||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((E,T)=>{y.addEventListener("load",E),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var Dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},S_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],d=t[n++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,d=u?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,g=a>>2,y=(a&3)<<4|d>>4;let E=(d&15)<<2|m>>6,T=m&63;h||(T=64,u||(E=64)),r.push(n[g],n[y],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||d==null||m==null||y==null)throw new E_;const E=a<<2|d>>4;if(r.push(E),m!==64){const T=d<<4&240|m>>2;if(r.push(T),y!==64){const R=m<<6&192|y;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I_=function(t){const e=Kw(t);return Gw.encodeByteArray(e,!0)},wu=function(t){return I_(t).replace(/\./g,"")},Qw=function(t){try{return Gw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=()=>C_().__FIREBASE_DEFAULTS__,__=()=>{if(typeof process>"u"||typeof Dy>"u")return;const t=Dy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qw(t[1]);return e&&JSON.parse(e)},sp=()=>{try{return T_()||__()||k_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yw=t=>{var e,n;return(n=(e=sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b_=t=>{const e=Yw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xw=()=>{var t;return(t=sp())===null||t===void 0?void 0:t.config},Jw=t=>{var e;return(e=sp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wu(JSON.stringify(n)),wu(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function op(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D_(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ap(){try{return typeof indexedDB=="object"}catch{return!1}}function lp(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function Zw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x_,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi.prototype.create)}}class Oi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?N_(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Pn(s,d,r)}}function N_(t,e){return t.replace(M_,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const M_=/\{\$([^}]+)}/g;function L_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ko(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(xy(a)&&xy(u)){if(!Ko(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function No(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function F_(t,e){const n=new V_(t,e);return n.subscribe.bind(n)}class V_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U_(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Nd),s.error===void 0&&(s.error=Nd),s.complete===void 0&&(s.complete=Nd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=1e3,j_=2,z_=4*60*60*1e3,B_=.5;function Ny(t,e=$_,n=j_){const r=e*Math.pow(n,t),s=Math.round(B_*r*(Math.random()-.5)*2);return Math.min(z_,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new R_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q_(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W_(t){return t===pi?void 0:t}function q_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const G_={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Q_=Ne.INFO,Y_={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},X_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Y_[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ju{constructor(e){this.name=e,this._logLevel=Q_,this._logHandler=X_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const J_=(t,e)=>e.some(n=>t instanceof n);let My,Ly;function Z_(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ek(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,gf=new WeakMap,tS=new WeakMap,Md=new WeakMap,up=new WeakMap;function tk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Br(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&eS.set(n,t)}).catch(()=>{}),up.set(e,t),e}function nk(t){if(gf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});gf.set(t,e)}let vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rk(t){vf=t(vf)}function ik(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ld(this),e,...n);return tS.set(r,e.sort?e.sort():[e]),Br(r)}:ek().includes(t)?function(...e){return t.apply(Ld(this),e),Br(eS.get(this))}:function(...e){return Br(t.apply(Ld(this),e))}}function sk(t){return typeof t=="function"?ik(t):(t instanceof IDBTransaction&&nk(t),J_(t,Z_())?new Proxy(t,vf):t)}function Br(t){if(t instanceof IDBRequest)return tk(t);if(Md.has(t))return Md.get(t);const e=sk(t);return e!==t&&(Md.set(t,e),up.set(e,t)),e}const Ld=t=>up.get(t);function ok(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),d=Br(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Br(u.result),h.oldVersion,h.newVersion,Br(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const ak=["get","getKey","getAll","getAllKeys","count"],lk=["put","add","delete","clear"],Fd=new Map;function Fy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ak.includes(n)))return;const a=async function(u,...d){const h=this.transaction(u,s?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&h.done]))[0]};return Fd.set(e,a),a}rk(t=>({...t,get:(e,n,r)=>Fy(e,n)||t.get(e,n,r),has:(e,n)=>!!Fy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ck(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ck(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yf="@firebase/app",Vy="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Ju("@firebase/app"),hk="@firebase/app-compat",dk="@firebase/analytics-compat",fk="@firebase/analytics",pk="@firebase/app-check-compat",mk="@firebase/app-check",gk="@firebase/auth",vk="@firebase/auth-compat",yk="@firebase/database",wk="@firebase/database-compat",Sk="@firebase/functions",Ek="@firebase/functions-compat",Ik="@firebase/installations",Ck="@firebase/installations-compat",Tk="@firebase/messaging",_k="@firebase/messaging-compat",kk="@firebase/performance",bk="@firebase/performance-compat",Rk="@firebase/remote-config",Ak="@firebase/remote-config-compat",Ok="@firebase/storage",Pk="@firebase/storage-compat",Dk="@firebase/firestore",xk="@firebase/firestore-compat",Nk="firebase",Mk="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",Lk={[yf]:"fire-core",[hk]:"fire-core-compat",[fk]:"fire-analytics",[dk]:"fire-analytics-compat",[mk]:"fire-app-check",[pk]:"fire-app-check-compat",[gk]:"fire-auth",[vk]:"fire-auth-compat",[yk]:"fire-rtdb",[wk]:"fire-rtdb-compat",[Sk]:"fire-fn",[Ek]:"fire-fn-compat",[Ik]:"fire-iid",[Ck]:"fire-iid-compat",[Tk]:"fire-fcm",[_k]:"fire-fcm-compat",[kk]:"fire-perf",[bk]:"fire-perf-compat",[Rk]:"fire-rc",[Ak]:"fire-rc-compat",[Ok]:"fire-gcs",[Pk]:"fire-gcs-compat",[Dk]:"fire-fst",[xk]:"fire-fst-compat","fire-js":"fire-js",[Nk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,Sf=new Map;function Fk(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(Sf.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,t);for(const n of Su.values())Fk(n,t);return!0}function Pi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hr=new Oi("app","Firebase",Vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=Mk;function nS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hr.create("bad-app-name",{appName:String(s)});if(n||(n=Xw()),!n)throw Hr.create("no-options");const a=Su.get(s);if(a){if(Ko(n,a.options)&&Ko(r,a.config))return a;throw Hr.create("duplicate-app",{appName:s})}const u=new K_(s);for(const h of Sf.values())u.addComponent(h);const d=new Uk(n,r,u);return Su.set(s,d),d}function cp(t=wf){const e=Su.get(t);if(!e&&t===wf&&Xw())return nS();if(!e)throw Hr.create("no-app",{appName:t});return e}function yn(t,e,n){var r;let s=(r=Lk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(d.join(" "));return}Kn(new Rn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="firebase-heartbeat-database",jk=1,Go="firebase-heartbeat-store";let Vd=null;function rS(){return Vd||(Vd=ok($k,jk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Go)}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function zk(t){try{return await(await rS()).transaction(Go).objectStore(Go).get(iS(t))}catch(e){if(e instanceof Pn)Ei.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function Uy(t,e){try{const r=(await rS()).transaction(Go,"readwrite");await r.objectStore(Go).put(e,iS(t)),await r.done}catch(n){if(n instanceof Pn)Ei.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=1024,Hk=30*24*60*60*1e3;class Wk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$y();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Hk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$y(),{heartbeatsToSend:n,unsentEntries:r}=qk(this._heartbeatsCache.heartbeats),s=wu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function $y(){return new Date().toISOString().substring(0,10)}function qk(t,e=Bk){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),jy(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ap()?lp().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jy(t){return wu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){Kn(new Rn("platform-logger",e=>new uk(e),"PRIVATE")),Kn(new Rn("heartbeat",e=>new Wk(e),"PRIVATE")),yn(yf,Vy,t),yn(yf,Vy,"esm2017"),yn("fire-js","")}Gk("");var Qk="firebase",Yk="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn(Qk,Yk,"app");const Xk=(t,e)=>e.some(n=>t instanceof n);let zy,By;function Jk(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zk(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,Ef=new WeakMap,oS=new WeakMap,Ud=new WeakMap,hp=new WeakMap;function eb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Wr(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&sS.set(n,t)}).catch(()=>{}),hp.set(e,t),e}function tb(t){if(Ef.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Ef.set(t,e)}let If={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ef.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nb(t){If=t(If)}function rb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($d(this),e,...n);return oS.set(r,e.sort?e.sort():[e]),Wr(r)}:Zk().includes(t)?function(...e){return t.apply($d(this),e),Wr(sS.get(this))}:function(...e){return Wr(t.apply($d(this),e))}}function ib(t){return typeof t=="function"?rb(t):(t instanceof IDBTransaction&&tb(t),Xk(t,Jk())?new Proxy(t,If):t)}function Wr(t){if(t instanceof IDBRequest)return eb(t);if(Ud.has(t))return Ud.get(t);const e=ib(t);return e!==t&&(Ud.set(t,e),hp.set(e,t)),e}const $d=t=>hp.get(t);function sb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),d=Wr(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Wr(u.result),h.oldVersion,h.newVersion,Wr(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",()=>s())}).catch(()=>{}),d}const ob=["get","getKey","getAll","getAllKeys","count"],ab=["put","add","delete","clear"],jd=new Map;function Hy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ab.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ob.includes(n)))return;const a=async function(u,...d){const h=this.transaction(u,s?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&h.done]))[0]};return jd.set(e,a),a}nb(t=>({...t,get:(e,n,r)=>Hy(e,n)||t.get(e,n,r),has:(e,n)=>!!Hy(e,n)||t.has(e,n)}));const aS="@firebase/installations",dp="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=1e4,uS=`w:${dp}`,cS="FIS_v2",lb="https://firebaseinstallations.googleapis.com/v1",ub=60*60*1e3,cb="installations",hb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ii=new Oi(cb,hb,db);function hS(t){return t instanceof Pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS({projectId:t}){return`${lb}/projects/${t}/installations`}function fS(t){return{token:t.token,requestStatus:2,expiresIn:pb(t.expiresIn),creationTime:Date.now()}}async function pS(t,e){const r=(await e.json()).error;return Ii.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function mS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fb(t,{refreshToken:e}){const n=mS(t);return n.append("Authorization",mb(e)),n}async function gS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pb(t){return Number(t.replace("s","000"))}function mb(t){return`${cS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=dS(t),s=mS(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={fid:n,authVersion:cS,appId:t.appId,sdkVersion:uS},d={method:"POST",headers:s,body:JSON.stringify(u)},h=await gS(()=>fetch(r,d));if(h.ok){const m=await h.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:fS(m.authToken)}}else throw await pS("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=/^[cdef][\w-]{21}$/,Cf="";function wb(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Sb(t);return yb.test(n)?n:Cf}catch{return Cf}}function Sb(t){return vb(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map;function wS(t,e){const n=Zu(t);SS(n,e),Eb(n,e)}function SS(t,e){const n=yS.get(t);if(n)for(const r of n)r(e)}function Eb(t,e){const n=Ib();n&&n.postMessage({key:t,fid:e}),Cb()}let mi=null;function Ib(){return!mi&&"BroadcastChannel"in self&&(mi=new BroadcastChannel("[Firebase] FID Change"),mi.onmessage=t=>{SS(t.data.key,t.data.fid)}),mi}function Cb(){yS.size===0&&mi&&(mi.close(),mi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebase-installations-database",_b=1,Ci="firebase-installations-store";let zd=null;function fp(){return zd||(zd=sb(Tb,_b,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ci)}}})),zd}async function Eu(t,e){const n=Zu(t),s=(await fp()).transaction(Ci,"readwrite"),a=s.objectStore(Ci),u=await a.get(n);return await a.put(e,n),await s.done,(!u||u.fid!==e.fid)&&wS(t,e.fid),e}async function ES(t){const e=Zu(t),r=(await fp()).transaction(Ci,"readwrite");await r.objectStore(Ci).delete(e),await r.done}async function ec(t,e){const n=Zu(t),s=(await fp()).transaction(Ci,"readwrite"),a=s.objectStore(Ci),u=await a.get(n),d=e(u);return d===void 0?await a.delete(n):await a.put(d,n),await s.done,d&&(!u||u.fid!==d.fid)&&wS(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(t){let e;const n=await ec(t.appConfig,r=>{const s=kb(r),a=bb(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Cf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kb(t){const e=t||{fid:wb(),registrationStatus:0};return IS(e)}function bb(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ii.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Rb(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ab(t)}:{installationEntry:e}}async function Rb(t,e){try{const n=await gb(t,e);return Eu(t.appConfig,n)}catch(n){throw hS(n)&&n.customData.serverCode===409?await ES(t.appConfig):await Eu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ab(t){let e=await Wy(t.appConfig);for(;e.registrationStatus===1;)await vS(100),e=await Wy(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pp(t);return r||n}return e}function Wy(t){return ec(t,e=>{if(!e)throw Ii.create("installation-not-found");return IS(e)})}function IS(t){return Ob(t)?{fid:t.fid,registrationStatus:0}:t}function Ob(t){return t.registrationStatus===1&&t.registrationTime+lS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb({appConfig:t,heartbeatServiceProvider:e},n){const r=Db(t,n),s=fb(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={installation:{sdkVersion:uS,appId:t.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},h=await gS(()=>fetch(r,d));if(h.ok){const m=await h.json();return fS(m)}else throw await pS("Generate Auth Token",h)}function Db(t,{fid:e}){return`${dS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t,e=!1){let n;const r=await ec(t.appConfig,a=>{if(!CS(a))throw Ii.create("not-registered");const u=a.authToken;if(!e&&Mb(u))return a;if(u.requestStatus===1)return n=xb(t,e),a;{if(!navigator.onLine)throw Ii.create("app-offline");const d=Fb(a);return n=Nb(t,d),d}});return n?await n:r.authToken}async function xb(t,e){let n=await qy(t.appConfig);for(;n.authToken.requestStatus===1;)await vS(100),n=await qy(t.appConfig);const r=n.authToken;return r.requestStatus===0?mp(t,e):r}function qy(t){return ec(t,e=>{if(!CS(e))throw Ii.create("not-registered");const n=e.authToken;return Vb(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Nb(t,e){try{const n=await Pb(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Eu(t.appConfig,r),n}catch(n){if(hS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ES(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Eu(t.appConfig,r)}throw n}}function CS(t){return t!==void 0&&t.registrationStatus===2}function Mb(t){return t.requestStatus===2&&!Lb(t)}function Lb(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ub}function Fb(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Vb(t){return t.requestStatus===1&&t.requestTime+lS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t){const e=t,{installationEntry:n,registrationPromise:r}=await pp(e);return r?r.catch(console.error):mp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,e=!1){const n=t;return await jb(n),(await mp(n,e)).token}async function jb(t){const{registrationPromise:e}=await pp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){if(!t||!t.options)throw Bd("App Configuration");if(!t.name)throw Bd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bd(t){return Ii.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="installations",Bb="installations-internal",Hb=t=>{const e=t.getProvider("app").getImmediate(),n=zb(e),r=Pi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Wb=t=>{const e=t.getProvider("app").getImmediate(),n=Pi(e,TS).getImmediate();return{getId:()=>Ub(n),getToken:s=>$b(n,s)}};function qb(){Kn(new Rn(TS,Hb,"PUBLIC")),Kn(new Rn(Bb,Wb,"PRIVATE"))}qb();yn(aS,dp);yn(aS,dp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="analytics",Kb="firebase_id",Gb="origin",Qb=60*1e3,Yb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Ju("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},an=new Oi("analytics","Analytics",Xb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){if(!t.startsWith(gp)){const e=an.create("invalid-gtag-resource",{gtagURL:t});return Zt.warn(e.message),""}return t}function _S(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Zb(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eR(t,e){const n=Zb("firebase-js-sdk-policy",{createScriptURL:Jb}),r=document.createElement("script"),s=`${gp}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function tR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nR(t,e,n,r,s,a){const u=r[s];try{if(u)await e[u];else{const h=(await _S(n)).find(m=>m.measurementId===s);h&&await e[h.appId]}}catch(d){Zt.error(d)}t("config",s,a)}async function rR(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const d=await _S(n);for(const h of u){const m=d.find(y=>y.measurementId===h),g=m&&e[m.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){Zt.error(a)}}function iR(t,e,n,r){async function s(a,...u){try{if(a==="event"){const[d,h]=u;await rR(t,e,n,d,h)}else if(a==="config"){const[d,h]=u;await nR(t,e,n,r,d,h)}else if(a==="consent"){const[d]=u;t("consent","update",d)}else if(a==="get"){const[d,h,m]=u;t("get",d,h,m)}else if(a==="set"){const[d]=u;t("set",d)}else t(a,...u)}catch(d){Zt.error(d)}}return s}function sR(t,e,n,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=iR(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function oR(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(gp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=30,lR=1e3;class uR{constructor(e={},n=lR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kS=new uR;function cR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hR(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:cR(r)},a=Yb.replace("{app-id}",n),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let d="";try{const h=await u.json();!((e=h.error)===null||e===void 0)&&e.message&&(d=h.error.message)}catch{}throw an.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function dR(t,e=kS,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw an.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw an.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new mR;return setTimeout(async()=>{d.abort()},Qb),bS({appId:r,apiKey:s,measurementId:a},u,d,e)}async function bS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=kS){var a;const{appId:u,measurementId:d}=t;try{await fR(r,e)}catch(h){if(d)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:u,measurementId:d};throw h}try{const h=await hR(t);return s.deleteThrottleMetadata(u),h}catch(h){const m=h;if(!pR(m)){if(s.deleteThrottleMetadata(u),d)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:d};throw h}const g=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?Ny(n,s.intervalMillis,aR):Ny(n,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return s.setThrottleMetadata(u,y),Zt.debug(`Calling attemptFetch again in ${g} millis`),bS(t,y,r,s)}}function fR(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pR(t){if(!(t instanceof Pn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class mR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gR(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(){if(ap())try{await lp()}catch(t){return Zt.warn(an.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zt.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yR(t,e,n,r,s,a,u){var d;const h=dR(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Zt.error(T)),e.push(h);const m=vR().then(T=>{if(T)return r.getId()}),[g,y]=await Promise.all([h,m]);oR(a)||eR(a,g.measurementId),s("js",new Date);const E=(d=u==null?void 0:u.config)!==null&&d!==void 0?d:{};return E[Gb]="firebase",E.update=!0,y!=null&&(E[Kb]=y),s("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.app=e}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},Ky=[];const Gy={};let Hd="dataLayer",SR="gtag",Qy,RS,Yy=!1;function ER(){const t=[];if(op()&&t.push("This is a browser extension environment."),Zw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=an.create("invalid-analytics-context",{errorInfo:e});Zt.warn(n.message)}}function IR(t,e,n){ER();const r=t.options.appId;if(!r)throw an.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw an.create("no-api-key");if($o[r]!=null)throw an.create("already-exists",{id:r});if(!Yy){tR(Hd);const{wrappedGtag:a,gtagCore:u}=sR($o,Ky,Gy,Hd,SR);RS=a,Qy=u,Yy=!0}return $o[r]=yR(t,Ky,Gy,e,Qy,Hd,n),new wR(t)}function AS(t=cp()){t=zt(t);const e=Pi(t,Iu);return e.isInitialized()?e.getImmediate():OS(t)}function OS(t,e={}){const n=Pi(t,Iu);if(n.isInitialized()){const s=n.getImmediate();if(Ko(e,n.getOptions()))return s;throw an.create("already-initialized")}return n.initialize({options:e})}async function CR(){if(op()||!Zw()||!ap())return!1;try{return await lp()}catch{return!1}}function PS(t,e,n,r){t=zt(t),gR(RS,$o[t.app.options.appId],e,n,r).catch(s=>Zt.error(s))}const Xy="@firebase/analytics",Jy="0.10.0";function TR(){Kn(new Rn(Iu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return IR(r,s,n)},"PUBLIC")),Kn(new Rn("analytics-internal",t,"PRIVATE")),yn(Xy,Jy),yn(Xy,Jy,"esm2017");function t(e){try{const n=e.getProvider(Iu).getImmediate();return{logEvent:(r,s,a)=>PS(n,r,s,a)}}catch(n){throw an.create("interop-component-reg-failed",{reason:n})}}}TR();const _R=Object.freeze(Object.defineProperty({__proto__:null,getAnalytics:AS,initializeAnalytics:OS,isSupported:CR,logEvent:PS},Symbol.toStringTag,{value:"Module"}));var kR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,vp=vp||{},ye=kR||self;function tc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bR(t,e,n){return t.call.apply(t.bind,arguments)}function RR(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=bR:Vt=RR,Vt.apply(null,arguments)}function zl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,a){for(var u=Array(arguments.length-2),d=2;d<arguments.length;d++)u[d-2]=arguments[d];return e.prototype[s].apply(r,u)}}function Xr(){this.s=this.s,this.o=this.o}var AR=0;Xr.prototype.s=!1;Xr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),AR!=0)};Xr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(tc(r)){const s=t.length||0,a=r.length||0;t.length=s+a;for(let u=0;u<a;u++)t[s+u]=r[u]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var OR=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ye.addEventListener("test",()=>{},e),ye.removeEventListener("test",()=>{},e)}catch{}return t}();function Qo(t){return/^[\s\xa0]*$/.test(t)}function rc(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function $n(t){return rc().indexOf(t)!=-1}function wp(t){return wp[" "](t),t}wp[" "]=function(){};function PR(t,e){var n=TA;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var DR=$n("Opera"),Es=$n("Trident")||$n("MSIE"),xS=$n("Edge"),Tf=xS||Es,NS=$n("Gecko")&&!(rc().toLowerCase().indexOf("webkit")!=-1&&!$n("Edge"))&&!($n("Trident")||$n("MSIE"))&&!$n("Edge"),xR=rc().toLowerCase().indexOf("webkit")!=-1&&!$n("Edge");function MS(){var t=ye.document;return t?t.documentMode:void 0}var _f;e:{var Wd="",qd=function(){var t=rc();if(NS)return/rv:([^\);]+)(\)|;)/.exec(t);if(xS)return/Edge\/([\d\.]+)/.exec(t);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xR)return/WebKit\/(\S+)/.exec(t);if(DR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qd&&(Wd=qd?qd[1]:""),Es){var Kd=MS();if(Kd!=null&&Kd>parseFloat(Wd)){_f=String(Kd);break e}}_f=Wd}var kf;if(ye.document&&Es){var e0=MS();kf=e0||parseInt(_f,10)||void 0}else kf=void 0;var NR=kf;function Yo(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NS){e:{try{wp(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:MR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yo.$.h.call(this)}}It(Yo,Ut);var MR={2:"touch",3:"pen",4:"mouse"};Yo.prototype.h=function(){Yo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),LR=0;function FR(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++LR,this.fa=this.ia=!1}function sc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VR(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function LS(t){const e={};for(const n in t)e[n]=t[n];return e}const t0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let a=0;a<t0.length;a++)n=t0[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oc(t){this.src=t,this.g={},this.h=0}oc.prototype.add=function(t,e,n,r,s){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var u=Rf(t,e,r,s);return-1<u?(e=t[u],n||(e.ia=!1)):(e=new FR(e,this.src,a,!!r,s),e.ia=n,t.push(e)),e};function bf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=DS(r,e),a;(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(sc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Rf(t,e,n,r){for(var s=0;s<t.length;++s){var a=t[s];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==r)return s}return-1}var Ep="closure_lm_"+(1e6*Math.random()|0),Gd={};function VS(t,e,n,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)VS(t,e[a],n,r,s);return null}return n=jS(n),t&&t[ic]?t.O(e,n,nc(r)?!!r.capture:!1,s):UR(t,e,n,!1,r,s)}function UR(t,e,n,r,s,a){if(!e)throw Error("Invalid event type");var u=nc(s)?!!s.capture:!!s,d=Cp(t);if(d||(t[Ep]=d=new oc(t)),n=d.add(e,n,r,u,a),n.proxy)return n;if(r=$R(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OR||(s=u),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent($S(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $R(){function t(n){return e.call(t.src,t.listener,n)}const e=jR;return t}function US(t,e,n,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)US(t,e[a],n,r,s);else r=nc(r)?!!r.capture:!!r,n=jS(n),t&&t[ic]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=Rf(a,n,r,s),-1<n&&(sc(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Rf(e,n,r,s)),(n=-1<t?e[t]:null)&&Ip(n))}function Ip(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ic])bf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($S(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cp(e))?(bf(n,t),n.h==0&&(n.src=null,e[Ep]=null)):sc(t)}}}function $S(t){return t in Gd?Gd[t]:Gd[t]="on"+t}function jR(t,e){if(t.fa)t=!0;else{e=new Yo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ip(t),t=n.call(r,e)}return t}function Cp(t){return t=t[Ep],t instanceof oc?t:null}var Qd="__closure_events_fn_"+(1e9*Math.random()>>>0);function jS(t){return typeof t=="function"?t:(t[Qd]||(t[Qd]=function(e){return t.handleEvent(e)}),t[Qd])}function Et(){Xr.call(this),this.i=new oc(this),this.S=this,this.J=null}It(Et,Xr);Et.prototype[ic]=!0;Et.prototype.removeEventListener=function(t,e,n,r){US(this,t,e,n,r)};function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var s=e;e=new Ut(r,t),FS(e,s)}if(s=!0,n)for(var a=n.length-1;0<=a;a--){var u=e.g=n[a];s=Bl(u,r,!0,e)&&s}if(u=e.g=t,s=Bl(u,r,!0,e)&&s,s=Bl(u,r,!1,e)&&s,n)for(a=0;a<n.length;a++)u=e.g=n[a],s=Bl(u,r,!1,e)&&s}Et.prototype.N=function(){if(Et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sc(n[r]);delete t.g[e],t.h--}}this.J=null};Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Bl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==n){var d=u.listener,h=u.la||u.src;u.ia&&bf(t.i,u),s=d.call(h,r)!==!1&&s}}return s&&!r.defaultPrevented}var Tp=ye.JSON.stringify;class zR{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function BR(){var t=_p;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class HR{constructor(){this.h=this.g=null}add(e,n){const r=zS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zS=new zR(()=>new WR,t=>t.reset());class WR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qR(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function KR(t){ye.setTimeout(()=>{throw t},0)}let Xo,Jo=!1,_p=new HR,BS=()=>{const t=ye.Promise.resolve(void 0);Xo=()=>{t.then(GR)}};var GR=()=>{for(var t;t=BR();){try{t.h.call(t.g)}catch(n){KR(n)}var e=zS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jo=!1};function ac(t,e){Et.call(this),this.h=t||1,this.g=e||ye,this.j=Vt(this.qb,this),this.l=Date.now()}It(ac,Et);Y=ac.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(kp(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){ac.$.N.call(this),kp(this),delete this.g};function bp(t,e,n){if(typeof t=="function")n&&(t=Vt(t,n));else if(t&&typeof t.handleEvent=="function")t=Vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function HS(t){t.g=bp(()=>{t.g=null,t.i&&(t.i=!1,HS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class QR extends Xr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HS(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zo(t){Xr.call(this),this.h=t,this.g={}}It(Zo,Xr);var n0=[];function WS(t,e,n,r){Array.isArray(n)||(n&&(n0[0]=n.toString()),n=n0);for(var s=0;s<n.length;s++){var a=VS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function qS(t){Sp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ip(e)},t),t.g={}}Zo.prototype.N=function(){Zo.$.N.call(this),qS(this)};Zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lc(){this.g=!0}lc.prototype.Ea=function(){this.g=!1};function YR(t,e,n,r,s,a){t.info(function(){if(t.g)if(a)for(var u="",d=a.split("&"),h=0;h<d.length;h++){var m=d[h].split("=");if(1<m.length){var g=m[0];m=m[1];var y=g.split("_");u=2<=y.length&&y[1]=="type"?u+(g+"="+m+"&"):u+(g+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+u})}function XR(t,e,n,r,s,a,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+a+" "+u})}function ds(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ZR(t,n)+(r?" "+r:"")})}function JR(t,e){t.info(function(){return"TIMEOUT: "+e})}lc.prototype.info=function(){};function ZR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if(a!="noop"&&a!="stop"&&a!="close")for(var u=1;u<s.length;u++)s[u]=""}}}}return Tp(n)}catch{return e}}var Di={},r0=null;function uc(){return r0=r0||new Et}Di.Ta="serverreachability";function KS(t){Ut.call(this,Di.Ta,t)}It(KS,Ut);function ea(t){const e=uc();Rt(e,new KS(e))}Di.STAT_EVENT="statevent";function GS(t,e){Ut.call(this,Di.STAT_EVENT,t),this.stat=e}It(GS,Ut);function qt(t){const e=uc();Rt(e,new GS(e,t))}Di.Ua="timingevent";function QS(t,e){Ut.call(this,Di.Ua,t),this.size=e}It(QS,Ut);function ga(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var cc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rp(){}Rp.prototype.h=null;function i0(t){return t.h||(t.h=t.i())}function XS(){}var va={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ap(){Ut.call(this,"d")}It(Ap,Ut);function Op(){Ut.call(this,"c")}It(Op,Ut);var Af;function hc(){}It(hc,Rp);hc.prototype.g=function(){return new XMLHttpRequest};hc.prototype.i=function(){return{}};Af=new hc;function ya(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zo(this),this.P=eA,t=Tf?125:void 0,this.V=new ac(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JS}function JS(){this.i=null,this.g="",this.h=!1}var eA=45e3,Of={},Cu={};Y=ya.prototype;Y.setTimeout=function(t){this.P=t};function Pf(t,e,n){t.L=1,t.v=fc(cr(e)),t.s=n,t.S=!0,ZS(t,null)}function ZS(t,e){t.G=Date.now(),wa(t),t.A=cr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),aE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new JS,t.g=RE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new QR(Vt(t.Pa,t,t.g),t.O)),WS(t.U,t.g,"readystatechange",t.nb),e=t.I?LS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ea(),YR(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&jn(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const g=jn(this.g);var e=this.g.Ia();const y=this.g.da();if(!(3>g)&&(g!=3||Tf||this.g&&(this.h.h||this.g.ja()||l0(this.g)))){this.J||g!=4||e==7||(e==8||0>=y?ea(3):ea(2)),dc(this);var n=this.g.da();this.ca=n;t:if(eE(this)){var r=l0(this.g);t="";var s=r.length,a=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),jo(this);var u="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=n==200,XR(this.j,this.u,this.A,this.m,this.W,g,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,h=this.g;if((d=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qo(d)){var m=d;break t}}m=null}if(n=m)ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Df(this,n);else{this.i=!1,this.o=3,qt(12),gi(this),jo(this);break e}}this.S?(tE(this,g,u),Tf&&this.i&&g==3&&(WS(this.U,this.V,"tick",this.mb),this.V.start())):(ds(this.j,this.m,u,null),Df(this,u)),g==4&&gi(this),this.i&&!this.J&&(g==4?TE(this.l,this):(this.i=!1,wa(this)))}else EA(this.g),n==400&&0<u.indexOf("Unknown SID")?(this.o=3,qt(12)):(this.o=0,qt(13)),gi(this),jo(this)}}}catch{}finally{}};function eE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function tE(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=tA(t,n),s==Cu){e==4&&(t.o=4,qt(14),r=!1),ds(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Of){t.o=4,qt(15),ds(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ds(t.j,t.m,s,null),Df(t,s);eE(t)&&s!=Cu&&s!=Of&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lp(e),e.M=!0,qt(11))):(ds(t.j,t.m,n,"[Invalid Chunked Response]"),gi(t),jo(t))}Y.mb=function(){if(this.g){var t=jn(this.g),e=this.g.ja();this.C<e.length&&(dc(this),tE(this,t,e),this.i&&t!=4&&wa(this))}};function tA(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Cu:(n=Number(e.substring(n,r)),isNaN(n)?Of:(r+=1,r+n>e.length?Cu:(e=e.slice(r,r+n),t.C=r+n,e)))}Y.cancel=function(){this.J=!0,gi(this)};function wa(t){t.Y=Date.now()+t.P,nE(t,t.P)}function nE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ga(Vt(t.lb,t),e)}function dc(t){t.B&&(ye.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(JR(this.j,this.A),this.L!=2&&(ea(),qt(17)),gi(this),this.o=2,jo(this)):nE(this,this.Y-t)};function jo(t){t.l.H==0||t.J||TE(t.l,t)}function gi(t){dc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,kp(t.V),qS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Df(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||xf(n.i,t))){if(!t.K&&xf(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ku(n),gc(n);else break e;Mp(n),qt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=ga(Vt(n.ib,n),6e3));if(1>=cE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vi(n,11)}else if((t.K||n.g==t)&&ku(n),!Qo(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let m=s[e];if(n.V=m[0],m=m[1],n.H==2)if(m[0]=="c"){n.K=m[1],n.pa=m[2];const g=m[3];g!=null&&(n.ra=g,n.l.info("VER="+n.ra));const y=m[4];y!=null&&(n.Ga=y,n.l.info("SVER="+n.Ga));const E=m[5];E!=null&&typeof E=="number"&&0<E&&(r=1.5*E,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const T=t.g;if(T){const R=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var a=r.i;a.g||R.indexOf("spdy")==-1&&R.indexOf("quic")==-1&&R.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(Pp(a,a.h),a.h=null))}if(r.F){const k=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.Da=k,Qe(r.I,r.F,k))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var u=t;if(r.wa=bE(r,r.J?r.pa:null,r.Y),u.K){hE(r.i,u);var d=u,h=r.L;h&&d.setTimeout(h),d.B&&(dc(d),wa(d)),r.g=u}else IE(r);0<n.j.length&&vc(n)}else m[0]!="stop"&&m[0]!="close"||vi(n,7);else n.H==3&&(m[0]=="stop"||m[0]=="close"?m[0]=="stop"?vi(n,7):Np(n):m[0]!="noop"&&n.h&&n.h.Aa(m),n.A=0)}}ea(4)}catch{}}function nA(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(tc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function rA(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(tc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function rE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(tc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=rA(t),r=nA(t),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],n&&n[a],t)}var iE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var a=t[n].substring(0,r);s=t[n].substring(r+1)}else a=t[n];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function wi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wi){this.h=t.h,Tu(this,t.j),this.s=t.s,this.g=t.g,_u(this,t.m),this.l=t.l;var e=t.i,n=new ta;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),s0(this,n),this.o=t.o}else t&&(e=String(t).match(iE))?(this.h=!1,Tu(this,e[1]||"",!0),this.s=Mo(e[2]||""),this.g=Mo(e[3]||"",!0),_u(this,e[4]),this.l=Mo(e[5]||"",!0),s0(this,e[6]||"",!0),this.o=Mo(e[7]||"")):(this.h=!1,this.i=new ta(null,this.h))}wi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lo(e,o0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Lo(e,o0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Lo(n,n.charAt(0)=="/"?aA:oA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lo(n,uA)),t.join("")};function cr(t){return new wi(t)}function Tu(t,e,n){t.j=n?Mo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _u(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function s0(t,e,n){e instanceof ta?(t.i=e,cA(t.i,t.h)):(n||(e=Lo(e,lA)),t.i=new ta(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function fc(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var o0=/[#\/\?@]/g,oA=/[#\?:]/g,aA=/[#\?]/g,lA=/[#\?@]/g,uA=/#/g;function ta(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jr(t){t.g||(t.g=new Map,t.h=0,t.i&&iA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=ta.prototype;Y.add=function(t,e){Jr(this),this.i=null,t=Ps(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sE(t,e){Jr(t),e=Ps(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oE(t,e){return Jr(t),e=Ps(t,e),t.g.has(e)}Y.forEach=function(t,e){Jr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Y.ta=function(){Jr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let a=0;a<s.length;a++)n.push(e[r])}return n};Y.Z=function(t){Jr(this);let e=[];if(typeof t=="string")oE(this,t)&&(e=e.concat(this.g.get(Ps(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return Jr(this),this.i=null,t=Ps(this,t),oE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function aE(t,e,n){sE(t,e),0<n.length&&(t.i=null,t.g.set(Ps(t,e),yp(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const a=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var s=a;u[r]!==""&&(s+="="+encodeURIComponent(String(u[r]))),t.push(s)}}return this.i=t.join("&")};function Ps(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cA(t,e){e&&!t.j&&(Jr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(sE(this,r),aE(this,s,n))},t)),t.j=e}var hA=class{constructor(t,e){this.g=t,this.map=e}};function lE(t){this.l=t||dA,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dA=10;function uE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cE(t){return t.h?1:t.g?t.g.size:0}function xf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Pp(t,e){t.g?t.g.add(e):t.h=e}function hE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lE.prototype.cancel=function(){if(this.i=dE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return yp(t.i)}var fA=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function pA(){this.g=new fA}function mA(t,e,n){const r=n||"";try{rE(t,function(s,a){let u=s;nc(s)&&(u=Tp(s)),e.push(r+a+"="+encodeURIComponent(u))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function gA(t,e){const n=new lc;if(ye.Image){const r=new Image;r.onload=zl(Hl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zl(Hl,n,r,"TestLoadImage: error",!1,e),r.onabort=zl(Hl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zl(Hl,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hl(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Sa(t){this.l=t.fc||null,this.j=t.ob||!1}It(Sa,Rp);Sa.prototype.g=function(){return new pc(this.l,this.j)};Sa.prototype.i=function(t){return function(){return t}}({});function pc(t,e){Et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Dp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(pc,Et);var Dp=0;Y=pc.prototype;Y.open=function(t,e){if(this.readyState!=Dp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,na(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=Dp};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ea(this):na(this),this.readyState==3&&fE(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Ea(this))};Y.Ya=function(t){this.g&&(this.response=t,Ea(this))};Y.ka=function(){this.g&&Ea(this)};function Ea(t){t.readyState=4,t.l=null,t.j=null,t.A=null,na(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vA=ye.JSON.parse;function ot(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pE,this.L=this.M=!1}It(ot,Et);var pE="",yA=/^https?$/i,wA=["POST","PUT"];Y=ot.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Af.g(),this.C=this.u?i0(this.u):i0(Af),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){a0(this,a);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const a of r.keys())n.set(a,r.get(a));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(a=>a.toLowerCase()=="content-type"),s=ye.FormData&&t instanceof ye.FormData,!(0<=DS(wA,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of n)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vE(this),0<this.B&&((this.L=SA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=bp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){a0(this,a)}};function SA(t){return Es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof vp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))};function a0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mE(t),mc(t)}function mE(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),mc(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mc(this,!0)),ot.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?gE(this):this.kb())};Y.kb=function(){gE(this)};function gE(t){if(t.h&&typeof vp<"u"&&(!t.C[1]||jn(t)!=4||t.da()!=2)){if(t.v&&jn(t)==4)bp(t.La,0,t);else if(Rt(t,"readystatechange"),jn(t)==4){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var s=String(t.I).match(iE)[1]||null;!s&&ye.self&&ye.self.location&&(s=ye.self.location.protocol.slice(0,-1)),r=!yA.test(s?s.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var a=2<jn(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",mE(t)}}finally{mc(t)}}}}function mc(t,e){if(t.g){vE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function vE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function jn(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vA(e)}};function l0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case pE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function EA(t){const e={};t=(t.g&&2<=jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qo(t[r]))continue;var n=qR(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const a=e[s]||[];e[s]=a,a.push(n)}VR(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yE(t){let e="";return Sp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function xp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Ao(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wE(t){this.Ga=0,this.j=[],this.l=new lc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ao("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ao("baseRetryDelayMs",5e3,t),this.hb=Ao("retryDelaySeedMs",1e4,t),this.eb=Ao("forwardChannelMaxRetries",2,t),this.xa=Ao("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lE(t&&t.concurrentRequestLimit),this.Ja=new pA,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=wE.prototype;Y.ra=8;Y.H=1;function Np(t){if(SE(t),t.H==3){var e=t.W++,n=cr(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),Ia(t,n),e=new ya(t,t.l,e),e.L=2,e.v=fc(cr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.v,n=!0),n||(e.g=RE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wa(e)}kE(t)}function gc(t){t.g&&(Lp(t),t.g.cancel(),t.g=null)}function SE(t){gc(t),t.u&&(ye.clearTimeout(t.u),t.u=null),ku(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function vc(t){if(!uE(t.i)&&!t.m){t.m=!0;var e=t.Na;Xo||BS(),Jo||(Xo(),Jo=!0),_p.add(e,t),t.C=0}}function IA(t,e){return cE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ga(Vt(t.Na,t,e),_E(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new ya(this,this.l,t);let a=this.s;if(this.U&&(a?(a=LS(a),FS(a,this.U)):a=this.U),this.o!==null||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=EE(this,s,e),n=cr(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),Ia(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(yE(a)))+"&"+e:this.o&&xp(n,this.o,a)),Pp(this.i,s),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),s.aa=!0,Pf(s,n,null)):Pf(s,n,e),this.H=2}}else this.H==3&&(t?u0(this,t):this.j.length==0||uE(this.i)||u0(this))};function u0(t,e){var n;e?n=e.m:n=t.W++;const r=cr(t.I);Qe(r,"SID",t.K),Qe(r,"RID",n),Qe(r,"AID",t.V),Ia(t,r),t.o&&t.s&&xp(r,t.o,t.s),n=new ya(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=EE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Pp(t.i,n),Pf(n,r,e)}function Ia(t,e){t.na&&Sp(t.na,function(n,r){Qe(e,r,n)}),t.h&&rE({},function(n,r){Qe(e,r,n)})}function EE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vt(t.h.Va,t.h,t):null;e:{var s=t.j;let a=-1;for(;;){const u=["count="+n];a==-1?0<n?(a=s[0].g,u.push("ofs="+a)):a=0:u.push("ofs="+a);let d=!0;for(let h=0;h<n;h++){let m=s[h].g;const g=s[h].map;if(m-=a,0>m)a=Math.max(0,s[h].g-100),d=!1;else try{mA(g,u,"req"+m+"_")}catch{r&&r(g)}}if(d){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xo||BS(),Jo||(Xo(),Jo=!0),_p.add(e,t),t.A=0}}function Mp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ga(Vt(t.Ma,t),_E(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,CE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ga(Vt(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),gc(this),CE(this))};function Lp(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function CE(t){t.g=new ya(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cr(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),Ia(t,e),t.o&&t.s&&xp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=fc(cr(e)),n.s=null,n.S=!0,ZS(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,gc(this),Mp(this),qt(19))};function ku(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function TE(t,e){var n=null;if(t.g==e){ku(t),Lp(t),t.g=null;var r=2}else if(xf(t.i,e))n=e.F,hE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=uc(),Rt(r,new QS(r,n)),vc(t)}else IE(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&IA(t,e)||r==2&&Mp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:vi(t,5);break;case 4:vi(t,10);break;case 3:vi(t,6);break;default:vi(t,2)}}}function _E(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Vt(t.pb,t);n||(n=new wi("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Tu(n,"https"),fc(n)),gA(n.toString(),r)}else qt(2);t.H=0,t.h&&t.h.za(e),kE(t),SE(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function kE(t){if(t.H=0,t.ma=[],t.h){const e=dE(t.i);(e.length!=0||t.j.length!=0)&&(Zy(t.ma,e),Zy(t.ma,t.j),t.i.i.length=0,yp(t.j),t.j.length=0),t.h.ya()}}function bE(t,e,n){var r=n instanceof wi?cr(n):new wi(n);if(r.g!="")e&&(r.g=e+"."+r.g),_u(r,r.m);else{var s=ye.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new wi(null);r&&Tu(a,r),e&&(a.g=e),s&&_u(a,s),n&&(a.l=n),r=a}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.ra),Ia(t,r),r}function RE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ot(new Sa({ob:!0})):new ot(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function AE(){}Y=AE.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function bu(){if(Es&&!(10<=Number(NR)))throw Error("Environmental error: no available transport.")}bu.prototype.g=function(t,e){return new un(t,e)};function un(t,e){Et.call(this),this.g=new wE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ds(this)}It(un,Et);un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bE(t,null,t.Y),vc(t)};un.prototype.close=function(){Np(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Tp(t),t=n);e.j.push(new hA(e.fb++,t)),e.H==3&&vc(e)};un.prototype.N=function(){this.g.h=null,delete this.j,Np(this.g),delete this.g,un.$.N.call(this)};function OE(t){Ap.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(OE,Ap);function PE(){Op.call(this),this.status=1}It(PE,Op);function Ds(t){this.g=t}It(Ds,AE);Ds.prototype.Ba=function(){Rt(this.g,"a")};Ds.prototype.Aa=function(t){Rt(this.g,new OE(t))};Ds.prototype.za=function(t){Rt(this.g,new PE)};Ds.prototype.ya=function(){Rt(this.g,"b")};function CA(){this.blockSize=-1}function An(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(An,CA);An.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Yd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var a=t.g[3],u=e+(a^n&(s^a))+r[0]+3614090360&4294967295;e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[1]+3905402710&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[2]+606105819&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[3]+3250441966&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(a^n&(s^a))+r[4]+4118548399&4294967295,e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[5]+1200080426&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[6]+2821735955&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[7]+4249261313&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(a^n&(s^a))+r[8]+1770035416&4294967295,e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[9]+2336552879&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[10]+4294925233&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[11]+2304563134&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(a^n&(s^a))+r[12]+1804603682&4294967295,e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[13]+4254626195&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[14]+2792965006&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[15]+1236535329&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(s^a&(n^s))+r[1]+4129170786&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[6]+3225465664&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[11]+643717713&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[0]+3921069994&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(s^a&(n^s))+r[5]+3593408605&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[10]+38016083&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[15]+3634488961&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[4]+3889429448&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(s^a&(n^s))+r[9]+568446438&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[14]+3275163606&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[3]+4107603335&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[8]+1163531501&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(s^a&(n^s))+r[13]+2850285829&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[2]+4243563512&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[7]+1735328473&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[12]+2368359562&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(n^s^a)+r[5]+4294588738&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[8]+2272392833&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[11]+1839030562&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[14]+4259657740&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(n^s^a)+r[1]+2763975236&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[4]+1272893353&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[7]+4139469664&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[10]+3200236656&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(n^s^a)+r[13]+681279174&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[0]+3936430074&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[3]+3572445317&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[6]+76029189&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(n^s^a)+r[9]+3654602809&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[12]+3873151461&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[15]+530742520&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[2]+3299628645&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(s^(n|~a))+r[0]+4096336452&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[7]+1126891415&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[14]+2878612391&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[5]+4237533241&4294967295,n=s+(u<<21&4294967295|u>>>11),u=e+(s^(n|~a))+r[12]+1700485571&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[3]+2399980690&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[10]+4293915773&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[1]+2240044497&4294967295,n=s+(u<<21&4294967295|u>>>11),u=e+(s^(n|~a))+r[8]+1873313359&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[15]+4264355552&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[6]+2734768916&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[13]+1309151649&4294967295,n=s+(u<<21&4294967295|u>>>11),u=e+(s^(n|~a))+r[4]+4149444226&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[11]+3174756917&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[2]+718787259&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+a&4294967295}An.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(s==0)for(;a<=n;)Yd(this,t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<e;)if(r[s++]=t.charCodeAt(a++),s==this.blockSize){Yd(this,r),s=0;break}}else for(;a<e;)if(r[s++]=t[a++],s==this.blockSize){Yd(this,r),s=0;break}}this.h=s,this.i+=e};An.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function He(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var a=t[s]|0;r&&a==e||(n[s]=a,r=!1)}this.g=n}var TA={};function Fp(t){return-128<=t&&128>t?PR(t,function(e){return new He([e|0],0>e?-1:0)}):new He([t|0],0>t?-1:0)}function zn(t){if(isNaN(t)||!isFinite(t))return ps;if(0>t)return bt(zn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Nf;return new He(e,0)}function DE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bt(DE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zn(Math.pow(e,8)),r=ps,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),e);8>a?(a=zn(Math.pow(e,a)),r=r.R(a).add(zn(u))):(r=r.R(n),r=r.add(zn(u)))}return r}var Nf=4294967296,ps=Fp(0),Mf=Fp(1),c0=Fp(16777216);Y=He.prototype;Y.ea=function(){if(gn(this))return-bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Nf+r)*e,e*=Nf}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(sr(this))return"0";if(gn(this))return"-"+bt(this).toString(t);for(var e=zn(Math.pow(t,6)),n=this,r="";;){var s=Au(n,e).g;n=Ru(n,s.R(e));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,sr(n))return a+r;for(;6>a.length;)a="0"+a;r=a+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function sr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function gn(t){return t.h==-1}Y.X=function(t){return t=Ru(this,t),gn(t)?-1:sr(t)?0:1};function bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new He(n,~t.h).add(Mf)}Y.abs=function(){return gn(this)?bt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var a=r+(this.D(s)&65535)+(t.D(s)&65535),u=(a>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=u>>>16,a&=65535,u&=65535,n[s]=u<<16|a}return new He(n,n[n.length-1]&-2147483648?-1:0)};function Ru(t,e){return t.add(bt(e))}Y.R=function(t){if(sr(this)||sr(t))return ps;if(gn(this))return gn(t)?bt(this).R(bt(t)):bt(bt(this).R(t));if(gn(t))return bt(this.R(bt(t)));if(0>this.X(c0)&&0>t.X(c0))return zn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var a=this.D(r)>>>16,u=this.D(r)&65535,d=t.D(s)>>>16,h=t.D(s)&65535;n[2*r+2*s]+=u*h,Wl(n,2*r+2*s),n[2*r+2*s+1]+=a*h,Wl(n,2*r+2*s+1),n[2*r+2*s+1]+=u*d,Wl(n,2*r+2*s+1),n[2*r+2*s+2]+=a*d,Wl(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new He(n,0)};function Wl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Oo(t,e){this.g=t,this.h=e}function Au(t,e){if(sr(e))throw Error("division by zero");if(sr(t))return new Oo(ps,ps);if(gn(t))return e=Au(bt(t),e),new Oo(bt(e.g),bt(e.h));if(gn(e))return e=Au(t,bt(e)),new Oo(bt(e.g),e.h);if(30<t.g.length){if(gn(t)||gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mf,r=e;0>=r.X(t);)n=h0(n),r=h0(r);var s=os(n,1),a=os(r,1);for(r=os(r,2),n=os(n,2);!sr(r);){var u=a.add(r);0>=u.X(t)&&(s=s.add(n),a=u),r=os(r,1),n=os(n,1)}return e=Ru(t,s.R(e)),new Oo(s,e)}for(s=ps;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),a=zn(n),u=a.R(e);gn(u)||0<u.X(t);)n-=r,a=zn(n),u=a.R(e);sr(a)&&(a=Mf),s=s.add(a),t=Ru(t,u)}return new Oo(s,t)}Y.gb=function(t){return Au(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new He(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new He(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new He(n,this.h^t.h)};function h0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new He(n,t.h)}function os(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],a=0;a<r;a++)s[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new He(s,t.h)}bu.prototype.createWebChannel=bu.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;cc.NO_ERROR=0;cc.TIMEOUT=8;cc.HTTP_ERROR=6;YS.COMPLETE="complete";XS.EventType=va;va.OPEN="a";va.CLOSE="b";va.ERROR="c";va.MESSAGE="d";Et.prototype.listen=Et.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;An.prototype.digest=An.prototype.l;An.prototype.reset=An.prototype.reset;An.prototype.update=An.prototype.j;He.prototype.add=He.prototype.add;He.prototype.multiply=He.prototype.R;He.prototype.modulo=He.prototype.gb;He.prototype.compare=He.prototype.X;He.prototype.toNumber=He.prototype.ea;He.prototype.toString=He.prototype.toString;He.prototype.getBits=He.prototype.D;He.fromNumber=zn;He.fromString=DE;var _A=function(){return new bu},kA=function(){return uc()},Xd=cc,bA=YS,RA=Di,d0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AA=Sa,ql=XS,OA=ot,PA=An,ms=He;const f0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Ju("@firebase/firestore");function p0(){return Ti.logLevel}function ie(t,...e){if(Ti.logLevel<=Ne.DEBUG){const n=e.map(Vp);Ti.debug(`Firestore (${xs}): ${t}`,...n)}}function hr(t,...e){if(Ti.logLevel<=Ne.ERROR){const n=e.map(Vp);Ti.error(`Firestore (${xs}): ${t}`,...n)}}function Is(t,...e){if(Ti.logLevel<=Ne.WARN){const n=e.map(Vp);Ti.warn(`Firestore (${xs}): ${t}`,...n)}}function Vp(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: `+t;throw hr(e),new Error(e)}function Ye(t,e){t||ve()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}let xA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class NA{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new xE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Mt(e)}}class MA{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class LA{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new MA(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VA{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=a=>{a.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?s(a):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.T=n.token,new FA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=UA(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Cs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new gt(0,0))}static max(){return new Se(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),u=n.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class et extends ra{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new et(n)}static emptyPath(){return new et([])}}const $A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends ra{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return $A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ae(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ae(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ae(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new ae(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(et.fromString(e))}static fromName(e){return new he(et.fromString(e).popFirst(5))}static empty(){return new he(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new et(e.slice()))}}function jA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Gr(s,he.empty(),e)}function zA(t){return new Gr(t.readTime,t.key,-1)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(Se.min(),he.empty(),-1)}static max(){return new Gr(Se.max(),he.empty(),-1)}}function BA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==HA)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&n()},h=>r(h))}),u=!0,a===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next(g=>{u[m]=g,++d,d===a&&r(u)},g=>s(g))}})}static doWhile(e,n){return new z((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function Ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Up.ct=-1;function yc(t){return t==null}function Ou(t){return t===0&&1/t==-1/0}function qA(t){return typeof t=="number"&&Number.isInteger(t)&&!Ou(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ME(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kl(this.root,e,this.comparator,!0)}}class Kl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=a??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(t,e,n,r,s){return this}insert(t,e,n){return new _t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new kn([])}unionWith(e){let n=new $t(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LE("Invalid base64 string: "+s):s}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const KA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=KA.exec(t);if(Ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _i(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jp(t){const e=t.mapValue.fields.__previous_value__;return $p(e)?jp(e):e}function ia(t){const e=Qr(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,s,a,u,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=m}}class sa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl={mapValue:{}};function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:QA(t)?9007199254740991:10:ve()}function Gn(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ia(t).isEqual(ia(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Qr(r.timestampValue),u=Qr(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return _i(r.bytesValue).isEqual(_i(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ht(r.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ht(r.integerValue)===ht(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=ht(r.doubleValue),u=ht(s.doubleValue);return a===u?Ou(a)===Ou(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return Cs(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:return function(r,s){const a=r.mapValue.fields||{},u=s.mapValue.fields||{};if(m0(a)!==m0(u))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(u[d]===void 0||!Gn(a[d],u[d])))return!1;return!0}(t,e);default:return ve()}}function oa(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function Ts(t,e){if(t===e)return 0;const n=ki(t),r=ki(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=ht(s.integerValue||s.doubleValue),d=ht(a.integerValue||a.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return v0(t.timestampValue,e.timestampValue);case 4:return v0(ia(t),ia(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(s,a){const u=_i(s),d=_i(a);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),d=a.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Ve(u[h],d[h]);if(m!==0)return m}return Ve(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=Ve(ht(s.latitude),ht(a.latitude));return u!==0?u:Ve(ht(s.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const u=s.values||[],d=a.values||[];for(let h=0;h<u.length&&h<d.length;++h){const m=Ts(u[h],d[h]);if(m)return m}return Ve(u.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Gl.mapValue&&a===Gl.mapValue)return 0;if(s===Gl.mapValue)return 1;if(a===Gl.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const y=Ve(d[g],m[g]);if(y!==0)return y;const E=Ts(u[d[g]],h[m[g]]);if(E!==0)return E}return Ve(d.length,m.length)}(t.mapValue,e.mapValue);default:throw ve()}}function v0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Qr(t),r=Qr(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function _s(t){return Lf(t)}function Lf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Qr(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_i(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,he.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",a=!0;for(const u of r.values||[])a?a=!1:s+=",",s+=Lf(u);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const d of s)u?u=!1:a+=",",a+=`${d}:${Lf(r.fields[d])}`;return a+"}"}(t.mapValue):ve();var e,n}function Ff(t){return!!t&&"integerValue"in t}function zp(t){return!!t&&"arrayValue"in t}function y0(t){return!!t&&"nullValue"in t}function w0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function au(t){return!!t&&"mapValue"in t}function zo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(n)}setAll(e){let n=Ft.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=d.popLast()}u?r[d.lastSegment()]=zo(u):s.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];au(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new vn(zo(this.value))}}function FE(t){const e=[];return Ns(t.fields,(n,r)=>{const s=new Ft([n]);if(au(r)){const a=FE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,s,a,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Lt(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,r,s){return new Lt(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new Lt(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.position=e,this.inclusive=n}}function S0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=he.comparator(he.fromName(u.referenceValue),n.key):r=Ts(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function YA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class mt extends VE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JA(e,n,r):n==="array-contains"?new tO(e,r):n==="in"?new nO(e,r):n==="not-in"?new rO(e,r):n==="array-contains-any"?new iO(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZA(e,r):new eO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qn extends VE{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Qn(e,n)}matches(e){return UE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function UE(t){return t.op==="and"}function $E(t){return XA(t)&&UE(t)}function XA(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Vf(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+_s(t.value);if($E(t))return t.filters.map(e=>Vf(e)).join(",");{const e=t.filters.map(n=>Vf(n)).join(",");return`${t.op}(${e})`}}function jE(t,e){return t instanceof mt?function(n,r){return r instanceof mt&&n.op===r.op&&n.field.isEqual(r.field)&&Gn(n.value,r.value)}(t,e):t instanceof Qn?function(n,r){return r instanceof Qn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,a,u)=>s&&jE(a,r.filters[u]),!0):!1}(t,e):void ve()}function zE(t){return t instanceof mt?function(e){return`${e.field.canonicalString()} ${e.op} ${_s(e.value)}`}(t):t instanceof Qn?function(e){return e.op.toString()+" {"+e.getFilters().map(zE).join(" ,")+"}"}(t):"Filter"}class JA extends mt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZA extends mt{constructor(e,n){super(e,"in",n),this.keys=BE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eO extends mt{constructor(e,n){super(e,"not-in",n),this.keys=BE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class tO extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&oa(n.arrayValue,this.value)}}class nO extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oa(this.value.arrayValue,n)}}class rO extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oa(this.value.arrayValue,n)}}class iO extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.dt=null}}function I0(t,e=null,n=[],r=[],s=null,a=null,u=null){return new sO(t,e,n,r,s,a,u)}function Bp(t){const e=Ee(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_s(r)).join(",")),e.dt=n}return e.dt}function Hp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E0(t.startAt,e.startAt)&&E0(t.endAt,e.endAt)}function Uf(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],s=[],a=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=h,this.wt=null,this._t=null,this.startAt,this.endAt}}function oO(t,e,n,r,s,a,u,d){return new wc(t,e,n,r,s,a,u,d)}function HE(t){return new wc(t)}function C0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lO(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function uO(t){return t.collectionGroup!==null}function gs(t){const e=Ee(t);if(e.wt===null){e.wt=[];const n=lO(e),r=aO(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Bo(n)),e.wt.push(new Bo(Ft.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bo(Ft.keyField(),a))}}}return e.wt}function dr(t){const e=Ee(t);if(!e._t)if(e.limitType==="F")e._t=I0(e.path,e.collectionGroup,gs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of gs(e)){const u=a.dir==="desc"?"asc":"desc";n.push(new Bo(a.field,u))}const r=e.endAt?new Pu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Pu(e.startAt.position,e.startAt.inclusive):null;e._t=I0(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function $f(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sc(t,e){return Hp(dr(t),dr(e))&&t.limitType===e.limitType}function WE(t){return`${Bp(dr(t))}|lt:${t.limitType}`}function jf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>zE(r)).join(", ")}]`),yc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_s(r)).join(",")),`Target(${n})`}(dr(t))}; limitType=${t.limitType})`}function Ec(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):he.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of gs(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,a,u){const d=S0(s,a,u);return s.inclusive?d<=0:d<0}(n.startAt,gs(n),r)||n.endAt&&!function(s,a,u){const d=S0(s,a,u);return s.inclusive?d>=0:d>0}(n.endAt,gs(n),r))}(t,e)}function cO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qE(t){return(e,n)=>{let r=!1;for(const s of gs(t)){const a=hO(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function hO(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,a,u){const d=a.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Ts(d,h):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new rt(he.comparator);function fr(){return dO}const KE=new rt(he.comparator);function Fo(...t){let e=KE;for(const n of t)e=e.insert(n.key,n);return e}function GE(t){let e=KE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yi(){return Ho()}function QE(){return Ho()}function Ho(){return new Ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const fO=new rt(he.comparator),pO=new $t(he.comparator);function Re(...t){let e=pO;for(const n of t)e=e.add(n);return e}const mO=new $t(Ve);function gO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function XE(t){return{integerValue:""+t}}function vO(t,e){return qA(e)?XE(e):YE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this._=void 0}}function yO(t,e,n){return t instanceof Du?function(r,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&$p(s)&&(s=jp(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof aa?ZE(t,e):t instanceof la?e1(t,e):function(r,s){const a=JE(r,s),u=T0(a)+T0(r.gt);return Ff(a)&&Ff(r.gt)?XE(u):YE(r.serializer,u)}(t,e)}function wO(t,e,n){return t instanceof aa?ZE(t,e):t instanceof la?e1(t,e):n}function JE(t,e){return t instanceof xu?Ff(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Du extends Ic{}class aa extends Ic{constructor(e){super(),this.elements=e}}function ZE(t,e){const n=t1(e);for(const r of t.elements)n.some(s=>Gn(s,r))||n.push(r);return{arrayValue:{values:n}}}class la extends Ic{constructor(e){super(),this.elements=e}}function e1(t,e){let n=t1(e);for(const r of t.elements)n=n.filter(s=>!Gn(s,r));return{arrayValue:{values:n}}}class xu extends Ic{constructor(e,n){super(),this.serializer=e,this.gt=n}}function T0(t){return ht(t.integerValue||t.doubleValue)}function t1(t){return zp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SO(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof aa&&r instanceof aa||n instanceof la&&r instanceof la?Cs(n.elements,r.elements,Gn):n instanceof xu&&r instanceof xu?Gn(n.gt,r.gt):n instanceof Du&&r instanceof Du}(t.transform,e.transform)}class EO{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cc{}function n1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i1(t.key,lr.none()):new _a(t.key,t.data,lr.none());{const n=t.data,r=vn.empty();let s=new $t(Ft.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new xi(t.key,r,new kn(s.toArray()),lr.none())}}function IO(t,e,n){t instanceof _a?function(r,s,a){const u=r.value.clone(),d=k0(r.fieldTransforms,s,a.transformResults);u.setAll(d),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof xi?function(r,s,a){if(!lu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const u=k0(r.fieldTransforms,s,a.transformResults),d=s.data;d.setAll(r1(r)),d.setAll(u),s.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Wo(t,e,n,r){return t instanceof _a?function(s,a,u,d){if(!lu(s.precondition,a))return u;const h=s.value.clone(),m=b0(s.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof xi?function(s,a,u,d){if(!lu(s.precondition,a))return u;const h=b0(s.fieldTransforms,d,a),m=a.data;return m.setAll(r1(s)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,u){return lu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function CO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=JE(r.transform,s||null);a!=null&&(n===null&&(n=vn.empty()),n.set(r.field,a))}return n||null}function _0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Cs(n,r,(s,a)=>SO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _a extends Cc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xi extends Cc{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function r1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function k0(t,e,n){const r=new Map;Ye(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,wO(u,d,n[s]))}return r}function b0(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,yO(a,u,e))}return r}class i1 extends Cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TO extends Cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&IO(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QE();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(s.key)?null:d;const h=n1(u,d);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(n,r)=>_0(n,r))&&Cs(this.baseMutations,e.baseMutations,(n,r)=>_0(n,r))}}class Wp{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length);let s=fO;const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Wp(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ae;function RO(t){switch(t){default:return ve();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function s1(t){if(t===void 0)return hr("GRPC error has no .code"),j.UNKNOWN;switch(t){case ct.OK:return j.OK;case ct.CANCELLED:return j.CANCELLED;case ct.UNKNOWN:return j.UNKNOWN;case ct.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ct.INTERNAL:return j.INTERNAL;case ct.UNAVAILABLE:return j.UNAVAILABLE;case ct.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ct.NOT_FOUND:return j.NOT_FOUND;case ct.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ct.ABORTED:return j.ABORTED;case ct.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ct.DATA_LOSS:return j.DATA_LOSS;default:return ve()}}(Ae=ct||(ct={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ql}static getOrCreateInstance(){return Ql===null&&(Ql=new qp),Ql}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ql=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new ms([4294967295,4294967295],0);function R0(t){const e=AO().encode(t),n=new PA;return n.update(e),new Uint8Array(n.digest())}function A0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ms([n,r],0),new ms([s,a],0)]}class Kp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vo(`Invalid padding: ${n}`);if(r<0)throw new Vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ms.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(ms.fromNumber(r)));return s.compare(OO)===1&&(s=new ms([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=R0(e),[r,s]=A0(n);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,s,a);if(!this.At(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Kp(a,s,n);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.It===0)return;const n=R0(e),[r,s]=A0(n);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,s,a);this.Rt(u)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tc(Se.min(),s,new rt(Ve),fr(),Re())}}class ka{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ka(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class o1{constructor(e,n){this.targetId=e,this.Vt=n}}class a1{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class O0{constructor(){this.St=0,this.Dt=D0(),this.Ct=Bt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Re(),n=Re(),r=Re();return this.Dt.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ve()}}),new ka(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=D0()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class PO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=fr(),this.zt=P0(),this.Wt=new rt(Ve)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,a=this.se(r);if(a){const u=a.target;if(Uf(u))if(s===0){const d=new he(u.path);this.Yt(r,d,Lt.newNoDocument(d,Se.min()))}else Ye(s===1);else{const d=this.ie(r);if(d!==s){const h=this.re(e,d);if(h!==0){this.ee(r);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,m)}(n=qp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(m,g,y){var E,T,R,k,C,O;const L={localCacheCount:g,existenceFilterCount:y.count},M=y.unchangedNames;return M&&(L.bloomFilter={applied:m===0,hashCount:(E=M==null?void 0:M.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(k=(R=(T=M==null?void 0:M.bits)===null||T===void 0?void 0:T.bitmap)===null||R===void 0?void 0:R.length)!==null&&k!==void 0?k:0,padding:(O=(C=M==null?void 0:M.bits)===null||C===void 0?void 0:C.padding)!==null&&O!==void 0?O:0}),L}(h,d,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:d=0}=r;let h,m;try{h=_i(a).toUint8Array()}catch(g){if(g instanceof LE)return Is("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw g}try{m=new Kp(h,u,d)}catch(g){return Is(g instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",g),1}return m.It===0?1:s!==n-this.oe(e.targetId,m)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(a=>{const u=this.Gt.ue(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;n.vt(d)||(this.Yt(e,a,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((a,u)=>{const d=this.se(u);if(d){if(a.current&&Uf(d.target)){const h=new he(d.target.path);this.jt.get(h)!==null||this.ae(u,h)||this.Yt(u,h,Lt.newNoDocument(h,e))}a.Mt&&(n.set(u,a.Ot()),a.Ft())}});let r=Re();this.zt.forEach((a,u)=>{let d=!0;u.forEachWhile(h=>{const m=this.se(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.jt.forEach((a,u)=>u.setReadTime(e));const s=new Tc(e,n,this.Wt,this.jt,r);return this.jt=fr(),this.zt=P0(),this.Wt=new rt(Ve),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new O0,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new $t(Ve),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new O0),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function P0(){return new rt(he.comparator)}function D0(){return new rt(he.comparator)}const DO={asc:"ASCENDING",desc:"DESCENDING"},xO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NO={and:"AND",or:"OR"};class MO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zf(t,e){return t.useProto3Json||yc(e)?e:{value:e}}function Nu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LO(t,e){return Nu(t,e.toTimestamp())}function Bn(t){return Ye(!!t),Se.fromTimestamp(function(e){const n=Qr(e);return new gt(n.seconds,n.nanos)}(t))}function Gp(t,e){return function(n){return new et(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function u1(t){const e=et.fromString(t);return Ye(f1(e)),e}function Bf(t,e){return Gp(t.databaseId,e.path)}function Jd(t,e){const n=u1(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(c1(n))}function Hf(t,e){return Gp(t.databaseId,e)}function FO(t){const e=u1(t);return e.length===4?et.emptyPath():c1(e)}function Wf(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c1(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function x0(t,e,n){return{name:Bf(t,e),fields:n.value.mapValue.fields}}function VO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(Ye(m===void 0||typeof m=="string"),Bt.fromBase64String(m||"")):(Ye(m===void 0||m instanceof Uint8Array),Bt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(h){const m=h.code===void 0?j.UNKNOWN:s1(h.code);return new ae(m,h.message||"")}(u);n=new a1(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jd(t,r.document.name),a=Bn(r.document.updateTime),u=r.document.createTime?Bn(r.document.createTime):Se.min(),d=new vn({mapValue:{fields:r.document.fields}}),h=Lt.newFoundDocument(s,a,u,d),m=r.targetIds||[],g=r.removedTargetIds||[];n=new uu(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jd(t,r.document),a=r.readTime?Bn(r.readTime):Se.min(),u=Lt.newNoDocument(s,a),d=r.removedTargetIds||[];n=new uu([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jd(t,r.document),a=r.removedTargetIds||[];n=new uu([],a,s,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new bO(s,a),d=r.targetId;n=new o1(d,u)}}return n}function UO(t,e){let n;if(e instanceof _a)n={update:x0(t,e.key,e.value)};else if(e instanceof i1)n={delete:Bf(t,e.key)};else if(e instanceof xi)n={update:x0(t,e.key,e.data),updateMask:GO(e.fieldMask)};else{if(!(e instanceof TO))return ve();n={verify:Bf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof Du)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof aa)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof la)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xu)return{fieldPath:a.field.canonicalString(),increment:u.gt};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:LO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function $O(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(r,s){let a=r.updateTime?Bn(r.updateTime):Bn(s);return a.isEqual(Se.min())&&(a=Bn(s)),new EO(a,r.transformResults||[])}(n,e))):[]}function jO(t,e){return{documents:[Hf(t,e.path)]}}function zO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Hf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(h){if(h.length!==0)return d1(Qn.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:cs(g.field),direction:WO(g.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=zf(t,e.limit);var d;return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function BO(t){let e=FO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(g){const y=h1(g);return y instanceof Qn&&$E(y)?y.getFilters():[y]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(g=>function(y){return new Bo(hs(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g)));let d=null;n.limit&&(d=function(g){let y;return y=typeof g=="object"?g.value:g,yc(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(g){const y=!!g.before,E=g.values||[];return new Pu(E,y)}(n.startAt));let m=null;return n.endAt&&(m=function(g){const y=!g.before,E=g.values||[];return new Pu(E,y)}(n.endAt)),oO(e,s,u,a,d,"F",h,m)}function HO(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h1(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=hs(e.unaryFilter.field);return mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=hs(e.unaryFilter.field);return mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hs(e.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hs(e.unaryFilter.field);return mt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(e){return mt.create(hs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Qn.create(e.compositeFilter.filters.map(n=>h1(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ve()}}(e.compositeFilter.op))}(t):ve()}function WO(t){return DO[t]}function qO(t){return xO[t]}function KO(t){return NO[t]}function cs(t){return{fieldPath:t.canonicalString()}}function hs(t){return Ft.fromServerFormat(t.fieldPath)}function d1(t){return t instanceof mt?function(e){if(e.op==="=="){if(w0(e.value))return{unaryFilter:{field:cs(e.field),op:"IS_NAN"}};if(y0(e.value))return{unaryFilter:{field:cs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(w0(e.value))return{unaryFilter:{field:cs(e.field),op:"IS_NOT_NAN"}};if(y0(e.value))return{unaryFilter:{field:cs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(e.field),op:qO(e.op),value:e.value}}}(t):t instanceof Qn?function(e){const n=e.getFilters().map(r=>d1(r));return n.length===1?n[0]:{compositeFilter:{op:KO(e.op),filters:n}}}(t):ve()}function GO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r,s,a=Se.min(),u=Se.min(),d=Bt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.fe=e}}function YO(t){const e=BO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.rn=new JO}addToCollectionParentIndex(e,n){return this.rn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Gr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class JO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $t(et.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $t(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ks(0)}static Mn(){return new ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.changes=new Ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wo(r.mutation,s,kn.empty(),gt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const s=yi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=Fo();return a.forEach((d,h)=>{u=u.insert(d,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,s){let a=fr();const u=Ho(),d=Ho();return n.forEach((h,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof xi)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),Wo(g.mutation,m,g.mutation.getFieldMask(),gt.now())):u.set(m.key,kn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,g)=>u.set(m,g)),n.forEach((m,g)=>{var y;return d.set(m,new eP(g,(y=u.get(m))!==null&&y!==void 0?y:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Ho();let s=new rt((u,d)=>u-d),a=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||kn.empty();g=d.applyToLocalView(m,g),r.set(h,g);const y=(s.get(d.batchId)||Re()).add(h);s=s.insert(d.batchId,y)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),m=h.key,g=h.value,y=QE();g.forEach(E=>{if(!a.has(E)){const T=n1(n.get(E),r.get(E));T!==null&&y.set(E,T),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):z.resolve(yi());let d=-1,h=a;return u.next(m=>z.forEach(m,(g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(g)?z.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Re())).next(g=>({batchId:d,changes:GE(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=Fo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let a=Fo();return this.indexManager.getCollectionParents(e,s).next(u=>z.forEach(u,d=>{const h=function(m,g){return new wc(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r).next(m=>{m.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(a=>{s.forEach((d,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,Lt.newInvalidDocument(m)))});let u=Fo();return a.forEach((d,h)=>{const m=s.get(d);m!==void 0&&Wo(m.mutation,h,kn.empty(),gt.now()),Ec(n,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return z.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Bn(r.createTime)}),z.resolve()}getNamedQuery(e,n){return z.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:YO(r.bundledQuery),readTime:Bn(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.overlays=new rt(he.comparator),this.ls=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yi();return z.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.we(e,n,a)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=yi(),a=n.length+1,u=new he(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new rt((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=yi(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=yi(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,g)=>d.set(m,g)),!(d.size()>=s)););return z.resolve(d)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kO(n,r));let a=this.ls.get(n);a===void 0&&(a=Re(),this.ls.set(n,a)),this.ls.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.fs=new $t(St.ds),this.ws=new $t(St._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new St(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new St(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new he(new et([])),r=new St(n,e),s=new St(n,e+1),a=[];return this.ws.forEachInRange([r,s],u=>{this.ys(u),a.push(u.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new he(new et([])),r=new St(n,e),s=new St(n,e+1);let a=Re();return this.ws.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new St(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return he.comparator(e.key,n.key)||Ve(e.As,n.As)}static _s(e,n){return Ve(e.As,n.As)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new $t(St.ds)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new _O(a,n,r,s);this.mutationQueue.push(u);for(const d of s)this.Rs=this.Rs.add(new St(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return z.resolve(u)}lookupMutationBatch(e,n){return z.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),a=s<0?0:s;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,s],u=>{const d=this.Ps(u.As);a.push(d)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(Ve);return n.forEach(s=>{const a=new St(s,0),u=new St(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],d=>{r=r.add(d.As)})}),z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;he.isDocumentKey(a)||(a=a.child(""));const u=new St(new he(a),0);let d=new $t(Ve);return this.Rs.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(h.As)),!0)},u),z.resolve(this.Vs(d))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return z.forEach(n.mutations,s=>{const a=new St(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new St(n,0),s=this.Rs.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.Ds=e,this.docs=new rt(he.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Lt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=fr();const u=n.path,d=new he(u.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||BA(zA(g),r)<=0||(s.has(g.key)||Ec(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(e,n,r,s){ve()}Cs(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oP(this)}getSize(e){return z.resolve(this.size)}}class oP extends ZO{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.persistence=e,this.xs=new Ms(n=>Bp(n),Hp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Qp,this.targetCount=0,this.Ms=ks.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),z.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ks(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Fn(n),z.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.xs.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.xs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),z.waitFor(a).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.$s={},this.overlays={},this.Os=new Up(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new aP(this),this.indexManager=new XO,this.remoteDocumentCache=function(r){return new sP(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new QO(n),this.qs=new nP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new iP(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const s=new uP(this.Os.next());return this.referenceDelegate.Us(),r(s).next(a=>this.referenceDelegate.Ks(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Gs(e,n){return z.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class uP extends WA{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Qs=new Qp,this.js=null}static zs(e){return new Yp(e)}get Ws(){if(this.js)return this.js;throw ve()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),z.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ws,r=>{const s=he.fromPath(r);return this.Hs(e,s).next(a=>{a||n.removeEntry(s,Se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return z.or([()=>z.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=Re(),s=Re();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Xp(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(a=>a||this.Gi(e,n,s,r)).next(a=>a||this.Qi(e,n))}Ki(e,n){if(C0(n))return z.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$f(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Re(...a);return this.Ui.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.ji(n,d);return this.zi(n,m,u,h.readTime)?this.Ki(e,$f(n,null,"F")):this.Wi(e,m,n,h)}))})))}Gi(e,n,r,s){return C0(n)||s.isEqual(Se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(a=>{const u=this.ji(n,a);return this.zi(n,u,r,s)?this.Qi(e,n):(p0()<=Ne.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jf(n)),this.Wi(e,u,n,jA(s,-1)))})}ji(e,n){let r=new $t(qE(e));return n.forEach((s,a)=>{Ec(e,a)&&(r=r.add(a))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Qi(e,n){return p0()<=Ne.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",jf(n)),this.Ui.getDocumentsMatchingQuery(e,n,Gr.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new rt(Ve),this.Yi=new Ms(a=>Bp(a),Hp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function dP(t,e,n,r){return new hP(t,e,n,r)}async function p1(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let h=Re();for(const m of s){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of a){d.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(m=>({er:m,removedBatchIds:u,addedBatchIds:d}))})})}function fP(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,y=g.keys();let E=z.resolve();return y.forEach(T=>{E=E.next(()=>m.getEntry(d,T)).next(R=>{const k=h.docVersions.get(T);Ye(k!==null),R.version.compareTo(k)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Re();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function m1(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function pP(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const d=[];e.targetChanges.forEach((g,y)=>{const E=s.get(y);if(!E)return;d.push(n.Bs.removeMatchingKeys(a,g.removedDocuments,y).next(()=>n.Bs.addMatchingKeys(a,g.addedDocuments,y)));let T=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(y,T),function(R,k,C){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(E,T,g)&&d.push(n.Bs.updateTargetData(a,T))});let h=fr(),m=Re();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(mP(a,u,e.documentUpdates).next(g=>{h=g.nr,m=g.sr})),!r.isEqual(Se.min())){const g=n.Bs.getLastRemoteSnapshotVersion(a).next(y=>n.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return z.waitFor(d).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(n.Ji=s,a))}function mP(t,e,n){let r=Re(),s=Re();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=fr();return n.forEach((d,h)=>{const m=a.get(d);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):ie("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",h.version)}),{nr:u,sr:s}})}function gP(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vP(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(a=>a?(s=a,z.resolve(s)):n.Bs.allocateTargetId(r).next(u=>(s=new zr(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function qf(t,e,n){const r=Ee(t),s=r.Ji.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ta(u))throw u;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function N0(t,e,n){const r=Ee(t);let s=Se.min(),a=Re();return r.persistence.runTransaction("Execute query","readonly",u=>function(d,h,m){const g=Ee(d),y=g.Yi.get(m);return y!==void 0?z.resolve(g.Ji.get(y)):g.Bs.getTargetData(h,m)}(r,u,dr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,d.targetId).next(h=>{a=h})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,n?s:Se.min(),n?a:Re())).next(d=>(yP(r,cO(e),d),{documents:d,ir:a})))}function yP(t,e,n){let r=t.Xi.get(e)||Se.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Xi.set(e,r)}class M0{constructor(){this.activeTargetIds=gO()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wP{constructor(){this.Hr=new M0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new M0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=null;function Zd(){return Yl===null?Yl=268435456+Math.round(2147483648*Math.random()):Yl++,"0x"+Yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class CP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,a){const u=Zd(),d=this.To(e,n);ie("RestConnection",`Sending RPC '${e}' ${u}:`,d,r);const h={};return this.Eo(h,s,a),this.Ao(e,d,h,r).then(m=>(ie("RestConnection",`Received RPC '${e}' ${u}: `,m),m),m=>{throw Is("RestConnection",`RPC '${e}' ${u} failed with error: `,m,"url: ",d,"request:",r),m})}vo(e,n,r,s,a,u){return this.Io(e,n,r,s,a)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}To(e,n){const r=EP[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const a=Zd();return new Promise((u,d)=>{const h=new OA;h.setWithCredentials(!0),h.listenOnce(bA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Xd.NO_ERROR:const g=h.getResponseJson();ie(xt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Xd.TIMEOUT:ie(xt,`RPC '${e}' ${a} timed out`),d(new ae(j.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const y=h.getStatus();if(ie(xt,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E==null?void 0:E.error;if(T&&T.status&&T.message){const R=function(k){const C=k.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(C)>=0?C:j.UNKNOWN}(T.status);d(new ae(R,T.message))}else d(new ae(j.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ae(j.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ie(xt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);ie(xt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",m,r,15)})}Ro(e,n,r){const s=Zd(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_A(),d=kA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.xmlHttpFactory=new AA({})),this.Eo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");ie(xt,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=u.createWebChannel(g,h);let E=!1,T=!1;const R=new IP({ro:C=>{T?ie(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(ie(xt,`Opening RPC '${e}' stream ${s} transport.`),y.open(),E=!0),ie(xt,`RPC '${e}' stream ${s} sending:`,C),y.send(C))},oo:()=>y.close()}),k=(C,O,L)=>{C.listen(O,M=>{try{L(M)}catch(W){setTimeout(()=>{throw W},0)}})};return k(y,ql.EventType.OPEN,()=>{T||ie(xt,`RPC '${e}' stream ${s} transport opened.`)}),k(y,ql.EventType.CLOSE,()=>{T||(T=!0,ie(xt,`RPC '${e}' stream ${s} transport closed`),R.wo())}),k(y,ql.EventType.ERROR,C=>{T||(T=!0,Is(xt,`RPC '${e}' stream ${s} transport errored:`,C),R.wo(new ae(j.UNAVAILABLE,"The operation could not be completed")))}),k(y,ql.EventType.MESSAGE,C=>{var O;if(!T){const L=C.data[0];Ye(!!L);const M=L,W=M.error||((O=M[0])===null||O===void 0?void 0:O.error);if(W){ie(xt,`RPC '${e}' stream ${s} received error:`,W);const D=W.status;let K=function(Z){const Ie=ct[Z];if(Ie!==void 0)return s1(Ie)}(D),q=W.message;K===void 0&&(K=j.INTERNAL,q="Unknown error status: "+D+" with message "+W.message),T=!0,R.wo(new ae(K,q)),y.close()}else ie(xt,`RPC '${e}' stream ${s} received:`,L),R._o(L)}}),k(d,RA.STAT_EVENT,C=>{C.stat===d0.PROXY?ie(xt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===d0.NOPROXY&&ie(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.fo()},0),R}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){return new MO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,s,a,u,d,h){this.ii=e,this.$o=r,this.Oo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new g1(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new ae(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TP extends v1{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=VO(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Se.min():a.readTime?Bn(a.readTime):Se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Wf(this.serializer),n.addTarget=function(s,a){let u;const d=a.target;if(u=Uf(d)?{documents:jO(s,d)}:{query:zO(s,d)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=l1(s,a.resumeToken);const h=zf(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(Se.min())>0){u.readTime=Nu(s,a.snapshotVersion.toTimestamp());const h=zf(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=HO(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Wf(this.serializer),n.removeTarget=e,this.Wo(n)}}class _P extends v1{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=$O(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.cu(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UO(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Io(e,n,r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(j.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.vo(e,n,r,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(j.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class bP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(hr(n),this.mu=!1):ie("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(u=>{r.enqueueAndForget(async()=>{Ni(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=Ee(d);h.vu.add(4),await ba(h),h.bu.set("Unknown"),h.vu.delete(4),await kc(h)}(this))})}),this.bu=new bP(r,s)}}async function kc(t){if(Ni(t))for(const e of t.Ru)await e(!0)}async function ba(t){for(const e of t.Ru)await e(!1)}function y1(t,e){const n=Ee(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),em(n)?Zp(n):Ls(n).Ko()&&Jp(n,e))}function w1(t,e){const n=Ee(t),r=Ls(n);n.Au.delete(e),r.Ko()&&S1(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ni(n)&&n.bu.set("Unknown"))}function Jp(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ls(t).su(e)}function S1(t,e){t.Vu.qt(e),Ls(t).iu(e)}function Zp(t){t.Vu=new PO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ls(t).start(),t.bu.gu()}function em(t){return Ni(t)&&!Ls(t).Uo()&&t.Au.size>0}function Ni(t){return Ee(t).vu.size===0}function E1(t){t.Vu=void 0}async function AP(t){t.Au.forEach((e,n)=>{Jp(t,e)})}async function OP(t,e){E1(t),em(t)?(t.bu.Iu(e),Zp(t)):t.bu.set("Unknown")}async function PP(t,e,n){if(t.bu.set("Online"),e instanceof a1&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(await r.remoteSyncer.rejectListen(u,a),r.Au.delete(u),r.Vu.removeTarget(u))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mu(t,r)}else if(e instanceof uu?t.Vu.Ht(e):e instanceof o1?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Se.min()))try{const r=await m1(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.Vu.ce(a);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Au.get(h);m&&s.Au.set(h,m.withResumeToken(d.resumeToken,a))}}),u.targetMismatches.forEach((d,h)=>{const m=s.Au.get(d);if(!m)return;s.Au.set(d,m.withResumeToken(Bt.EMPTY_BYTE_STRING,m.snapshotVersion)),S1(s,d);const g=new zr(m.target,d,h,m.sequenceNumber);Jp(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await Mu(t,r)}}async function Mu(t,e,n){if(!Ta(e))throw e;t.vu.add(1),await ba(t),t.bu.set("Offline"),n||(n=()=>m1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await kc(t)})}function I1(t,e){return e().catch(n=>Mu(t,n,e))}async function bc(t){const e=Ee(t),n=Yr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;DP(e);)try{const s=await gP(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,xP(e,s)}catch(s){await Mu(e,s)}C1(e)&&T1(e)}function DP(t){return Ni(t)&&t.Eu.length<10}function xP(t,e){t.Eu.push(e);const n=Yr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function C1(t){return Ni(t)&&!Yr(t).Uo()&&t.Eu.length>0}function T1(t){Yr(t).start()}async function NP(t){Yr(t).hu()}async function MP(t){const e=Yr(t);for(const n of t.Eu)e.uu(n.mutations)}async function LP(t,e,n){const r=t.Eu.shift(),s=Wp.from(r,e,n);await I1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bc(t)}async function FP(t,e){e&&Yr(t).ou&&await async function(n,r){if(s=r.code,RO(s)&&s!==j.ABORTED){const a=n.Eu.shift();Yr(n).Qo(),await I1(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),await bc(n)}var s}(t,e),C1(t)&&T1(t)}async function F0(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=Ni(n);n.vu.add(3),await ba(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await kc(n)}async function VP(t,e){const n=Ee(t);e?(n.vu.delete(2),await kc(n)):e||(n.vu.add(2),await ba(n),n.bu.set("Unknown"))}function Ls(t){return t.Su||(t.Su=function(e,n,r){const s=Ee(e);return s.fu(),new TP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:AP.bind(null,t),ao:OP.bind(null,t),nu:PP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),em(t)?Zp(t):t.bu.set("Unknown")):(await t.Su.stop(),E1(t))})),t.Su}function Yr(t){return t.Du||(t.Du=function(e,n,r){const s=Ee(e);return s.fu(),new _P(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:NP.bind(null,t),ao:FP.bind(null,t),au:MP.bind(null,t),cu:LP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await bc(t)):(await t.Du.stop(),t.Eu.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,d=new tm(e,n,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(t,e){if(hr("AsyncQueue",`${e}: ${t}`),Ta(t))return new ae(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Fo(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new vs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Cu=new rt(he.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ve():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class bs{constructor(e,n,r,s,a,u,d,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new bs(e,n,vs.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.Nu=void 0,this.listeners=[]}}class $P{constructor(){this.queries=new Ms(e=>WE(e),Sc),this.onlineState="Unknown",this.ku=new Set}}async function jP(t,e){const n=Ee(t),r=e.query;let s=!1,a=n.queries.get(r);if(a||(s=!0,a=new UP),s)try{a.Nu=await n.onListen(r)}catch(u){const d=nm(u,`Initialization of query '${jf(e.query)}' failed`);return void e.onError(d)}n.queries.set(r,a),a.listeners.push(e),e.Mu(n.onlineState),a.Nu&&e.$u(a.Nu)&&rm(n)}async function zP(t,e){const n=Ee(t),r=e.query;let s=!1;const a=n.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),s=a.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function BP(t,e){const n=Ee(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const d of u.listeners)d.$u(s)&&(r=!0);u.Nu=s}}r&&rm(n)}function HP(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(n);r.queries.delete(e)}function rm(t){t.ku.forEach(e=>{e.next()})}class WP{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class qP{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Re(),this.mutatedKeys=Re(),this.tc=qE(e),this.ec=new vs(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new V0,s=n?n.ec:this.ec;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const E=s.get(g),T=Ec(this.query,y)?y:null,R=!!E&&this.mutatedKeys.has(E.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;E&&T?E.data.isEqual(T.data)?R!==k&&(r.track({type:3,doc:T}),C=!0):this.rc(E,T)||(r.track({type:2,doc:T}),C=!0,(h&&this.tc(T,h)>0||m&&this.tc(T,m)<0)&&(d=!0)):!E&&T?(r.track({type:0,doc:T}),C=!0):E&&!T&&(r.track({type:1,doc:E}),C=!0,(h||m)&&(d=!0)),C&&(T?(u=u.add(T),a=k?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ec:u,ic:r,zi:d,mutatedKeys:a}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((m,g)=>function(y,E){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return T(y)-T(E)}(m.type,g.type)||this.tc(m.doc,g.doc)),this.oc(r);const u=n?this.uc():[],d=this.Zu.size===0&&this.current?1:0,h=d!==this.Xu;return this.Xu=d,a.length!==0||h?{snapshot:new bs(this.query,e.ec,s,a,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new V0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new k1(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new _1(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Re();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return bs.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class KP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GP{constructor(e){this.key=e,this.fc=!1}}class QP{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Ms(d=>WE(d),Sc),this._c=new Map,this.mc=new Set,this.gc=new rt(he.comparator),this.yc=new Map,this.Ic=new Qp,this.Tc={},this.Ec=new Map,this.Ac=ks.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function YP(t,e){const n=oD(t);let r,s;const a=n.wc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),s=a.view.lc();else{const u=await vP(n.localStore,dr(e)),d=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,s=await XP(n,e,r,d==="current",u.resumeToken),n.isPrimaryClient&&y1(n.remoteStore,u)}return s}async function XP(t,e,n,r,s){t.Rc=(y,E,T)=>async function(R,k,C,O){let L=k.view.sc(C);L.zi&&(L=await N0(R.localStore,k.query,!1).then(({documents:D})=>k.view.sc(D,L)));const M=O&&O.targetChanges.get(k.targetId),W=k.view.applyChanges(L,R.isPrimaryClient,M);return $0(R,k.targetId,W.cc),W.snapshot}(t,y,E,T);const a=await N0(t.localStore,e,!0),u=new qP(e,a.ir),d=u.sc(a.documents),h=ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=u.applyChanges(d,t.isPrimaryClient,h);$0(t,n,m.cc);const g=new KP(e,n,u);return t.wc.set(e,g),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),m.snapshot}async function JP(t,e){const n=Ee(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(a=>!Sc(a,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),w1(n.remoteStore,r.targetId),Kf(n,r.targetId)}).catch(Ca)):(Kf(n,r.targetId),await qf(n.localStore,r.targetId,!0))}async function ZP(t,e,n){const r=aD(t);try{const s=await function(a,u){const d=Ee(a),h=gt.now(),m=u.reduce((E,T)=>E.add(T.key),Re());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=fr(),R=Re();return d.Zi.getEntries(E,m).next(k=>{T=k,T.forEach((C,O)=>{O.isValidDocument()||(R=R.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,T)).next(k=>{g=k;const C=[];for(const O of u){const L=CO(O,g.get(O.key).overlayedDocument);L!=null&&C.push(new xi(O.key,L,FE(L.value.mapValue),lr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,h,C,u)}).next(k=>{y=k;const C=k.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(E,k.batchId,C)})}).then(()=>({batchId:y.batchId,changes:GE(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,u,d){let h=a.Tc[a.currentUser.toKey()];h||(h=new rt(Ve)),h=h.insert(u,d),a.Tc[a.currentUser.toKey()]=h}(r,s.batchId,n),await Ra(r,s.changes),await bc(r.remoteStore)}catch(s){const a=nm(s,"Failed to persist write");n.reject(a)}}async function b1(t,e){const n=Ee(t);try{const r=await pP(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.yc.get(a);u&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.fc=!0:s.modifiedDocuments.size>0?Ye(u.fc):s.removedDocuments.size>0&&(Ye(u.fc),u.fc=!1))}),await Ra(n,r,e)}catch(r){await Ca(r)}}function U0(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((a,u)=>{const d=u.view.Mu(e);d.snapshot&&s.push(d.snapshot)}),function(a,u){const d=Ee(a);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const y of g.listeners)y.Mu(u)&&(h=!0)}),h&&rm(d)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eD(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),a=s&&s.key;if(a){let u=new rt(he.comparator);u=u.insert(a,Lt.newNoDocument(a,Se.min()));const d=Re().add(a),h=new Tc(Se.min(),new Map,new rt(Ve),u,d);await b1(r,h),r.gc=r.gc.remove(a),r.yc.delete(e),im(r)}else await qf(r.localStore,e,!1).then(()=>Kf(r,e,n)).catch(Ca)}async function tD(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await fP(n.localStore,e);A1(n,r,null),R1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ra(n,s)}catch(s){await Ca(s)}}async function nD(t,e,n){const r=Ee(t);try{const s=await function(a,u){const d=Ee(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Ye(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);A1(r,e,n),R1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ra(r,s)}catch(s){await Ca(s)}}function R1(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function A1(t,e,n){const r=Ee(t);let s=r.Tc[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Kf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||O1(t,r)})}function O1(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(w1(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),im(t))}function $0(t,e,n){for(const r of n)r instanceof _1?(t.Ic.addReference(r.key,e),rD(t,r)):r instanceof k1?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||O1(t,r.key)):ve()}function rD(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.mc.add(r),im(t))}function im(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new he(et.fromString(e)),r=t.Ac.next();t.yc.set(r,new GP(n)),t.gc=t.gc.insert(n,r),y1(t.remoteStore,new zr(dr(HE(n.path)),r,"TargetPurposeLimboResolution",Up.ct))}}async function Ra(t,e,n){const r=Ee(t),s=[],a=[],u=[];r.wc.isEmpty()||(r.wc.forEach((d,h)=>{u.push(r.Rc(h,e,n).then(m=>{if((m||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,m!=null&&m.fromCache?"not-current":"current"),m){s.push(m);const g=Xp.Li(h.targetId,m);a.push(g)}}))}),await Promise.all(u),r.dc.nu(s),await async function(d,h){const m=Ee(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>z.forEach(h,y=>z.forEach(y.Fi,E=>m.persistence.referenceDelegate.addReference(g,y.targetId,E)).next(()=>z.forEach(y.Bi,E=>m.persistence.referenceDelegate.removeReference(g,y.targetId,E)))))}catch(g){if(!Ta(g))throw g;ie("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const E=m.Ji.get(y),T=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(T);m.Ji=m.Ji.insert(y,R)}}}(r.localStore,a))}async function iD(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await p1(n.localStore,e);n.currentUser=e,function(s,a){s.Ec.forEach(u=>{u.forEach(d=>{d.reject(new ae(j.CANCELLED,a))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ra(n,r.er)}}function sD(t,e){const n=Ee(t),r=n.yc.get(e);if(r&&r.fc)return Re().add(r.key);{let s=Re();const a=n._c.get(e);if(!a)return s;for(const u of a){const d=n.wc.get(u);s=s.unionWith(d.view.nc)}return s}}function oD(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eD.bind(null,e),e.dc.nu=BP.bind(null,e.eventManager),e.dc.Pc=HP.bind(null,e.eventManager),e}function aD(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nD.bind(null,e),e}class j0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dP(this.persistence,new cP,e.initialUser,this.serializer)}createPersistence(e){return new lP(Yp.zs,this.serializer)}createSharedClientState(e){return new wP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iD.bind(null,this.syncEngine),await VP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $P}createDatastore(e){const n=_c(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new CP(s));var s;return function(a,u,d,h){return new kP(a,u,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,a=d=>U0(this.syncEngine,d,0),u=L0.D()?new L0:new SP,new RP(n,r,s,a,u);var n,r,s,a,u}createSyncEngine(e,n){return function(r,s,a,u,d,h,m){const g=new QP(r,s,a,u,d,h);return m&&(g.vc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ee(e);ie("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ba(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mt.UNAUTHENTICATED,this.clientId=NE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{ie("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ie("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await p1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dD(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>F0(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>F0(e.remoteStore,a)),t._onlineComponents=e}function hD(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!hD(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),await tf(t,new j0)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await tf(t,new j0);return t._offlineComponents}async function P1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await z0(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await z0(t,new lD))),t._onlineComponents}function fD(t){return P1(t).then(e=>e.syncEngine)}async function pD(t){const e=await P1(t),n=e.eventManager;return n.onListen=YP.bind(null,e.syncEngine),n.onUnlisten=JP.bind(null,e.syncEngine),n}function mD(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,d,h){const m=new uD({next:y=>{a.enqueueAndForget(()=>zP(s,g)),y.fromCache&&d.source==="server"?h.reject(new ae(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new WP(u,m,{includeMetadataChanges:!0,Ku:!0});return jP(s,g)}(await pD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e,n){if(!n)throw new ae(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gD(t,e,n,r){if(e===!0&&r===!0)throw new ae(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H0(t){if(!he.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W0(t){if(he.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Lu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sm(t);throw new ae(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Rc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new DA;switch(n.type){case"firstParty":return new LA(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=B0.get(e);n&&(ie("ComponentProvider","Removing Datastore"),B0.delete(e),n.terminate())}(this),Promise.resolve()}}function vD(t,e,n,r={}){var s;const a=(t=Lu(t,Rc))._getSettings(),u=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Mt.MOCK_USER;else{d=A_(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ae(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mt(m)}t._authCredentials=new xA(new xE(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Ac{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class Kr extends Ac{constructor(e,n,r){super(e,n,HE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new he(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Xl(t,e,...n){if(t=zt(t),x1("collection","path",e),t instanceof Rc){const r=et.fromString(e,...n);return W0(r),new Kr(t,null,r)}{if(!(t instanceof bn||t instanceof Kr))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return W0(r),new Kr(t.firestore,null,r)}}function yD(t,e,...n){if(t=zt(t),arguments.length===1&&(e=NE.A()),x1("doc","path",e),t instanceof Rc){const r=et.fromString(e,...n);return H0(r),new bn(t,null,new he(r))}{if(!(t instanceof bn||t instanceof Kr))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return H0(r),new bn(t.firestore,t instanceof Kr?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new g1(this,"async_queue_retry"),this.Xc=()=>{const n=ef();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ef();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ta(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw hr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=tm.createAndSchedule(this,e,n,r,a=>this.na(a));return this.zc.push(s),s}Zc(){this.Wc&&ve()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class om extends Rc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new wD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||M1(this),this._firestoreClient.terminate()}}function SD(t,e){const n=typeof t=="object"?t:cp(),r=typeof t=="string"?t:"(default)",s=Pi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=b_("firestore");a&&vD(s,...a)}return s}function N1(t){return t._firestoreClient||M1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function M1(t){var e,n,r;const s=t._freezeSettings(),a=function(u,d,h,m){return new GA(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,D1(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new cD(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Bt.fromBase64String(e))}catch(n){throw new ae(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^__.*__$/;class ID{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new _a(e,this.data,n,this.fieldTransforms)}}function F1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class um{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Fu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(F1(this.ca)&&ED.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class CD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_c(e)}ya(e,n,r,s=!1){return new um({ca:e,methodName:n,ga:r,path:Ft.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TD(t){const e=t._freezeSettings(),n=_c(t._databaseId);return new CD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _D(t,e,n,r,s,a={}){const u=t.ya(a.merge||a.mergeFields?2:0,e,n,s);j1("Data must be an object, but it was:",u,r);const d=U1(r,u);let h,m;if(a.merge)h=new kn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const E=kD(e,y,n);if(!u.contains(E))throw new ae(j.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);RD(g,E)||g.push(E)}h=new kn(g),m=u.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,m=u.fieldTransforms;return new ID(new vn(d),h,m)}function V1(t,e){if($1(t=zt(t)))return j1("Unsupported field value:",e,t),U1(t,e);if(t instanceof L1)return function(n,r){if(!F1(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let a=0;for(const u of n){let d=V1(u,r.wa(a));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return vO(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=gt.fromDate(n);return{timestampValue:Nu(r.serializer,s)}}if(n instanceof gt){const s=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nu(r.serializer,s)}}if(n instanceof lm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rs)return{bytesValue:l1(r.serializer,n._byteString)};if(n instanceof bn){const s=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gp(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${sm(n)}`)}(t,e)}function U1(t,e){const n={};return ME(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,s)=>{const a=V1(s,e.ha(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function $1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof lm||t instanceof Rs||t instanceof bn||t instanceof L1)}function j1(t,e,n){if(!$1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=sm(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function kD(t,e,n){if((e=zt(e))instanceof am)return e._internalPath;if(typeof e=="string")return z1(t,e);throw Fu("Field path arguments must be of type string or ",t,!1,void 0,n)}const bD=new RegExp("[~\\*/\\[\\]]");function z1(t,e,n){if(e.search(bD)>=0)throw Fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new am(...e.split("."))._internalPath}catch{throw Fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fu(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new ae(j.INVALID_ARGUMENT,d+t+h)}function RD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AD extends B1{data(){return super.data()}}function H1(t,e){return typeof e=="string"?z1(t,e):e instanceof am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PD{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new lm(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);Ye(f1(r));const s=new sa(r.get(1),r.get(3)),a=new he(r.popFirst(5));return s.isEqual(n)||hr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xD extends B1{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cu extends xD{data(e={}){return super.data(e)}}class ND{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Jl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cu(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>{const d=new cu(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Jl(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new cu(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Jl(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,m=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:MD(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class LD extends PD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function K0(t){t=Lu(t,Ac);const e=Lu(t.firestore,om),n=N1(e),r=new LD(e);return OD(t._query),mD(n,t._query).then(s=>new ND(e,r,t,s))}function G0(t,e){const n=Lu(t.firestore,om),r=yD(t),s=DD(t.converter,e);return FD(n,[_D(TD(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function FD(t,e){return function(n,r){const s=new qr;return n.asyncQueue.enqueueAndForget(async()=>ZP(await fD(n),r,s)),s.promise}(N1(t),e)}(function(t,e=!0){(function(n){xs=n})(Os),Kn(new Rn("firestore",(n,{instanceIdentifier:r,options:s})=>{const a=n.getProvider("app").getImmediate(),u=new om(new NA(n.getProvider("auth-internal")),new VA(n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ae(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(d.options.projectId,h)}(a,r),a);return s=Object.assign({useFetchStreams:e},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),yn(f0,"3.13.0",t),yn(f0,"3.13.0","esm2017")})();function cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function W1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VD=W1,q1=new Oi("auth","Firebase",W1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Ju("@firebase/auth");function UD(t,...e){Vu.logLevel<=Ne.WARN&&Vu.warn(`Auth (${Os}): ${t}`,...e)}function hu(t,...e){Vu.logLevel<=Ne.ERROR&&Vu.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw hm(t,...e)}function Hn(t,...e){return hm(t,...e)}function $D(t,e,n){const r=Object.assign(Object.assign({},VD()),{[e]:n});return new Oi("auth","Firebase",r).create(e,{appName:t.name})}function hm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q1.create(t,...e)}function ge(t,e,...n){if(!t)throw hm(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hu(e),new Error(e)}function pr(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jD(){return Q0()==="http:"||Q0()==="https:"}function Q0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jD()||op()||"connection"in navigator)?navigator.onLine:!0}function BD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=O_()||P_()}get(){return zD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Aa(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vs(t,e,n,r,s={}){return G1(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=ma(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),K1.fetch()(Q1(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},a))})}async function G1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HD),e);try{const s=new qD(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Zl(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zl(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Zl(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw Zl(t,"user-disabled",u);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw $D(t,g,m);On(t,g)}}catch(s){if(s instanceof Pn)throw s;On(t,"network-request-failed",{message:String(s)})}}async function Oa(t,e,n,r,s={}){const a=await Vs(t,e,n,r,s);return"mfaPendingCredential"in a&&On(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Q1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?dm(t.config,s):`${t.config.apiScheme}://${s}`}class qD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),WD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e){return Vs(t,"POST","/v1/accounts:delete",e)}async function GD(t,e){return Vs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QD(t,e=!1){const n=zt(t),r=await n.getIdToken(e),s=fm(r);ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:qo(nf(s.auth_time)),issuedAtTime:qo(nf(s.iat)),expirationTime:qo(nf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function nf(t){return Number(t)*1e3}function fm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Qw(n);return s?JSON.parse(s):(hu("Failed to decode base64 JWT payload"),null)}catch(s){return hu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function YD(t){const e=fm(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&XD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ua(t,GD(n,{idToken:r}));ge(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?tx(a.providerUserInfo):[],d=ex(t.providerData,u),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),g=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Y1(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function ZD(t){const e=zt(t);await Uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ex(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function tx(t){return t.map(e=>{var{providerId:n}=e,r=cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(t,e){const n=await G1(t,{},async()=>{const r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=Q1(t,s,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",K1.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await nx(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new ca;return r&&(ge(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(ge(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Y1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ua(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QD(this,e)}reload(){return ZD(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ua(this,KD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,d,h,m,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=n.photoURL)!==null&&u!==void 0?u:void 0,k=(d=n.tenantId)!==null&&d!==void 0?d:void 0,C=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,O=(m=n.createdAt)!==null&&m!==void 0?m:void 0,L=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:M,emailVerified:W,isAnonymous:D,providerData:K,stsTokenManager:q}=n;ge(M&&q,e,"internal-error");const Z=ca.fromJSON(this.name,q);ge(typeof M=="string",e,"internal-error"),Fr(y,e.name),Fr(E,e.name),ge(typeof W=="boolean",e,"internal-error"),ge(typeof D=="boolean",e,"internal-error"),Fr(T,e.name),Fr(R,e.name),Fr(k,e.name),Fr(C,e.name),Fr(O,e.name),Fr(L,e.name);const Ie=new Si({uid:M,auth:e,email:E,emailVerified:W,displayName:y,isAnonymous:D,photoURL:R,phoneNumber:T,tenantId:k,stsTokenManager:Z,createdAt:O,lastLoginAt:L});return K&&Array.isArray(K)&&(Ie.providerData=K.map(Ue=>Object.assign({},Ue))),C&&(Ie._redirectEventId=C),Ie}static async _fromIdTokenResponse(e,n,r=!1){const s=new ca;s.updateFromServerResponse(n);const a=new Si({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Uu(a),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;function ar(t){pr(t instanceof Function,"Expected a class definition");let e=Y0.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X1.type="NONE";const X0=X1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t,e,n){return`firebase:${t}:${e}:${n}`}class ys{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=du(this.userKey,s.apiKey,a),this.fullPersistenceKey=du("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ys(ar(X0),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ar(X0);const u=du(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const g=await m._get(u);if(g){const y=Si._fromJSON(e,g);m!==a&&(d=y),a=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ys(a,e,r):(a=h[0],d&&await a._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ys(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nI(e))return"Blackberry";if(rI(e))return"Webos";if(pm(e))return"Safari";if((e.includes("chrome/")||Z1(e))&&!e.includes("edge/"))return"Chrome";if(tI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function J1(t=jt()){return/firefox\//i.test(t)}function pm(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z1(t=jt()){return/crios\//i.test(t)}function eI(t=jt()){return/iemobile/i.test(t)}function tI(t=jt()){return/android/i.test(t)}function nI(t=jt()){return/blackberry/i.test(t)}function rI(t=jt()){return/webos/i.test(t)}function Oc(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rx(t=jt()){var e;return Oc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ix(){return D_()&&document.documentMode===10}function iI(t=jt()){return Oc(t)||tI(t)||rI(t)||nI(t)||/windows phone/i.test(t)||eI(t)}function sx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e=[]){let n;switch(t){case"Browser":n=J0(jt());break;case"Worker":n=`${J0(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}async function oI(t,e){return Vs(t,"GET","/v2/recaptchaConfig",Fs(t,e))}function Z0(t){return t!==void 0&&t.enterprise!==void 0}class aI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function lI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Hn("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",ox().appendChild(r)})}function ax(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const lx="https://www.google.com/recaptcha/enterprise.js?render=",ux="recaptcha-enterprise",cx="NO_RECAPTCHA";class uI{constructor(e){this.type=ux,this.auth=Us(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{oI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new aI(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{d(h)})})}function s(a,u,d){const h=window.grecaptcha;Z0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(cx)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{r(this.auth).then(d=>{if(!n&&Z0(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}lI(lx+d).then(()=>{s(d,a,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function $u(t,e,n,r=!1){const s=new uI(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const u=Object.assign({},e);return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,d)=>{try{const h=e(a);u(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ew(this),this.idTokenSubscription=new ew(this),this.beforeStateQueue=new hx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ys.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?zt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}async initializeRecaptchaConfig(){const e=await oI(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new aI(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new uI(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await ys.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),u=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(u,this,"internal-error"),u.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Us(t){return zt(t)}class ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=F_(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){const n=Pi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ko(a,e??{}))return s;On(s,"already-initialized")}return n.initialize({options:e})}function px(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mx(t,e,n){const r=Us(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=cI(e),{host:u,port:d}=gx(e),h=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${u}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),vx()}function cI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gx(t){const e=cI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:tw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:tw(u)}}}function tw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function yx(t,e){return Vs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e){return Oa(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(t,e){return Oa(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function Sx(t,e){return Oa(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends mm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ha(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ha(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await $u(e,r,"signInWithPassword");return rf(e,s)}else return rf(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=await $u(e,r,"signInWithPassword");return rf(e,a)}else return Promise.reject(s)});case"emailLink":return wx(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return yx(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Sx(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t,e){return Oa(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="http://localhost";class bi extends mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=cm(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new bi(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ws(e,n)}buildRequest(){const e={requestUri:Ex,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cx(t){const e=xo(No(t)).link,n=e?xo(No(e)).deep_link_id:null,r=xo(No(t)).deep_link_id;return(r?xo(No(r)).link:null)||r||n||e||t}class gm{constructor(e){var n,r,s,a,u,d;const h=xo(No(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=Ix((s=h.mode)!==null&&s!==void 0?s:null);ge(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=Cx(e);try{return new gm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.providerId=$s.PROVIDER_ID}static credential(e,n){return ha._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gm.parseLink(n);return ge(r,"argument-error"),ha._fromEmailAndCode(e,r.code,r.tenantId)}}$s.PROVIDER_ID="password";$s.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends hI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Pa{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Pa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bi._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Pa{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Pa{constructor(){super("twitter.com")}static credential(e,n){return bi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e){return Oa(t,"POST","/v1/accounts:signUp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Si._fromIdTokenResponse(e,r,s),u=nw(r);return new Ri({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=nw(r);return new Ri({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function nw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Pn{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ju(e,n,r,s)}}function dI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(t,a,e,r):a})}async function Tx(t,e,n=!1){const r=await ua(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ri._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const a=await ua(t,dI(r,s,e,t),n);ge(a.idToken,r,"internal-error");const u=fm(a.idToken);ge(u,r,"internal-error");const{sub:d}=u;return ge(t.uid===d,r,"user-mismatch"),Ri._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&On(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t,e,n=!1){const r="signIn",s=await dI(t,r,e),a=await Ri._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function kx(t,e){return fI(Us(t),e)}async function bx(t,e,n){var r;const s=Us(t),a={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let u;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const m=await $u(s,a,"signUpPassword");u=sf(s,m)}else u=sf(s,a).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const g=await $u(s,a,"signUpPassword");return sf(s,g)}else return Promise.reject(m)});const d=await u.catch(m=>Promise.reject(m)),h=await Ri._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(h.user),h}function Rx(t,e,n){return kx(zt(t),$s.credential(e,n))}function Ax(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function Ox(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function Px(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function Dx(t){return zt(t).signOut()}const zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zu,"1"),this.storage.removeItem(zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){const t=jt();return pm(t)||Oc(t)}const Nx=1e3,Mx=10;class mI extends pI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=xx()&&sx(),this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);ix()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Mx):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mI.type="LOCAL";const Lx=mI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends pI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gI.type="SESSION";const vI=gI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Pc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(n.origin,a)),h=await Fx(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,h)=>{const m=vm("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function Ux(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function $x(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zx(){return yI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebaseLocalStorageDb",Bx=1,Bu="firebaseLocalStorage",SI="fbase_key";class Da{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dc(t,e){return t.transaction([Bu],e?"readwrite":"readonly").objectStore(Bu)}function Hx(){const t=indexedDB.deleteDatabase(wI);return new Da(t).toPromise()}function Qf(){const t=indexedDB.open(wI,Bx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bu,{keyPath:SI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bu)?e(r):(r.close(),await Hx(),e(await Qf()))})})}async function rw(t,e,n){const r=Dc(t,!0).put({[SI]:e,value:n});return new Da(r).toPromise()}async function Wx(t,e){const n=Dc(t,!1).get(e),r=await new Da(n).toPromise();return r===void 0?null:r.value}function iw(t,e){const n=Dc(t,!0).delete(e);return new Da(n).toPromise()}const qx=800,Kx=3;class EI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Kx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pc._getInstance(zx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $x(),!this.activeServiceWorker)return;this.sender=new Vx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qf();return await rw(e,zu,"1"),await iw(e,zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Wx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Dc(s,!1).getAll();return new Da(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EI.type="LOCAL";const Gx=EI;new Aa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){return e?ar(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yx(t){return fI(t.auth,new ym(t),t.bypassAuthState)}function Xx(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),_x(n,new ym(t),t.bypassAuthState)}async function Jx(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),Tx(n,new ym(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yx;case"linkViaPopup":case"linkViaRedirect":return Jx;case"reauthViaPopup":case"reauthViaRedirect":return Xx;default:On(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Aa(2e3,1e4);class fs extends II{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zx.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="pendingRedirect",fu=new Map;class tN extends II{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fu.get(this.auth._key());if(!e){try{const r=await nN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fu.set(this.auth._key(),e)}return this.bypassAuthState||fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nN(t,e){const n=sN(e),r=iN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function rN(t,e){fu.set(t._key(),e)}function iN(t){return ar(t._redirectPersistence)}function sN(t){return du(eN,t.config.apiKey,t.name)}async function oN(t,e,n=!1){const r=Us(t),s=Qx(r,e),u=await new tN(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=10*60*1e3;class lN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(sw(e))}saveEventToCache(e){this.cachedEventUids.add(sw(e)),this.lastProcessedEventTime=Date.now()}}function sw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t,e={}){return Vs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function fN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cN(t);for(const n of e)try{if(pN(n))return}catch{}On(t,"unauthorized-domain")}function pN(t){const e=Gf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!dN.test(n))return!1;if(hN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Aa(3e4,6e4);function ow(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gN(t){return new Promise((e,n)=>{var r,s,a;function u(){ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ow(),n(Hn(t,"network-request-failed"))},timeout:mN.get()})}if(!((s=(r=Wn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Wn().gapi)===null||a===void 0)&&a.load)u();else{const d=ax("iframefcb");return Wn()[d]=()=>{gapi.load?u():n(Hn(t,"network-request-failed"))},lI(`https://apis.google.com/js/api.js?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw pu=null,e})}let pu=null;function vN(t){return pu=pu||gN(t),pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Aa(5e3,15e3),wN="__/auth/iframe",SN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dm(e,SN):`https://${t.config.authDomain}/${wN}`,r={apiKey:e.apiKey,appName:t.name,v:Os},s=IN.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ma(r).slice(1)}`}async function TN(t){const e=await vN(t),n=Wn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:CN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Hn(t,"network-request-failed"),d=Wn().setTimeout(()=>{a(u)},yN.get());function h(){Wn().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kN=500,bN=600,RN="_blank",AN="http://localhost";class aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ON(t,e,n,r=kN,s=bN){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},_N),{width:r.toString(),height:s.toString(),top:a,left:u}),m=jt().toLowerCase();n&&(d=Z1(m)?RN:n),J1(m)&&(e=e||AN,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[T,R])=>`${E}${T}=${R},`,"");if(rx(m)&&d!=="_self")return PN(e||"",d),new aw(null);const y=window.open(e||"",d,g);ge(y,t,"popup-blocked");try{y.focus()}catch{}return new aw(y)}function PN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="__/auth/handler",xN="emulator/auth/handler",NN=encodeURIComponent("fac");async function lw(t,e,n,r,s,a){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:s};if(e instanceof hI){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",L_(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof Pa){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),m=h?`#${NN}=${encodeURIComponent(h)}`:"";return`${MN(t)}?${ma(d).slice(1)}${m}`}function MN({config:t}){return t.emulator?dm(t,xN):`https://${t.authDomain}/${DN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class LN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vI,this._completeRedirectFn=oN,this._overrideRedirectResult=rN}async _openPopup(e,n,r,s){var a;pr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await lw(e,n,r,Gf(),s);return ON(e,u,vm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await lw(e,n,r,Gf(),s);return Ux(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(pr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TN(e),r=new lN(e);return n.register("authEvent",s=>(ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(of,{type:of},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[of];u!==void 0&&n(!!u),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iI()||pm()||Oc()}}const FN=LN;var uw="@firebase/auth",cw="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $N(t){Kn(new Rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;ge(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sI(t)},m=new dx(r,s,a,h);return px(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Rn("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(r=>new VN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yn(uw,cw,UN(t)),yn(uw,cw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=5*60,zN=Jw("authIdTokenMaxAge")||jN;let hw=null;const BN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zN)return;const s=n==null?void 0:n.token;hw!==s&&(hw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function HN(t=cp()){const e=Pi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fx(t,{popupRedirectResolver:FN,persistence:[Gx,Lx,vI]}),r=Jw("authTokenSyncURL");if(r){const a=BN(r);Ox(n,a,()=>a(n.currentUser)),Ax(n,u=>a(u))}const s=Yw("auth");return s&&mx(n,`http://${s}`),n}$N("Browser");const WN={apiKey:"AIzaSyDpYCQla2yjxlZHC2h4hPJSPlhYg6y0a5M",authDomain:"equipment-tracker-566c5.firebaseapp.com",projectId:"equipment-tracker-566c5",storageBucket:"equipment-tracker-566c5.firebasestorage.app",messagingSenderId:"72142898448",appId:"1:72142898448:web:187702fc7a5b5bdad71195",measurementId:"G-L58WPXJ4J1"},wm=nS(WN);typeof window<"u"&&"navigator"in window&&w_(async()=>{const{isSupported:t}=await Promise.resolve().then(()=>_R);return{isSupported:t}},void 0).then(({isSupported:t})=>{t().then(e=>{e&&AS(wm)})});const eu=SD(wm),tu=HN(wm);function Ai(t){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(t)}function qN(t,e){if(Ai(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ai(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TI(t){var e=qN(t,"string");return Ai(e)=="symbol"?e:e+""}function Uo(t,e,n){return(e=TI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dw(Object(n),!0).forEach(function(r){Uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KN(t){if(Array.isArray(t))return t}function GN(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,u,d=[],h=!0,m=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=a.call(n)).done)&&(d.push(r.value),d.length!==e);h=!0);}catch(g){m=!0,s=g}finally{try{if(!h&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw s}}return d}}function Yf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _I(t,e){if(t){if(typeof t=="string")return Yf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yf(t,e):void 0}}function QN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(t,e){return KN(t)||GN(t,e)||_I(t,e)||QN()}function YN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gr(t,e){if(t==null)return{};var n,r,s=YN(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var XN=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function JN(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,a=t.defaultValue,u=a===void 0?null:a,d=t.inputValue,h=t.menuIsOpen,m=t.onChange,g=t.onInputChange,y=t.onMenuClose,E=t.onMenuOpen,T=t.value,R=gr(t,XN),k=x.useState(d!==void 0?d:n),C=ur(k,2),O=C[0],L=C[1],M=x.useState(h!==void 0?h:s),W=ur(M,2),D=W[0],K=W[1],q=x.useState(T!==void 0?T:u),Z=ur(q,2),Ie=Z[0],Ue=Z[1],Xe=x.useCallback(function(B,ne){typeof m=="function"&&m(B,ne),Ue(B)},[m]),Pe=x.useCallback(function(B,ne){var S;typeof g=="function"&&(S=g(B,ne)),L(S!==void 0?S:B)},[g]),qe=x.useCallback(function(){typeof E=="function"&&E(),K(!0)},[E]),$e=x.useCallback(function(){typeof y=="function"&&y(),K(!1)},[y]),De=d!==void 0?d:O,Te=h!==void 0?h:D,be=T!==void 0?T:Ie;return ce(ce({},R),{},{inputValue:De,menuIsOpen:Te,onChange:Xe,onInputChange:Pe,onMenuClose:$e,onMenuOpen:qe,value:be})}function pe(){return pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pe.apply(null,arguments)}function ZN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TI(r.key),r)}}function eM(t,e,n){return e&&fw(t.prototype,e),n&&fw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xf(t,e){return Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xf(t,e)}function tM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xf(t,e)}function Hu(t){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hu(t)}function kI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kI=function(){return!!t})()}function nM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rM(t,e){if(e&&(Ai(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nM(t)}function iM(t){var e=kI();return function(){var n,r=Hu(t);if(e){var s=Hu(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return rM(this,n)}}function sM(t){if(Array.isArray(t))return Yf(t)}function oM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sm(t){return sM(t)||oM(t)||_I(t)||aM()}function lM(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function uM(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var cM=function(){function t(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(uM(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=lM(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Nt="-ms-",Wu="-moz-",Le="-webkit-",bI="comm",Em="rule",Im="decl",hM="@import",RI="@keyframes",dM="@layer",fM=Math.abs,xc=String.fromCharCode,pM=Object.assign;function mM(t,e){return kt(t,0)^45?(((e<<2^kt(t,0))<<2^kt(t,1))<<2^kt(t,2))<<2^kt(t,3):0}function AI(t){return t.trim()}function gM(t,e){return(t=e.exec(t))?t[0]:t}function Fe(t,e,n){return t.replace(e,n)}function Jf(t,e){return t.indexOf(e)}function kt(t,e){return t.charCodeAt(e)|0}function da(t,e,n){return t.slice(e,n)}function Vn(t){return t.length}function Cm(t){return t.length}function nu(t,e){return e.push(t),t}function vM(t,e){return t.map(e).join("")}var Nc=1,As=1,OI=0,en=0,dt=0,js="";function Mc(t,e,n,r,s,a,u){return{value:t,root:e,parent:n,type:r,props:s,children:a,line:Nc,column:As,length:u,return:""}}function Po(t,e){return pM(Mc("",null,null,"",null,null,0),t,{length:-t.length},e)}function yM(){return dt}function wM(){return dt=en>0?kt(js,--en):0,As--,dt===10&&(As=1,Nc--),dt}function ln(){return dt=en<OI?kt(js,en++):0,As++,dt===10&&(As=1,Nc++),dt}function qn(){return kt(js,en)}function mu(){return en}function xa(t,e){return da(js,t,e)}function fa(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PI(t){return Nc=As=1,OI=Vn(js=t),en=0,[]}function DI(t){return js="",t}function gu(t){return AI(xa(en-1,Zf(t===91?t+2:t===40?t+1:t)))}function SM(t){for(;(dt=qn())&&dt<33;)ln();return fa(t)>2||fa(dt)>3?"":" "}function EM(t,e){for(;--e&&ln()&&!(dt<48||dt>102||dt>57&&dt<65||dt>70&&dt<97););return xa(t,mu()+(e<6&&qn()==32&&ln()==32))}function Zf(t){for(;ln();)switch(dt){case t:return en;case 34:case 39:t!==34&&t!==39&&Zf(dt);break;case 40:t===41&&Zf(t);break;case 92:ln();break}return en}function IM(t,e){for(;ln()&&t+dt!==57;)if(t+dt===84&&qn()===47)break;return"/*"+xa(e,en-1)+"*"+xc(t===47?t:ln())}function CM(t){for(;!fa(qn());)ln();return xa(t,en)}function TM(t){return DI(vu("",null,null,null,[""],t=PI(t),0,[0],t))}function vu(t,e,n,r,s,a,u,d,h){for(var m=0,g=0,y=u,E=0,T=0,R=0,k=1,C=1,O=1,L=0,M="",W=s,D=a,K=r,q=M;C;)switch(R=L,L=ln()){case 40:if(R!=108&&kt(q,y-1)==58){Jf(q+=Fe(gu(L),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:q+=gu(L);break;case 9:case 10:case 13:case 32:q+=SM(R);break;case 92:q+=EM(mu()-1,7);continue;case 47:switch(qn()){case 42:case 47:nu(_M(IM(ln(),mu()),e,n),h);break;default:q+="/"}break;case 123*k:d[m++]=Vn(q)*O;case 125*k:case 59:case 0:switch(L){case 0:case 125:C=0;case 59+g:O==-1&&(q=Fe(q,/\f/g,"")),T>0&&Vn(q)-y&&nu(T>32?mw(q+";",r,n,y-1):mw(Fe(q," ","")+";",r,n,y-2),h);break;case 59:q+=";";default:if(nu(K=pw(q,e,n,m,g,s,d,M,W=[],D=[],y),a),L===123)if(g===0)vu(q,e,K,K,W,a,y,d,D);else switch(E===99&&kt(q,3)===110?100:E){case 100:case 108:case 109:case 115:vu(t,K,K,r&&nu(pw(t,K,K,0,0,s,d,M,s,W=[],y),D),s,D,y,d,r?W:D);break;default:vu(q,K,K,K,[""],D,0,d,D)}}m=g=T=0,k=O=1,M=q="",y=u;break;case 58:y=1+Vn(q),T=R;default:if(k<1){if(L==123)--k;else if(L==125&&k++==0&&wM()==125)continue}switch(q+=xc(L),L*k){case 38:O=g>0?1:(q+="\f",-1);break;case 44:d[m++]=(Vn(q)-1)*O,O=1;break;case 64:qn()===45&&(q+=gu(ln())),E=qn(),g=y=Vn(M=q+=CM(mu())),L++;break;case 45:R===45&&Vn(q)==2&&(k=0)}}return a}function pw(t,e,n,r,s,a,u,d,h,m,g){for(var y=s-1,E=s===0?a:[""],T=Cm(E),R=0,k=0,C=0;R<r;++R)for(var O=0,L=da(t,y+1,y=fM(k=u[R])),M=t;O<T;++O)(M=AI(k>0?E[O]+" "+L:Fe(L,/&\f/g,E[O])))&&(h[C++]=M);return Mc(t,e,n,s===0?Em:d,h,m,g)}function _M(t,e,n){return Mc(t,e,n,bI,xc(yM()),da(t,2,-2),0)}function mw(t,e,n,r){return Mc(t,e,n,Im,da(t,0,r),da(t,r+1,-1),r)}function Ss(t,e){for(var n="",r=Cm(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function kM(t,e,n,r){switch(t.type){case dM:if(t.children.length)break;case hM:case Im:return t.return=t.return||t.value;case bI:return"";case RI:return t.return=t.value+"{"+Ss(t.children,r)+"}";case Em:t.value=t.props.join(",")}return Vn(n=Ss(t.children,r))?t.return=t.value+"{"+n+"}":""}function bM(t){var e=Cm(t);return function(n,r,s,a){for(var u="",d=0;d<e;d++)u+=t[d](n,r,s,a)||"";return u}}function RM(t){return function(e){e.root||(e=e.return)&&t(e)}}function AM(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var OM=function(e,n,r){for(var s=0,a=0;s=a,a=qn(),s===38&&a===12&&(n[r]=1),!fa(a);)ln();return xa(e,en)},PM=function(e,n){var r=-1,s=44;do switch(fa(s)){case 0:s===38&&qn()===12&&(n[r]=1),e[r]+=OM(en-1,n,r);break;case 2:e[r]+=gu(s);break;case 4:if(s===44){e[++r]=qn()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xc(s)}while(s=ln());return e},DM=function(e,n){return DI(PM(PI(e),n))},gw=new WeakMap,xM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gw.get(r))&&!s){gw.set(e,!0);for(var a=[],u=DM(n,a),d=r.props,h=0,m=0;h<u.length;h++)for(var g=0;g<d.length;g++,m++)e.props[m]=a[h]?u[h].replace(/&\f/g,d[g]):d[g]+" "+u[h]}}},NM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function xI(t,e){switch(mM(t,e)){case 5103:return Le+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Le+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Le+t+Wu+t+Nt+t+t;case 6828:case 4268:return Le+t+Nt+t+t;case 6165:return Le+t+Nt+"flex-"+t+t;case 5187:return Le+t+Fe(t,/(\w+).+(:[^]+)/,Le+"box-$1$2"+Nt+"flex-$1$2")+t;case 5443:return Le+t+Nt+"flex-item-"+Fe(t,/flex-|-self/,"")+t;case 4675:return Le+t+Nt+"flex-line-pack"+Fe(t,/align-content|flex-|-self/,"")+t;case 5548:return Le+t+Nt+Fe(t,"shrink","negative")+t;case 5292:return Le+t+Nt+Fe(t,"basis","preferred-size")+t;case 6060:return Le+"box-"+Fe(t,"-grow","")+Le+t+Nt+Fe(t,"grow","positive")+t;case 4554:return Le+Fe(t,/([^-])(transform)/g,"$1"+Le+"$2")+t;case 6187:return Fe(Fe(Fe(t,/(zoom-|grab)/,Le+"$1"),/(image-set)/,Le+"$1"),t,"")+t;case 5495:case 3959:return Fe(t,/(image-set\([^]*)/,Le+"$1$`$1");case 4968:return Fe(Fe(t,/(.+:)(flex-)?(.*)/,Le+"box-pack:$3"+Nt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Le+t+t;case 4095:case 3583:case 4068:case 2532:return Fe(t,/(.+)-inline(.+)/,Le+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vn(t)-1-e>6)switch(kt(t,e+1)){case 109:if(kt(t,e+4)!==45)break;case 102:return Fe(t,/(.+:)(.+)-([^]+)/,"$1"+Le+"$2-$3$1"+Wu+(kt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Jf(t,"stretch")?xI(Fe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(kt(t,e+1)!==115)break;case 6444:switch(kt(t,Vn(t)-3-(~Jf(t,"!important")&&10))){case 107:return Fe(t,":",":"+Le)+t;case 101:return Fe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Le+(kt(t,14)===45?"inline-":"")+"box$3$1"+Le+"$2$3$1"+Nt+"$2box$3")+t}break;case 5936:switch(kt(t,e+11)){case 114:return Le+t+Nt+Fe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Le+t+Nt+Fe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Le+t+Nt+Fe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Le+t+Nt+t+t}return t}var MM=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Im:e.return=xI(e.value,e.length);break;case RI:return Ss([Po(e,{value:Fe(e.value,"@","@"+Le)})],s);case Em:if(e.length)return vM(e.props,function(a){switch(gM(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ss([Po(e,{props:[Fe(a,/:(read-\w+)/,":"+Wu+"$1")]})],s);case"::placeholder":return Ss([Po(e,{props:[Fe(a,/:(plac\w+)/,":"+Le+"input-$1")]}),Po(e,{props:[Fe(a,/:(plac\w+)/,":"+Wu+"$1")]}),Po(e,{props:[Fe(a,/:(plac\w+)/,Nt+"input-$1")]})],s)}return""})}},LM=[MM],FM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var C=k.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var s=e.stylisPlugins||LM,a={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(k){for(var C=k.getAttribute("data-emotion").split(" "),O=1;O<C.length;O++)a[C[O]]=!0;d.push(k)});var h,m=[xM,NM];{var g,y=[kM,RM(function(k){g.insert(k)})],E=bM(m.concat(s,y)),T=function(C){return Ss(TM(C),E)};h=function(C,O,L,M){g=L,T(C?C+"{"+O.styles+"}":O.styles),M&&(R.inserted[O.name]=!0)}}var R={key:n,sheet:new cM({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return R.sheet.hydrate(d),R},af={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function VM(){if(vw)return je;vw=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,E=t?Symbol.for("react.suspense_list"):60120,T=t?Symbol.for("react.memo"):60115,R=t?Symbol.for("react.lazy"):60116,k=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,O=t?Symbol.for("react.responder"):60118,L=t?Symbol.for("react.scope"):60119;function M(D){if(typeof D=="object"&&D!==null){var K=D.$$typeof;switch(K){case e:switch(D=D.type,D){case h:case m:case r:case a:case s:case y:return D;default:switch(D=D&&D.$$typeof,D){case d:case g:case R:case T:case u:return D;default:return K}}case n:return K}}}function W(D){return M(D)===m}return je.AsyncMode=h,je.ConcurrentMode=m,je.ContextConsumer=d,je.ContextProvider=u,je.Element=e,je.ForwardRef=g,je.Fragment=r,je.Lazy=R,je.Memo=T,je.Portal=n,je.Profiler=a,je.StrictMode=s,je.Suspense=y,je.isAsyncMode=function(D){return W(D)||M(D)===h},je.isConcurrentMode=W,je.isContextConsumer=function(D){return M(D)===d},je.isContextProvider=function(D){return M(D)===u},je.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},je.isForwardRef=function(D){return M(D)===g},je.isFragment=function(D){return M(D)===r},je.isLazy=function(D){return M(D)===R},je.isMemo=function(D){return M(D)===T},je.isPortal=function(D){return M(D)===n},je.isProfiler=function(D){return M(D)===a},je.isStrictMode=function(D){return M(D)===s},je.isSuspense=function(D){return M(D)===y},je.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===m||D===a||D===s||D===y||D===E||typeof D=="object"&&D!==null&&(D.$$typeof===R||D.$$typeof===T||D.$$typeof===u||D.$$typeof===d||D.$$typeof===g||D.$$typeof===C||D.$$typeof===O||D.$$typeof===L||D.$$typeof===k)},je.typeOf=M,je}var yw;function UM(){return yw||(yw=1,af.exports=VM()),af.exports}var lf,ww;function $M(){if(ww)return lf;ww=1;var t=UM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=s;function u(R){return t.isMemo(R)?s:a[R.$$typeof]||e}var d=Object.defineProperty,h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,E=Object.prototype;function T(R,k,C){if(typeof k!="string"){if(E){var O=y(k);O&&O!==E&&T(R,O,C)}var L=h(k);m&&(L=L.concat(m(k)));for(var M=u(R),W=u(k),D=0;D<L.length;++D){var K=L[D];if(!n[K]&&!(C&&C[K])&&!(W&&W[K])&&!(M&&M[K])){var q=g(k,K);try{d(R,K,q)}catch{}}}}return R}return lf=T,lf}$M();var jM=!0;function zM(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var NI=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||jM===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},BM=function(e,n,r){NI(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function HM(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var WM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qM=/[A-Z]|^ms/g,KM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MI=function(e){return e.charCodeAt(1)===45},Sw=function(e){return e!=null&&typeof e!="boolean"},uf=AM(function(t){return MI(t)?t:t.replace(qM,"-$&").toLowerCase()}),Ew=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(KM,function(r,s,a){return Un={name:s,styles:a,next:Un},s})}return WM[e]!==1&&!MI(e)&&typeof n=="number"&&n!==0?n+"px":n};function pa(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Un={name:s.name,styles:s.styles,next:Un},s.name;var a=n;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)Un={name:u.name,styles:u.styles,next:Un},u=u.next;var d=a.styles+";";return d}return GM(t,e,n)}case"function":{if(t!==void 0){var h=Un,m=n(t);return Un=h,pa(t,e,m)}break}}var g=n;return g}function GM(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=pa(t,e,n[s])+";";else for(var a in n){var u=n[a];if(typeof u!="object"){var d=u;Sw(d)&&(r+=uf(a)+":"+Ew(a,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var h=0;h<u.length;h++)Sw(u[h])&&(r+=uf(a)+":"+Ew(a,u[h])+";");else{var m=pa(t,e,u);switch(a){case"animation":case"animationName":{r+=uf(a)+":"+m+";";break}default:r+=a+"{"+m+"}"}}}return r}var Iw=/label:\s*([^\s;{]+)\s*(;|$)/g,Un;function LI(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Un=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,s+=pa(n,e,a);else{var u=a;s+=u[0]}for(var d=1;d<t.length;d++)if(s+=pa(n,e,t[d]),r){var h=a;s+=h[d]}Iw.lastIndex=0;for(var m="",g;(g=Iw.exec(s))!==null;)m+="-"+g[1];var y=HM(s)+m;return{name:y,styles:s,next:Un}}var QM=function(e){return e()},YM=ky.useInsertionEffect?ky.useInsertionEffect:!1,XM=YM||QM,FI=x.createContext(typeof HTMLElement<"u"?FM({key:"css"}):null);FI.Provider;var JM=function(e){return x.forwardRef(function(n,r){var s=x.useContext(FI);return e(n,s,r)})},ZM=x.createContext({}),Tm={}.hasOwnProperty,ep="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",eL=function(e,n){var r={};for(var s in n)Tm.call(n,s)&&(r[s]=n[s]);return r[ep]=e,r},tL=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return NI(n,r,s),XM(function(){return BM(n,r,s)}),null},nL=JM(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[ep],a=[r],u="";typeof t.className=="string"?u=zM(e.registered,a,t.className):t.className!=null&&(u=t.className+" ");var d=LI(a,void 0,x.useContext(ZM));u+=e.key+"-"+d.name;var h={};for(var m in t)Tm.call(t,m)&&m!=="css"&&m!==ep&&(h[m]=t[m]);return h.className=u,n&&(h.ref=n),x.createElement(x.Fragment,null,x.createElement(tL,{cache:e,serialized:d,isStringTag:typeof s=="string"}),x.createElement(s,h))}),rL=nL,se=function(e,n){var r=arguments;if(n==null||!Tm.call(n,"css"))return x.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=rL,a[1]=eL(e,n);for(var u=2;u<s;u++)a[u]=r[u];return x.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(se||(se={}));function _m(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return LI(e)}function iL(){var t=_m.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function sL(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const oL=Math.min,aL=Math.max,qu=Math.round,ru=Math.floor,Ku=t=>({x:t,y:t});function lL(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Lc(){return typeof window<"u"}function VI(t){return $I(t)?(t.nodeName||"").toLowerCase():"#document"}function mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function UI(t){var e;return(e=($I(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $I(t){return Lc()?t instanceof Node||t instanceof mr(t).Node:!1}function uL(t){return Lc()?t instanceof Element||t instanceof mr(t).Element:!1}function km(t){return Lc()?t instanceof HTMLElement||t instanceof mr(t).HTMLElement:!1}function Cw(t){return!Lc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mr(t).ShadowRoot}function jI(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=bm(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function cL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hL(t){return["html","body","#document"].includes(VI(t))}function bm(t){return mr(t).getComputedStyle(t)}function dL(t){if(VI(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Cw(t)&&t.host||UI(t);return Cw(e)?e.host:e}function zI(t){const e=dL(t);return hL(e)?t.ownerDocument?t.ownerDocument.body:t.body:km(e)&&jI(e)?e:zI(e)}function Gu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=zI(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),u=mr(s);if(a){const d=tp(u);return e.concat(u,u.visualViewport||[],jI(s)?s:[],d&&n?Gu(d):[])}return e.concat(s,Gu(s,[],n))}function tp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fL(t){const e=bm(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=km(t),a=s?t.offsetWidth:n,u=s?t.offsetHeight:r,d=qu(n)!==a||qu(r)!==u;return d&&(n=a,r=u),{width:n,height:r,$:d}}function Rm(t){return uL(t)?t:t.contextElement}function Tw(t){const e=Rm(t);if(!km(e))return Ku(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=fL(e);let u=(a?qu(n.width):n.width)/r,d=(a?qu(n.height):n.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const pL=Ku(0);function mL(t){const e=mr(t);return!cL()||!e.visualViewport?pL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gL(t,e,n){return!1}function _w(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),a=Rm(t);let u=Ku(1);e&&(u=Tw(t));const d=gL()?mL(a):Ku(0);let h=(s.left+d.x)/u.x,m=(s.top+d.y)/u.y,g=s.width/u.x,y=s.height/u.y;if(a){const E=mr(a),T=r;let R=E,k=tp(R);for(;k&&r&&T!==R;){const C=Tw(k),O=k.getBoundingClientRect(),L=bm(k),M=O.left+(k.clientLeft+parseFloat(L.paddingLeft))*C.x,W=O.top+(k.clientTop+parseFloat(L.paddingTop))*C.y;h*=C.x,m*=C.y,g*=C.x,y*=C.y,h+=M,m+=W,R=mr(k),k=tp(R)}}return lL({width:g,height:y,x:h,y:m})}function BI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function vL(t,e){let n=null,r;const s=UI(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const m=t.getBoundingClientRect(),{left:g,top:y,width:E,height:T}=m;if(d||e(),!E||!T)return;const R=ru(y),k=ru(s.clientWidth-(g+E)),C=ru(s.clientHeight-(y+T)),O=ru(g),M={rootMargin:-R+"px "+-k+"px "+-C+"px "+-O+"px",threshold:aL(0,oL(1,h))||1};let W=!0;function D(K){const q=K[0].intersectionRatio;if(q!==h){if(!W)return u();q?u(!1,q):r=setTimeout(()=>{u(!1,1e-7)},1e3)}q===1&&!BI(m,t.getBoundingClientRect())&&u(),W=!1}try{n=new IntersectionObserver(D,{...M,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,M)}n.observe(t)}return u(!0),a}function yL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=Rm(t),g=s||a?[...m?Gu(m):[],...Gu(e)]:[];g.forEach(O=>{s&&O.addEventListener("scroll",n,{passive:!0}),a&&O.addEventListener("resize",n)});const y=m&&d?vL(m,n):null;let E=-1,T=null;u&&(T=new ResizeObserver(O=>{let[L]=O;L&&L.target===m&&T&&(T.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var M;(M=T)==null||M.observe(e)})),n()}),m&&!h&&T.observe(m),T.observe(e));let R,k=h?_w(t):null;h&&C();function C(){const O=_w(t);k&&!BI(k,O)&&n(),k=O,R=requestAnimationFrame(C)}return n(),()=>{var O;g.forEach(L=>{s&&L.removeEventListener("scroll",n),a&&L.removeEventListener("resize",n)}),y==null||y(),(O=T)==null||O.disconnect(),T=null,h&&cancelAnimationFrame(R)}}var np=x.useLayoutEffect,wL=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Qu=function(){};function SL(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function EL(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var a=[].concat(r);if(e&&t)for(var u in e)e.hasOwnProperty(u)&&e[u]&&a.push("".concat(SL(t,u)));return a.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var kw=function(e){return OL(e)?e.filter(Boolean):Ai(e)==="object"&&e!==null?[e]:[]},HI=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=gr(e,wL);return ce({},n)},st=function(e,n,r){var s=e.cx,a=e.getStyles,u=e.getClassNames,d=e.className;return{css:a(n,e),className:s(r??{},u(n,e),d)}};function Fc(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function IL(t){return Fc(t)?window.innerHeight:t.clientHeight}function WI(t){return Fc(t)?window.pageYOffset:t.scrollTop}function Yu(t,e){if(Fc(t)){window.scrollTo(0,e);return}t.scrollTop=e}function CL(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function TL(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function iu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Qu,s=WI(t),a=e-s,u=10,d=0;function h(){d+=u;var m=TL(d,s,a,n);Yu(t,m),d<n?window.requestAnimationFrame(h):r(t)}h()}function bw(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?Yu(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&Yu(t,Math.max(e.offsetTop-s,0))}function _L(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Rw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function kL(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var qI=!1,bL={get passive(){return qI=!0}},su=typeof window<"u"?window:{};su.addEventListener&&su.removeEventListener&&(su.addEventListener("p",Qu,bL),su.removeEventListener("p",Qu,!1));var RL=qI;function AL(t){return t!=null}function OL(t){return Array.isArray(t)}function ou(t,e,n){return t?e:n}var PL=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var a=Object.entries(e).filter(function(u){var d=ur(u,1),h=d[0];return!r.includes(h)});return a.reduce(function(u,d){var h=ur(d,2),m=h[0],g=h[1];return u[m]=g,u},{})},DL=["children","innerProps"],xL=["children","innerProps"];function NL(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,a=t.shouldScroll,u=t.isFixedPosition,d=t.controlHeight,h=CL(n),m={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return m;var g=h.getBoundingClientRect(),y=g.height,E=n.getBoundingClientRect(),T=E.bottom,R=E.height,k=E.top,C=n.offsetParent.getBoundingClientRect(),O=C.top,L=u?window.innerHeight:IL(h),M=WI(h),W=parseInt(getComputedStyle(n).marginBottom,10),D=parseInt(getComputedStyle(n).marginTop,10),K=O-D,q=L-k,Z=K+M,Ie=y-M-k,Ue=T-L+M+W,Xe=M+k-D,Pe=160;switch(s){case"auto":case"bottom":if(q>=R)return{placement:"bottom",maxHeight:e};if(Ie>=R&&!u)return a&&iu(h,Ue,Pe),{placement:"bottom",maxHeight:e};if(!u&&Ie>=r||u&&q>=r){a&&iu(h,Ue,Pe);var qe=u?q-W:Ie-W;return{placement:"bottom",maxHeight:qe}}if(s==="auto"||u){var $e=e,De=u?K:Z;return De>=r&&($e=Math.min(De-W-d,e)),{placement:"top",maxHeight:$e}}if(s==="bottom")return a&&Yu(h,Ue),{placement:"bottom",maxHeight:e};break;case"top":if(K>=R)return{placement:"top",maxHeight:e};if(Z>=R&&!u)return a&&iu(h,Xe,Pe),{placement:"top",maxHeight:e};if(!u&&Z>=r||u&&K>=r){var Te=e;return(!u&&Z>=r||u&&K>=r)&&(Te=u?K-D:Z-D),a&&iu(h,Xe,Pe),{placement:"top",maxHeight:Te}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return m}function ML(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var KI=function(e){return e==="auto"?"bottom":e},LL=function(e,n){var r,s=e.placement,a=e.theme,u=a.borderRadius,d=a.spacing,h=a.colors;return ce((r={label:"menu"},Uo(r,ML(s),"100%"),Uo(r,"position","absolute"),Uo(r,"width","100%"),Uo(r,"zIndex",1),r),n?{}:{backgroundColor:h.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},GI=x.createContext(null),FL=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,a=e.menuPlacement,u=e.menuPosition,d=e.menuShouldScrollIntoView,h=e.theme,m=x.useContext(GI)||{},g=m.setPortalPlacement,y=x.useRef(null),E=x.useState(s),T=ur(E,2),R=T[0],k=T[1],C=x.useState(null),O=ur(C,2),L=O[0],M=O[1],W=h.spacing.controlHeight;return np(function(){var D=y.current;if(D){var K=u==="fixed",q=d&&!K,Z=NL({maxHeight:s,menuEl:D,minHeight:r,placement:a,shouldScroll:q,isFixedPosition:K,controlHeight:W});k(Z.maxHeight),M(Z.placement),g==null||g(Z.placement)}},[s,a,u,d,r,g,W]),n({ref:y,placerProps:ce(ce({},e),{},{placement:L||KI(a),maxHeight:R})})},VL=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return se("div",pe({},st(e,"menu",{menu:!0}),{ref:r},s),n)},UL=VL,$L=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return ce({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},jL=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,a=e.isMulti;return se("div",pe({},st(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:s},r),n)},QI=function(e,n){var r=e.theme,s=r.spacing.baseUnit,a=r.colors;return ce({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},zL=QI,BL=QI,HL=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,a=gr(e,DL);return se("div",pe({},st(ce(ce({},a),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},WL=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,a=gr(e,xL);return se("div",pe({},st(ce(ce({},a),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},qL=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},KL=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,a=e.innerProps,u=e.menuPlacement,d=e.menuPosition,h=x.useRef(null),m=x.useRef(null),g=x.useState(KI(u)),y=ur(g,2),E=y[0],T=y[1],R=x.useMemo(function(){return{setPortalPlacement:T}},[]),k=x.useState(null),C=ur(k,2),O=C[0],L=C[1],M=x.useCallback(function(){if(s){var q=_L(s),Z=d==="fixed"?0:window.pageYOffset,Ie=q[E]+Z;(Ie!==(O==null?void 0:O.offset)||q.left!==(O==null?void 0:O.rect.left)||q.width!==(O==null?void 0:O.rect.width))&&L({offset:Ie,rect:q})}},[s,d,E,O==null?void 0:O.offset,O==null?void 0:O.rect.left,O==null?void 0:O.rect.width]);np(function(){M()},[M]);var W=x.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),s&&h.current&&(m.current=yL(s,h.current,M,{elementResize:"ResizeObserver"in window}))},[s,M]);np(function(){W()},[W]);var D=x.useCallback(function(q){h.current=q,W()},[W]);if(!n&&d!=="fixed"||!O)return null;var K=se("div",pe({ref:D},st(ce(ce({},e),{},{offset:O.offset,position:d,rect:O.rect}),"menuPortal",{"menu-portal":!0}),a),r);return se(GI.Provider,{value:R},n?qw.createPortal(K,n):K)},GL=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},QL=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,a=e.isRtl;return se("div",pe({},st(e,"container",{"--is-disabled":s,"--is-rtl":a}),r),n)},YL=function(e,n){var r=e.theme.spacing,s=e.isMulti,a=e.hasValue,u=e.selectProps.controlShouldRenderValue;return ce({alignItems:"center",display:s&&a&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},XL=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,a=e.hasValue;return se("div",pe({},st(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":a}),r),n)},JL=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},ZL=function(e){var n=e.children,r=e.innerProps;return se("div",pe({},st(e,"indicatorsContainer",{indicators:!0}),r),n)},Aw,e2=["size"],t2=["innerProps","isRtl","size"],n2={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},YI=function(e){var n=e.size,r=gr(e,e2);return se("svg",pe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:n2},r))},Am=function(e){return se(YI,pe({size:20},e),se("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},XI=function(e){return se(YI,pe({size:20},e),se("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},JI=function(e,n){var r=e.isFocused,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return ce({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?u.neutral60:u.neutral20,padding:a*2,":hover":{color:r?u.neutral80:u.neutral40}})},r2=JI,i2=function(e){var n=e.children,r=e.innerProps;return se("div",pe({},st(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||se(XI,null))},s2=JI,o2=function(e){var n=e.children,r=e.innerProps;return se("div",pe({},st(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||se(Am,null))},a2=function(e,n){var r=e.isDisabled,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return ce({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2})},l2=function(e){var n=e.innerProps;return se("span",pe({},n,st(e,"indicatorSeparator",{"indicator-separator":!0})))},u2=iL(Aw||(Aw=sL([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),c2=function(e,n){var r=e.isFocused,s=e.size,a=e.theme,u=a.colors,d=a.spacing.baseUnit;return ce({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?u.neutral60:u.neutral20,padding:d*2})},cf=function(e){var n=e.delay,r=e.offset;return se("span",{css:_m({animation:"".concat(u2," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},h2=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,a=s===void 0?4:s,u=gr(e,t2);return se("div",pe({},st(ce(ce({},u),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),se(cf,{delay:0,offset:r}),se(cf,{delay:160,offset:!0}),se(cf,{delay:320,offset:!r}))},d2=function(e,n){var r=e.isDisabled,s=e.isFocused,a=e.theme,u=a.colors,d=a.borderRadius,h=a.spacing;return ce({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},f2=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,a=e.innerRef,u=e.innerProps,d=e.menuIsOpen;return se("div",pe({ref:a},st(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":d}),u,{"aria-disabled":r||void 0}),n)},p2=f2,m2=["data"],g2=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},v2=function(e){var n=e.children,r=e.cx,s=e.getStyles,a=e.getClassNames,u=e.Heading,d=e.headingProps,h=e.innerProps,m=e.label,g=e.theme,y=e.selectProps;return se("div",pe({},st(e,"group",{group:!0}),h),se(u,pe({},d,{selectProps:y,theme:g,getStyles:s,getClassNames:a,cx:r}),m),se("div",null,n))},y2=function(e,n){var r=e.theme,s=r.colors,a=r.spacing;return ce({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},w2=function(e){var n=HI(e);n.data;var r=gr(n,m2);return se("div",pe({},st(e,"groupHeading",{"group-heading":!0}),r))},S2=v2,E2=["innerRef","isDisabled","isHidden","inputClassName"],I2=function(e,n){var r=e.isDisabled,s=e.value,a=e.theme,u=a.spacing,d=a.colors;return ce(ce({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},C2),n?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:d.neutral80})},ZI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},C2={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ce({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ZI)},T2=function(e){return ce({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ZI)},_2=function(e){var n=e.cx,r=e.value,s=HI(e),a=s.innerRef,u=s.isDisabled,d=s.isHidden,h=s.inputClassName,m=gr(s,E2);return se("div",pe({},st(e,"input",{"input-container":!0}),{"data-value":r||""}),se("input",pe({className:n({input:!0},h),ref:a,style:T2(d),disabled:u},m)))},k2=_2,b2=function(e,n){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors;return ce({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:u.neutral10,borderRadius:a/2,margin:s.baseUnit/2})},R2=function(e,n){var r=e.theme,s=r.borderRadius,a=r.colors,u=e.cropWithEllipsis;return ce({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},A2=function(e,n){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors,d=e.isFocused;return ce({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:d?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},eC=function(e){var n=e.children,r=e.innerProps;return se("div",r,n)},O2=eC,P2=eC;function D2(t){var e=t.children,n=t.innerProps;return se("div",pe({role:"button"},n),e||se(Am,{size:14}))}var x2=function(e){var n=e.children,r=e.components,s=e.data,a=e.innerProps,u=e.isDisabled,d=e.removeProps,h=e.selectProps,m=r.Container,g=r.Label,y=r.Remove;return se(m,{data:s,innerProps:ce(ce({},st(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),a),selectProps:h},se(g,{data:s,innerProps:ce({},st(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},n),se(y,{data:s,innerProps:ce(ce({},st(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},d),selectProps:h}))},N2=x2,M2=function(e,n){var r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.theme,d=u.spacing,h=u.colors;return ce({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?h.primary:s?h.primary25:"transparent",color:r?h.neutral20:a?h.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?h.primary:h.primary50}})},L2=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.innerRef,d=e.innerProps;return se("div",pe({},st(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":a}),{ref:u,"aria-disabled":r},d),n)},F2=L2,V2=function(e,n){var r=e.theme,s=r.spacing,a=r.colors;return ce({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},U2=function(e){var n=e.children,r=e.innerProps;return se("div",pe({},st(e,"placeholder",{placeholder:!0}),r),n)},$2=U2,j2=function(e,n){var r=e.isDisabled,s=e.theme,a=s.spacing,u=s.colors;return ce({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},z2=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return se("div",pe({},st(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},B2=z2,H2={ClearIndicator:o2,Control:p2,DropdownIndicator:i2,DownChevron:XI,CrossIcon:Am,Group:S2,GroupHeading:w2,IndicatorsContainer:ZL,IndicatorSeparator:l2,Input:k2,LoadingIndicator:h2,Menu:UL,MenuList:jL,MenuPortal:KL,LoadingMessage:WL,NoOptionsMessage:HL,MultiValue:N2,MultiValueContainer:O2,MultiValueLabel:P2,MultiValueRemove:D2,Option:F2,Placeholder:$2,SelectContainer:QL,SingleValue:B2,ValueContainer:XL},W2=function(e){return ce(ce({},H2),e.components)},Ow=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function q2(t,e){return!!(t===e||Ow(t)&&Ow(e))}function K2(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!q2(t[n],e[n]))return!1;return!0}function G2(t,e){e===void 0&&(e=K2);var n=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var u=t.apply(this,s);return n={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){n=null},r}var Q2={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Y2=function(e){return se("span",pe({css:Q2},e))},Pw=Y2,X2={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,a=e.context,u=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,a=e.labels,u=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,a=e.label,u=a===void 0?"":a,d=e.selectValue,h=e.isDisabled,m=e.isSelected,g=e.isAppleDevice,y=function(k,C){return k&&k.length?"".concat(k.indexOf(C)+1," of ").concat(k.length):""};if(n==="value"&&d)return"value ".concat(u," focused, ").concat(y(d,r),".");if(n==="menu"&&g){var E=h?" disabled":"",T="".concat(m?" selected":"").concat(E);return"".concat(u).concat(T,", ").concat(y(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},J2=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,a=e.focusableOptions,u=e.isFocused,d=e.selectValue,h=e.selectProps,m=e.id,g=e.isAppleDevice,y=h.ariaLiveMessages,E=h.getOptionLabel,T=h.inputValue,R=h.isMulti,k=h.isOptionDisabled,C=h.isSearchable,O=h.menuIsOpen,L=h.options,M=h.screenReaderStatus,W=h.tabSelectsValue,D=h.isLoading,K=h["aria-label"],q=h["aria-live"],Z=x.useMemo(function(){return ce(ce({},X2),y||{})},[y]),Ie=x.useMemo(function(){var De="";if(n&&Z.onChange){var Te=n.option,be=n.options,B=n.removedValue,ne=n.removedValues,S=n.value,N=function(we){return Array.isArray(we)?null:we},G=B||Te||N(S),de=G?E(G):"",oe=be||ne||void 0,_e=oe?oe.map(E):[],fe=ce({isDisabled:G&&k(G,d),label:de,labels:_e},n);De=Z.onChange(fe)}return De},[n,Z,k,d,E]),Ue=x.useMemo(function(){var De="",Te=r||s,be=!!(r&&d&&d.includes(r));if(Te&&Z.onFocus){var B={focused:Te,label:E(Te),isDisabled:k(Te,d),isSelected:be,options:a,context:Te===r?"menu":"value",selectValue:d,isAppleDevice:g};De=Z.onFocus(B)}return De},[r,s,E,k,Z,a,d,g]),Xe=x.useMemo(function(){var De="";if(O&&L.length&&!D&&Z.onFilter){var Te=M({count:a.length});De=Z.onFilter({inputValue:T,resultsMessage:Te})}return De},[a,T,O,Z,L,M,D]),Pe=(n==null?void 0:n.action)==="initial-input-focus",qe=x.useMemo(function(){var De="";if(Z.guidance){var Te=s?"value":O?"menu":"input";De=Z.guidance({"aria-label":K,context:Te,isDisabled:r&&k(r,d),isMulti:R,isSearchable:C,tabSelectsValue:W,isInitialFocus:Pe})}return De},[K,r,s,R,k,C,O,Z,d,W,Pe]),$e=se(x.Fragment,null,se("span",{id:"aria-selection"},Ie),se("span",{id:"aria-focused"},Ue),se("span",{id:"aria-results"},Xe),se("span",{id:"aria-guidance"},qe));return se(x.Fragment,null,se(Pw,{id:m},Pe&&$e),se(Pw,{"aria-live":q,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!Pe&&$e))},Z2=J2,rp=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],e4=new RegExp("["+rp.map(function(t){return t.letters}).join("")+"]","g"),tC={};for(var hf=0;hf<rp.length;hf++)for(var df=rp[hf],ff=0;ff<df.letters.length;ff++)tC[df.letters[ff]]=df.base;var nC=function(e){return e.replace(e4,function(n){return tC[n]})},t4=G2(nC),Dw=function(e){return e.replace(/^\s+|\s+$/g,"")},n4=function(e){return"".concat(e.label," ").concat(e.value)},r4=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=ce({ignoreCase:!0,ignoreAccents:!0,stringify:n4,trim:!0,matchFrom:"any"},e),a=s.ignoreCase,u=s.ignoreAccents,d=s.stringify,h=s.trim,m=s.matchFrom,g=h?Dw(r):r,y=h?Dw(d(n)):d(n);return a&&(g=g.toLowerCase(),y=y.toLowerCase()),u&&(g=t4(g),y=nC(y)),m==="start"?y.substr(0,g.length)===g:y.indexOf(g)>-1}},i4=["innerRef"];function s4(t){var e=t.innerRef,n=gr(t,i4),r=PL(n,"onExited","in","enter","exit","appear");return se("input",pe({ref:e},r,{css:_m({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var o4=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function a4(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,a=t.onTopLeave,u=x.useRef(!1),d=x.useRef(!1),h=x.useRef(0),m=x.useRef(null),g=x.useCallback(function(C,O){if(m.current!==null){var L=m.current,M=L.scrollTop,W=L.scrollHeight,D=L.clientHeight,K=m.current,q=O>0,Z=W-D-M,Ie=!1;Z>O&&u.current&&(r&&r(C),u.current=!1),q&&d.current&&(a&&a(C),d.current=!1),q&&O>Z?(n&&!u.current&&n(C),K.scrollTop=W,Ie=!0,u.current=!0):!q&&-O>M&&(s&&!d.current&&s(C),K.scrollTop=0,Ie=!0,d.current=!0),Ie&&o4(C)}},[n,r,s,a]),y=x.useCallback(function(C){g(C,C.deltaY)},[g]),E=x.useCallback(function(C){h.current=C.changedTouches[0].clientY},[]),T=x.useCallback(function(C){var O=h.current-C.changedTouches[0].clientY;g(C,O)},[g]),R=x.useCallback(function(C){if(C){var O=RL?{passive:!1}:!1;C.addEventListener("wheel",y,O),C.addEventListener("touchstart",E,O),C.addEventListener("touchmove",T,O)}},[T,E,y]),k=x.useCallback(function(C){C&&(C.removeEventListener("wheel",y,!1),C.removeEventListener("touchstart",E,!1),C.removeEventListener("touchmove",T,!1))},[T,E,y]);return x.useEffect(function(){if(e){var C=m.current;return R(C),function(){k(C)}}},[e,R,k]),function(C){m.current=C}}var xw=["boxSizing","height","overflow","paddingRight","position"],Nw={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Mw(t){t.cancelable&&t.preventDefault()}function Lw(t){t.stopPropagation()}function Fw(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Vw(){return"ontouchstart"in window||navigator.maxTouchPoints}var Uw=!!(typeof window<"u"&&window.document&&window.document.createElement),Do=0,as={capture:!1,passive:!1};function l4(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=x.useRef({}),a=x.useRef(null),u=x.useCallback(function(h){if(Uw){var m=document.body,g=m&&m.style;if(r&&xw.forEach(function(R){var k=g&&g[R];s.current[R]=k}),r&&Do<1){var y=parseInt(s.current.paddingRight,10)||0,E=document.body?document.body.clientWidth:0,T=window.innerWidth-E+y||0;Object.keys(Nw).forEach(function(R){var k=Nw[R];g&&(g[R]=k)}),g&&(g.paddingRight="".concat(T,"px"))}m&&Vw()&&(m.addEventListener("touchmove",Mw,as),h&&(h.addEventListener("touchstart",Fw,as),h.addEventListener("touchmove",Lw,as))),Do+=1}},[r]),d=x.useCallback(function(h){if(Uw){var m=document.body,g=m&&m.style;Do=Math.max(Do-1,0),r&&Do<1&&xw.forEach(function(y){var E=s.current[y];g&&(g[y]=E)}),m&&Vw()&&(m.removeEventListener("touchmove",Mw,as),h&&(h.removeEventListener("touchstart",Fw,as),h.removeEventListener("touchmove",Lw,as)))}},[r]);return x.useEffect(function(){if(e){var h=a.current;return u(h),function(){d(h)}}},[e,u,d]),function(h){a.current=h}}var u4=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},c4={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function h4(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,a=t.onBottomArrive,u=t.onBottomLeave,d=t.onTopArrive,h=t.onTopLeave,m=a4({isEnabled:s,onBottomArrive:a,onBottomLeave:u,onTopArrive:d,onTopLeave:h}),g=l4({isEnabled:n}),y=function(T){m(T),g(T)};return se(x.Fragment,null,n&&se("div",{onClick:u4,css:c4}),e(y))}var d4={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},f4=function(e){var n=e.name,r=e.onFocus;return se("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:d4,value:"",onChange:function(){}})},p4=f4;function Om(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function m4(){return Om(/^iPhone/i)}function rC(){return Om(/^Mac/i)}function g4(){return Om(/^iPad/i)||rC()&&navigator.maxTouchPoints>1}function v4(){return m4()||g4()}function y4(){return rC()||v4()}var w4=function(e){return e.label},S4=function(e){return e.label},E4=function(e){return e.value},I4=function(e){return!!e.isDisabled},C4={clearIndicator:s2,container:GL,control:d2,dropdownIndicator:r2,group:g2,groupHeading:y2,indicatorsContainer:JL,indicatorSeparator:a2,input:I2,loadingIndicator:c2,loadingMessage:BL,menu:LL,menuList:$L,menuPortal:qL,multiValue:b2,multiValueLabel:R2,multiValueRemove:A2,noOptionsMessage:zL,option:M2,placeholder:V2,singleValue:j2,valueContainer:YL},T4={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},_4=4,iC=4,k4=38,b4=iC*2,R4={baseUnit:iC,controlHeight:k4,menuGutter:b4},pf={borderRadius:_4,colors:T4,spacing:R4},A4={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Rw(),captureMenuScroll:!Rw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:r4(),formatGroupLabel:w4,getOptionLabel:S4,getOptionValue:E4,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:I4,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!kL(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function $w(t,e,n,r){var s=aC(t,e,n),a=lC(t,e,n),u=oC(t,e),d=Xu(t,e);return{type:"option",data:e,isDisabled:s,isSelected:a,label:u,value:d,index:r}}function yu(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(u,d){return $w(t,u,e,d)}).filter(function(u){return zw(t,u)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var a=$w(t,n,e,r);return zw(t,a)?a:void 0}).filter(AL)}function sC(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Sm(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function jw(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Sm(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function O4(t,e){return sC(yu(t,e))}function zw(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,a=e.isSelected,u=e.label,d=e.value;return(!cC(t)||!a)&&uC(t,{label:u,value:d,data:s},r)}function P4(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var a=e.indexOf(n);if(a>-1)return n;if(s<e.length)return e[s]}return null}function D4(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var mf=function(e,n){var r,s=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return s||null},oC=function(e,n){return e.getOptionLabel(n)},Xu=function(e,n){return e.getOptionValue(n)};function aC(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function lC(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Xu(t,e);return n.some(function(s){return Xu(t,s)===r})}function uC(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var cC=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},x4=1,hC=function(t){tM(n,t);var e=iM(n);function n(r){var s;if(ZN(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=y4(),s.controlRef=null,s.getControlRef=function(h){s.controlRef=h},s.focusedOptionRef=null,s.getFocusedOptionRef=function(h){s.focusedOptionRef=h},s.menuListRef=null,s.getMenuListRef=function(h){s.menuListRef=h},s.inputRef=null,s.getInputRef=function(h){s.inputRef=h},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(h,m){var g=s.props,y=g.onChange,E=g.name;m.name=E,s.ariaOnChange(h,m),y(h,m)},s.setValue=function(h,m,g){var y=s.props,E=y.closeMenuOnSelect,T=y.isMulti,R=y.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:R}),E&&(s.setState({inputIsHiddenAfterUpdate:!T}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(h,{action:m,option:g})},s.selectOption=function(h){var m=s.props,g=m.blurInputOnSelect,y=m.isMulti,E=m.name,T=s.state.selectValue,R=y&&s.isOptionSelected(h,T),k=s.isOptionDisabled(h,T);if(R){var C=s.getOptionValue(h);s.setValue(T.filter(function(O){return s.getOptionValue(O)!==C}),"deselect-option",h)}else if(!k)y?s.setValue([].concat(Sm(T),[h]),"select-option",h):s.setValue(h,"select-option");else{s.ariaOnChange(h,{action:"select-option",option:h,name:E});return}g&&s.blurInput()},s.removeValue=function(h){var m=s.props.isMulti,g=s.state.selectValue,y=s.getOptionValue(h),E=g.filter(function(R){return s.getOptionValue(R)!==y}),T=ou(m,E,E[0]||null);s.onChange(T,{action:"remove-value",removedValue:h}),s.focusInput()},s.clearValue=function(){var h=s.state.selectValue;s.onChange(ou(s.props.isMulti,[],null),{action:"clear",removedValues:h})},s.popValue=function(){var h=s.props.isMulti,m=s.state.selectValue,g=m[m.length-1],y=m.slice(0,m.length-1),E=ou(h,y,y[0]||null);g&&s.onChange(E,{action:"pop-value",removedValue:g})},s.getFocusedOptionId=function(h){return mf(s.state.focusableOptionsWithIds,h)},s.getFocusableOptionsWithIds=function(){return jw(yu(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return EL.apply(void 0,[s.props.classNamePrefix].concat(m))},s.getOptionLabel=function(h){return oC(s.props,h)},s.getOptionValue=function(h){return Xu(s.props,h)},s.getStyles=function(h,m){var g=s.props.unstyled,y=C4[h](m,g);y.boxSizing="border-box";var E=s.props.styles[h];return E?E(y,m):y},s.getClassNames=function(h,m){var g,y;return(g=(y=s.props.classNames)[h])===null||g===void 0?void 0:g.call(y,m)},s.getElementId=function(h){return"".concat(s.state.instancePrefix,"-").concat(h)},s.getComponents=function(){return W2(s.props)},s.buildCategorizedOptions=function(){return yu(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return sC(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(h,m){s.setState({ariaSelection:ce({value:h},m)})},s.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(h){s.blockOptionHover=!1},s.onControlMouseDown=function(h){if(!h.defaultPrevented){var m=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&s.onMenuClose():m&&s.openMenu("first"):(m&&(s.openAfterFocus=!0),s.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},s.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!s.props.isDisabled){var m=s.props,g=m.isMulti,y=m.menuIsOpen;s.focusInput(),y?(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()):s.openMenu("first"),h.preventDefault()}},s.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(s.clearValue(),h.preventDefault(),s.openAfterFocus=!1,h.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(h){typeof s.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&Fc(h.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(h)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(h){var m=h.touches,g=m&&m.item(0);g&&(s.initialTouchX=g.clientX,s.initialTouchY=g.clientY,s.userIsDragging=!1)},s.onTouchMove=function(h){var m=h.touches,g=m&&m.item(0);if(g){var y=Math.abs(g.clientX-s.initialTouchX),E=Math.abs(g.clientY-s.initialTouchY),T=5;s.userIsDragging=y>T||E>T}},s.onTouchEnd=function(h){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(h.target)&&s.menuListRef&&!s.menuListRef.contains(h.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(h){s.userIsDragging||s.onControlMouseDown(h)},s.onClearIndicatorTouchEnd=function(h){s.userIsDragging||s.onClearIndicatorMouseDown(h)},s.onDropdownIndicatorTouchEnd=function(h){s.userIsDragging||s.onDropdownIndicatorMouseDown(h)},s.handleInputChange=function(h){var m=s.props.inputValue,g=h.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(g,{action:"input-change",prevInputValue:m}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(h){s.props.onFocus&&s.props.onFocus(h),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(h){var m=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(h),s.onInputChange("",{action:"input-blur",prevInputValue:m}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(h){if(!(s.blockOptionHover||s.state.focusedOption===h)){var m=s.getFocusableOptions(),g=m.indexOf(h);s.setState({focusedOption:h,focusedOptionId:g>-1?s.getFocusedOptionId(h):null})}},s.shouldHideSelectedOptions=function(){return cC(s.props)},s.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),s.focus()},s.onKeyDown=function(h){var m=s.props,g=m.isMulti,y=m.backspaceRemovesValue,E=m.escapeClearsValue,T=m.inputValue,R=m.isClearable,k=m.isDisabled,C=m.menuIsOpen,O=m.onKeyDown,L=m.tabSelectsValue,M=m.openMenuOnFocus,W=s.state,D=W.focusedOption,K=W.focusedValue,q=W.selectValue;if(!k&&!(typeof O=="function"&&(O(h),h.defaultPrevented))){switch(s.blockOptionHover=!0,h.key){case"ArrowLeft":if(!g||T)return;s.focusValue("previous");break;case"ArrowRight":if(!g||T)return;s.focusValue("next");break;case"Delete":case"Backspace":if(T)return;if(K)s.removeValue(K);else{if(!y)return;g?s.popValue():R&&s.clearValue()}break;case"Tab":if(s.isComposing||h.shiftKey||!C||!L||!D||M&&s.isOptionSelected(D,q))return;s.selectOption(D);break;case"Enter":if(h.keyCode===229)break;if(C){if(!D||s.isComposing)return;s.selectOption(D);break}return;case"Escape":C?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:T}),s.onMenuClose()):R&&E&&s.clearValue();break;case" ":if(T)return;if(!C){s.openMenu("first");break}if(!D)return;s.selectOption(D);break;case"ArrowUp":C?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":C?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!C)return;s.focusOption("pageup");break;case"PageDown":if(!C)return;s.focusOption("pagedown");break;case"Home":if(!C)return;s.focusOption("first");break;case"End":if(!C)return;s.focusOption("last");break;default:return}h.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++x4),s.state.selectValue=kw(r.value),r.menuIsOpen&&s.state.selectValue.length){var a=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),d=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=a,s.state.focusedOption=u[d],s.state.focusedOptionId=mf(a,u[d])}return s}return eM(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&bw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var a=this.props,u=a.isDisabled,d=a.menuIsOpen,h=this.state.isFocused;(h&&!u&&s.isDisabled||h&&d&&!s.menuIsOpen)&&this.focusInput(),h&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(bw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,a){this.props.onInputChange(s,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var a=this,u=this.state,d=u.selectValue,h=u.isFocused,m=this.buildFocusableOptions(),g=s==="first"?0:m.length-1;if(!this.props.isMulti){var y=m.indexOf(d[0]);y>-1&&(g=y)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[g],focusedOptionId:this.getFocusedOptionId(m[g])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(s){var a=this.state,u=a.selectValue,d=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=u.indexOf(d);d||(h=-1);var m=u.length-1,g=-1;if(u.length){switch(s){case"previous":h===0?g=0:h===-1?g=m:g=h-1;break;case"next":h>-1&&h<m&&(g=h+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:u[g]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,u=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var h=0,m=d.indexOf(u);u||(m=-1),s==="up"?h=m>0?m-1:d.length-1:s==="down"?h=(m+1)%d.length:s==="pageup"?(h=m-a,h<0&&(h=0)):s==="pagedown"?(h=m+a,h>d.length-1&&(h=d.length-1)):s==="last"&&(h=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[h])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(pf):ce(ce({},pf),this.props.theme):pf}},{key:"getCommonProps",value:function(){var s=this.clearValue,a=this.cx,u=this.getStyles,d=this.getClassNames,h=this.getValue,m=this.selectOption,g=this.setValue,y=this.props,E=y.isMulti,T=y.isRtl,R=y.options,k=this.hasValue();return{clearValue:s,cx:a,getStyles:u,getClassNames:d,getValue:h,hasValue:k,isMulti:E,isRtl:T,options:R,selectOption:m,selectProps:y,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,a=s.isClearable,u=s.isMulti;return a===void 0?u:a}},{key:"isOptionDisabled",value:function(s,a){return aC(this.props,s,a)}},{key:"isOptionSelected",value:function(s,a){return lC(this.props,s,a)}},{key:"filterOption",value:function(s,a){return uC(this.props,s,a)}},{key:"formatOptionLabel",value:function(s,a){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(s,{context:a,inputValue:u,selectValue:d})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,a=s.isDisabled,u=s.isSearchable,d=s.inputId,h=s.inputValue,m=s.tabIndex,g=s.form,y=s.menuIsOpen,E=s.required,T=this.getComponents(),R=T.Input,k=this.state,C=k.inputIsHidden,O=k.ariaSelection,L=this.commonProps,M=d||this.getElementId("input"),W=ce(ce(ce({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":E,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(O==null?void 0:O.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?x.createElement(R,pe({},L,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:M,innerRef:this.getInputRef,isDisabled:a,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:g,type:"text",value:h},W)):x.createElement(s4,pe({id:M,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Qu,onFocus:this.onInputFocus,disabled:a,tabIndex:m,inputMode:"none",form:g,value:""},W))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,a=this.getComponents(),u=a.MultiValue,d=a.MultiValueContainer,h=a.MultiValueLabel,m=a.MultiValueRemove,g=a.SingleValue,y=a.Placeholder,E=this.commonProps,T=this.props,R=T.controlShouldRenderValue,k=T.isDisabled,C=T.isMulti,O=T.inputValue,L=T.placeholder,M=this.state,W=M.selectValue,D=M.focusedValue,K=M.isFocused;if(!this.hasValue()||!R)return O?null:x.createElement(y,pe({},E,{key:"placeholder",isDisabled:k,isFocused:K,innerProps:{id:this.getElementId("placeholder")}}),L);if(C)return W.map(function(Z,Ie){var Ue=Z===D,Xe="".concat(s.getOptionLabel(Z),"-").concat(s.getOptionValue(Z));return x.createElement(u,pe({},E,{components:{Container:d,Label:h,Remove:m},isFocused:Ue,isDisabled:k,key:Xe,index:Ie,removeProps:{onClick:function(){return s.removeValue(Z)},onTouchEnd:function(){return s.removeValue(Z)},onMouseDown:function(qe){qe.preventDefault()}},data:Z}),s.formatOptionLabel(Z,"value"))});if(O)return null;var q=W[0];return x.createElement(g,pe({},E,{data:q,isDisabled:k}),this.formatOptionLabel(q,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),a=s.ClearIndicator,u=this.commonProps,d=this.props,h=d.isDisabled,m=d.isLoading,g=this.state.isFocused;if(!this.isClearable()||!a||h||!this.hasValue()||m)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(a,pe({},u,{innerProps:y,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),a=s.LoadingIndicator,u=this.commonProps,d=this.props,h=d.isDisabled,m=d.isLoading,g=this.state.isFocused;if(!a||!m)return null;var y={"aria-hidden":"true"};return x.createElement(a,pe({},u,{innerProps:y,isDisabled:h,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator,u=s.IndicatorSeparator;if(!a||!u)return null;var d=this.commonProps,h=this.props.isDisabled,m=this.state.isFocused;return x.createElement(u,pe({},d,{isDisabled:h,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator;if(!a)return null;var u=this.commonProps,d=this.props.isDisabled,h=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(a,pe({},u,{innerProps:m,isDisabled:d,isFocused:h}))}},{key:"renderMenu",value:function(){var s=this,a=this.getComponents(),u=a.Group,d=a.GroupHeading,h=a.Menu,m=a.MenuList,g=a.MenuPortal,y=a.LoadingMessage,E=a.NoOptionsMessage,T=a.Option,R=this.commonProps,k=this.state.focusedOption,C=this.props,O=C.captureMenuScroll,L=C.inputValue,M=C.isLoading,W=C.loadingMessage,D=C.minMenuHeight,K=C.maxMenuHeight,q=C.menuIsOpen,Z=C.menuPlacement,Ie=C.menuPosition,Ue=C.menuPortalTarget,Xe=C.menuShouldBlockScroll,Pe=C.menuShouldScrollIntoView,qe=C.noOptionsMessage,$e=C.onMenuScrollToTop,De=C.onMenuScrollToBottom;if(!q)return null;var Te=function(de,oe){var _e=de.type,fe=de.data,Ce=de.isDisabled,we=de.isSelected,Je=de.label,Zr=de.value,Dn=k===fe,ei=Ce?void 0:function(){return s.onOptionHover(fe)},vr=Ce?void 0:function(){return s.selectOption(fe)},Q="".concat(s.getElementId("option"),"-").concat(oe),Me={id:Q,onClick:vr,onMouseMove:ei,onMouseOver:ei,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:we};return x.createElement(T,pe({},R,{innerProps:Me,data:fe,isDisabled:Ce,isSelected:we,key:Q,label:Je,type:_e,value:Zr,isFocused:Dn,innerRef:Dn?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(de.data,"menu"))},be;if(this.hasOptions())be=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var de=G.data,oe=G.options,_e=G.index,fe="".concat(s.getElementId("group"),"-").concat(_e),Ce="".concat(fe,"-heading");return x.createElement(u,pe({},R,{key:fe,data:de,options:oe,Heading:d,headingProps:{id:Ce,data:G.data},label:s.formatGroupLabel(G.data)}),G.options.map(function(we){return Te(we,"".concat(_e,"-").concat(we.index))}))}else if(G.type==="option")return Te(G,"".concat(G.index))});else if(M){var B=W({inputValue:L});if(B===null)return null;be=x.createElement(y,R,B)}else{var ne=qe({inputValue:L});if(ne===null)return null;be=x.createElement(E,R,ne)}var S={minMenuHeight:D,maxMenuHeight:K,menuPlacement:Z,menuPosition:Ie,menuShouldScrollIntoView:Pe},N=x.createElement(FL,pe({},R,S),function(G){var de=G.ref,oe=G.placerProps,_e=oe.placement,fe=oe.maxHeight;return x.createElement(h,pe({},R,S,{innerRef:de,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:M,placement:_e}),x.createElement(h4,{captureEnabled:O,onTopArrive:$e,onBottomArrive:De,lockEnabled:Xe},function(Ce){return x.createElement(m,pe({},R,{innerRef:function(Je){s.getMenuListRef(Je),Ce(Je)},innerProps:{role:"listbox","aria-multiselectable":R.isMulti,id:s.getElementId("listbox")},isLoading:M,maxHeight:fe,focusedOption:k}),be)}))});return Ue||Ie==="fixed"?x.createElement(g,pe({},R,{appendTo:Ue,controlElement:this.controlRef,menuPlacement:Z,menuPosition:Ie}),N):N}},{key:"renderFormField",value:function(){var s=this,a=this.props,u=a.delimiter,d=a.isDisabled,h=a.isMulti,m=a.name,g=a.required,y=this.state.selectValue;if(g&&!this.hasValue()&&!d)return x.createElement(p4,{name:m,onFocus:this.onValueInputFocus});if(!(!m||d))if(h)if(u){var E=y.map(function(k){return s.getOptionValue(k)}).join(u);return x.createElement("input",{name:m,type:"hidden",value:E})}else{var T=y.length>0?y.map(function(k,C){return x.createElement("input",{key:"i-".concat(C),name:m,type:"hidden",value:s.getOptionValue(k)})}):x.createElement("input",{name:m,type:"hidden",value:""});return x.createElement("div",null,T)}else{var R=y[0]?this.getOptionValue(y[0]):"";return x.createElement("input",{name:m,type:"hidden",value:R})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,a=this.state,u=a.ariaSelection,d=a.focusedOption,h=a.focusedValue,m=a.isFocused,g=a.selectValue,y=this.getFocusableOptions();return x.createElement(Z2,pe({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:d,focusedValue:h,isFocused:m,selectValue:g,focusableOptions:y,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),a=s.Control,u=s.IndicatorsContainer,d=s.SelectContainer,h=s.ValueContainer,m=this.props,g=m.className,y=m.id,E=m.isDisabled,T=m.menuIsOpen,R=this.state.isFocused,k=this.commonProps=this.getCommonProps();return x.createElement(d,pe({},k,{className:g,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:E,isFocused:R}),this.renderLiveRegion(),x.createElement(a,pe({},k,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:E,isFocused:R,menuIsOpen:T}),x.createElement(h,pe({},k,{isDisabled:E}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(u,pe({},k,{isDisabled:E}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,a){var u=a.prevProps,d=a.clearFocusValueOnUpdate,h=a.inputIsHiddenAfterUpdate,m=a.ariaSelection,g=a.isFocused,y=a.prevWasFocused,E=a.instancePrefix,T=s.options,R=s.value,k=s.menuIsOpen,C=s.inputValue,O=s.isMulti,L=kw(R),M={};if(u&&(R!==u.value||T!==u.options||k!==u.menuIsOpen||C!==u.inputValue)){var W=k?O4(s,L):[],D=k?jw(yu(s,L),"".concat(E,"-option")):[],K=d?P4(a,L):null,q=D4(a,W),Z=mf(D,q);M={selectValue:L,focusedOption:q,focusedOptionId:Z,focusableOptionsWithIds:D,focusedValue:K,clearFocusValueOnUpdate:!1}}var Ie=h!=null&&s!==u?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},Ue=m,Xe=g&&y;return g&&!Xe&&(Ue={value:ou(O,L,L[0]||null),options:L,action:"initial-input-focus"},Xe=!y),(m==null?void 0:m.action)==="initial-input-focus"&&(Ue=null),ce(ce(ce({},M),Ie),{},{prevProps:s,ariaSelection:Ue,prevWasFocused:Xe})}}]),n}(x.Component);hC.defaultProps=A4;var N4=x.forwardRef(function(t,e){var n=JN(t);return x.createElement(hC,pe({ref:e},n))}),ls=N4;const us={control:(t,e)=>({...t,width:"100%",minHeight:"40px",fontSize:"16px",border:e.isFocused?"2px solid #7a5d33":"2px solid #8b6c42",boxShadow:e.isFocused?"0 0 5px rgba(122, 93, 51, 0.5)":null,borderRadius:"6px",padding:"2px 5px"}),menu:t=>({...t,width:"100%"}),placeholder:t=>({...t,color:"#4b3f2a"}),singleValue:t=>({...t,fontSize:"16px"})},M4=["374 CAT mini ex","304 Peterbilt Dump Truck","306 int. Dump Truck","326 Cat D6 Dozer","329 Cat 950 Loader","335 Cat 950M Loader","347 Bobcat Skid Steer","357 Cat 140M3 Blade","358 Kubota Mini Ex","359 Kubota Skid Steer","365 Terex Light Tower","372 Allmand Light Tower","375 Amman Roller","380 JLG Telehandler","383 Cat 140M3 Blade","384 Cat 308 Mini Ex","385 Cat 336 Excavator","386 Cat Mini Ex","387 Cat Skid Steer","388 Cat Skid Steer","392 Cat Tik Truck","393 Cat Tik Truck","394 Cat Mini Ex"],Bw=["18","6bar","Apache Canyon Road","Apache Screen Site","Babb Canyon Road","Babb HQ","Baylor","Big Tank HQ","Chico","Clock","Delaware Basin","DOD","Fenceline East","Fenceline West","Figure 2","Highline Road","Hogue Canyon","Honeycutt HQ","Honeycutt Rim North","Houge Pump Jack","James Cook Hanger","Lower Puett","Mule Pasture","North Baylor","North VMB HQ","Old West Town","Pipeline (East)","Pipeline (West)","Prison Camp","Puckett","Puett HQ","Red Pens","Roberts HQ","Roberts Quarry","Rock House","Roller Coaster Road","Sanford N Sons","Shortcut","Sierra Diablo","South Baylor","Space World","Stockyard","Victorio Canyon","VMB","Wind Tower Road (Bottom)","Windtower Road (Top)","Wilson HQ","Welding Shop"],L4=["Excavator X100","Bulldozer B200","Crane C300"];function F4(){x.useEffect(()=>{document.title="Daugherty Ranches Equipment Tracker"},[]);const[t,e]=x.useState(null),[n,r]=x.useState(""),[s,a]=x.useState(""),[u,d]=x.useState([]),[h,m]=x.useState(M4),[g,y]=x.useState(""),[E,T]=x.useState(""),[R,k]=x.useState(""),[C,O]=x.useState(""),[L,M]=x.useState(""),[W,D]=x.useState(""),[K,q]=x.useState(""),[Z,Ie]=x.useState(""),Ue=Q=>{const Me=Q.value;Me&&!h.includes(Me)&&m(ze=>[...ze,Me]),y(Me)},Xe=async Q=>{if(Q.preventDefault(),g&&E&&K&&Z&&R&&C&&L&&W){const Me={unit:g,hoursMiles:E,checkoutDate:K,returnDate:Z,customerName:R,customerEmail:C,customerPhone:L,jobSite:W,createdAt:new Date().toISOString()};try{await G0(Xl(eu,"checkouts"),Me),r("Checkout successful!"),sendCheckoutEmail(Me),y(""),T(""),q(""),Ie(""),k(""),O(""),M(""),D(""),setTimeout(()=>r(""),3e3)}catch(ze){console.error("Error adding checkout document: ",ze)}}else alert("Please fill in all checkout fields.")};x.useEffect(()=>{(async()=>{try{const Me=await K0(Xl(eu,"checkouts")),ze=[];Me.forEach(tn=>{ze.push({id:tn.id,...tn.data()})}),d(ze)}catch(Me){console.error("Error fetching checkouts: ",Me)}})()},[]);const[Pe,qe]=x.useState([]),[$e,De]=x.useState(""),[Te,be]=x.useState(""),[B,ne]=x.useState(""),[S,N]=x.useState(""),[G,de]=x.useState(""),[oe,_e]=x.useState(""),[fe,Ce]=x.useState(""),[we,Je]=x.useState(""),[Zr,Dn]=x.useState("");x.useEffect(()=>{if(fe&&$e){let Q=null;if(Pe.forEach(Me=>{if(Me.unit===$e){const ze=new Date(Me.createdAt);(!Q||ze>Q)&&(Q=ze)}}),Q){const Me=new Date(fe)-Q,ze=Math.ceil(Me/(1e3*60*60*24));Je(ze>0?ze:0)}else Je("")}else Je("")},[fe,$e,Pe]);const ei=async Q=>{if(Q.preventDefault(),fe&&$e&&Te&&oe&&we!==""&&B&&S&&G&&Zr){const Me={dateTimeReturned:fe,unit:$e,hoursMiles:Te,jobSite:oe,duration:we,customerName:B,customerEmail:S,customerPhone:G,inspectionNotes:Zr,createdAt:new Date().toISOString()};try{await G0(Xl(eu,"checkins"),Me),a("Check-in successful!"),sendCheckinEmail(Me),Ce(""),De(""),be(""),_e(""),Je(""),ne(""),N(""),de(""),Dn(""),setTimeout(()=>a(""),3e3)}catch(ze){console.error("Error adding checkin document: ",ze)}}else alert("Please fill in all check-in fields.")};x.useEffect(()=>{(async()=>{try{const Me=await K0(Xl(eu,"checkins")),ze=[];Me.forEach(tn=>{ze.push({id:tn.id,...tn.data()})}),qe(ze)}catch(Me){console.error("Error fetching checkins: ",Me)}})()},[]);const vr=()=>{if(!h.length||!Pe.length)return[];const Q={};h.forEach(ze=>{u.forEach(tn=>{if(tn.unit===ze){const Yn=new Date(tn.createdAt);(!Q[ze]||Yn>Q[ze])&&(Q[ze]=Yn)}})});const Me=[];for(const ze in Q)Pe.find(Yn=>Yn.unit===ze&&Yn.createdAt&&new Date(Yn.createdAt)>Q[ze])||Me.push(ze);return Me};return $.jsxs("div",{className:"App",children:[$.jsx("div",{className:"top-right-decorative",children:"2"}),$.jsxs("header",{className:"app-header",children:[$.jsx("h1",{children:"Daugherty Ranches Equipment Tracker"}),$.jsx("p",{className:"tagline",children:"Your trusted partner for equipment management"})]}),t===null?$.jsxs("div",{className:"landing",children:[$.jsx("button",{onClick:()=>e("checkout"),children:"Check-Out"}),$.jsx("button",{onClick:()=>e("checkin"),children:"Check-In"})]}):$.jsxs("div",{className:"section-container",children:[$.jsx("button",{className:"back-button",onClick:()=>e(null),children:"Back"}),t==="checkout"?$.jsxs("section",{className:"checkout",children:[$.jsx("h2",{children:"Equipment Check-Out"}),$.jsxs("form",{onSubmit:Xe,children:[$.jsx("div",{children:$.jsxs("label",{children:["Unit Number:",$.jsx(ls,{options:h.map(Q=>({value:Q,label:Q})),value:g?{value:g,label:g}:null,onChange:Q=>y(Q.value),placeholder:"Select Unit Number",styles:us})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Hours/Miles:",$.jsx("input",{type:"text",value:E,onChange:Q=>T(Q.target.value),placeholder:"Enter hours or miles"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Customer Name:",$.jsx("input",{type:"text",value:R,onChange:Q=>k(Q.target.value),placeholder:"Enter customer name"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Customer Email:",$.jsx("input",{type:"email",value:C,onChange:Q=>O(Q.target.value),placeholder:"Enter customer email"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Customer Phone #:",$.jsx("input",{type:"text",value:L,onChange:Q=>M(Q.target.value),placeholder:"Enter customer phone number"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Job Site:",$.jsx(ls,{options:Bw.map(Q=>({value:Q,label:Q})),value:W?{value:W,label:W}:null,onChange:Q=>D(Q.value),placeholder:"Select Job Site",styles:us})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Checkout Date:",$.jsx("input",{type:"date",value:K,onChange:Q=>q(Q.target.value)})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Return Date:",$.jsx("input",{type:"date",value:Z,onChange:Q=>Ie(Q.target.value)})]})}),$.jsx("button",{type:"submit",children:"Checkout Equipment"})]}),n&&$.jsx("p",{className:"message",children:n})]}):$.jsxs("section",{className:"checkin",children:[$.jsx("h2",{children:"Equipment Check-In"}),$.jsxs("form",{onSubmit:ei,children:[$.jsx("div",{children:$.jsxs("label",{children:["Unit Number:",$.jsx(ls,{options:h.map(Q=>({value:Q,label:Q})),value:$e?{value:$e,label:$e}:null,onChange:Q=>De(Q.value),placeholder:"Select Unit Number",styles:us})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Hours/Miles:",$.jsx("input",{type:"text",value:Te,onChange:Q=>be(Q.target.value),placeholder:"Enter hours or miles"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Customer Name:",$.jsx("input",{type:"text",value:B,onChange:Q=>ne(Q.target.value),placeholder:"Enter customer name"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Customer Email:",$.jsx("input",{type:"email",value:S,onChange:Q=>N(Q.target.value),placeholder:"Enter customer email"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Customer Phone #:",$.jsx("input",{type:"text",value:G,onChange:Q=>de(Q.target.value),placeholder:"Enter customer phone number"})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Job Site:",$.jsx(ls,{options:Bw.map(Q=>({value:Q,label:Q})),value:oe?{value:oe,label:oe}:null,onChange:Q=>_e(Q.value),placeholder:"Select Job Site",styles:us})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Date and Time Returned:",$.jsx("input",{type:"datetime-local",value:fe,onChange:Q=>Ce(Q.target.value)})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Duration (Days checked out):",$.jsx("input",{type:"number",value:we,readOnly:!0})]})}),$.jsx("div",{children:$.jsxs("label",{children:["Inspection Notes:",$.jsx("textarea",{value:Zr,onChange:Q=>Dn(Q.target.value),placeholder:"Enter inspection notes"})]})}),$.jsx("button",{type:"submit",children:"Check-In Equipment"})]}),s&&$.jsx("p",{className:"message",children:s})]}),$.jsxs("div",{className:"bottom-section",children:[$.jsxs("section",{className:"active-checkouts",children:[$.jsx("h2",{children:"Active Checkouts"}),$.jsx(ls,{options:vr().map(Q=>({value:Q,label:Q})),placeholder:"Select Active Checkout",styles:us})]}),$.jsx("div",{className:"rental-equipment",children:$.jsxs("label",{children:["Rental Equipment (if not in yard):",$.jsx(ls,{options:L4.map(Q=>({value:Q,label:Q})),onChange:Ue,placeholder:"Select Rental Equipment",styles:us})]})})]})]})]})}function V4(){const[t,e]=x.useState(null),[n,r]=x.useState(!1),[s,a]=x.useState(""),[u,d]=x.useState(""),[h,m]=x.useState(""),[g,y]=x.useState(!1),[E,T]=x.useState([]);x.useEffect(()=>{const C=Px(tu,O=>{e(O)});return()=>C()},[]),x.useEffect(()=>{t&&fetch("https://your-api-endpoint.com/equipment").then(C=>C.json()).then(C=>T(C)).catch(C=>console.error("Error fetching equipment data:",C))},[t]);const R=async C=>{if(C.preventDefault(),m(""),y(!0),n)try{const O=await bx(tu,s,u);e(O.user)}catch(O){m(O.message)}else try{const O=await Rx(tu,s,u);e(O.user)}catch(O){m(O.message)}y(!1)},k=async()=>{await Dx(tu),e(null)};return t?$.jsxs("div",{children:[$.jsx("div",{className:"sign-out-container",children:$.jsx("button",{onClick:k,children:"Sign Out"})}),$.jsx(F4,{equipmentList:E})]}):$.jsx("div",{className:"auth-wrapper",children:$.jsxs("div",{className:"auth-container",children:[$.jsx("h2",{children:n?"Register":"Sign In"}),$.jsxs("form",{onSubmit:R,children:[$.jsx("div",{children:$.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:C=>a(C.target.value),required:!0})}),$.jsx("div",{children:$.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:C=>d(C.target.value),required:!0})}),h&&$.jsx("p",{className:"error",children:h}),$.jsx("button",{type:"submit",disabled:g,children:g?"Loading...":n?"Register":"Sign In"})]}),$.jsxs("p",{children:[n?"Already have an account?":"Don't have an account?"," ",$.jsx("button",{onClick:()=>{r(!n),m("")},children:n?"Sign In":"Register"})]})]})})}g_.render($.jsx(Ww.StrictMode,{children:$.jsx(V4,{})}),document.getElementById("root"));
