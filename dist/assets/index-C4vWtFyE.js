function Nk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kf={exports:{}},na={},xf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function Mk(){if(Tw)return Oe;Tw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function C(E,L,Q){this.props=E,this.context=L,this.refs=k,this.updater=Q||I}C.prototype.isReactComponent={},C.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function D(){}D.prototype=C.prototype;function F(E,L,Q){this.props=E,this.context=L,this.refs=k,this.updater=Q||I}var M=F.prototype=new D;M.constructor=F,x(M,C.prototype),M.isPureReactComponent=!0;var B=Array.isArray,R=Object.prototype.hasOwnProperty,U={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function Z(E,L,Q){var ge,le={},be=null,ve=null;if(L!=null)for(ge in L.ref!==void 0&&(ve=L.ref),L.key!==void 0&&(be=""+L.key),L)R.call(L,ge)&&!z.hasOwnProperty(ge)&&(le[ge]=L[ge]);var _e=arguments.length-2;if(_e===1)le.children=Q;else if(1<_e){for(var Ie=Array(_e),rt=0;rt<_e;rt++)Ie[rt]=arguments[rt+2];le.children=Ie}if(E&&E.defaultProps)for(ge in _e=E.defaultProps,_e)le[ge]===void 0&&(le[ge]=_e[ge]);return{$$typeof:n,type:E,key:be,ref:ve,props:le,_owner:U.current}}function Te(E,L){return{$$typeof:n,type:E.type,key:L,ref:E.ref,props:E.props,_owner:E._owner}}function ze(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function nt(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return L[Q]})}var De=/\/+/g;function Xe(E,L){return typeof E=="object"&&E!==null&&E.key!=null?nt(""+E.key):L.toString(36)}function Ue(E,L,Q,ge,le){var be=typeof E;(be==="undefined"||be==="boolean")&&(E=null);var ve=!1;if(E===null)ve=!0;else switch(be){case"string":case"number":ve=!0;break;case"object":switch(E.$$typeof){case n:case e:ve=!0}}if(ve)return ve=E,le=le(ve),E=ge===""?"."+Xe(ve,0):ge,B(le)?(Q="",E!=null&&(Q=E.replace(De,"$&/")+"/"),Ue(le,L,Q,"",function(rt){return rt})):le!=null&&(ze(le)&&(le=Te(le,Q+(!le.key||ve&&ve.key===le.key?"":(""+le.key).replace(De,"$&/")+"/")+E)),L.push(le)),1;if(ve=0,ge=ge===""?".":ge+":",B(E))for(var _e=0;_e<E.length;_e++){be=E[_e];var Ie=ge+Xe(be,_e);ve+=Ue(be,L,Q,Ie,le)}else if(Ie=S(E),typeof Ie=="function")for(E=Ie.call(E),_e=0;!(be=E.next()).done;)be=be.value,Ie=ge+Xe(be,_e++),ve+=Ue(be,L,Q,Ie,le);else if(be==="object")throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ve}function Fe(E,L,Q){if(E==null)return E;var ge=[],le=0;return Ue(E,ge,"","",function(be){return L.call(Q,be,le++)}),ge}function xe(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var Pe={current:null},G={transition:null},oe={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:G,ReactCurrentOwner:U};return Oe.Children={map:Fe,forEach:function(E,L,Q){Fe(E,function(){L.apply(this,arguments)},Q)},count:function(E){var L=0;return Fe(E,function(){L++}),L},toArray:function(E){return Fe(E,function(L){return L})||[]},only:function(E){if(!ze(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Oe.Component=C,Oe.Fragment=t,Oe.Profiler=i,Oe.PureComponent=F,Oe.StrictMode=r,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Oe.cloneElement=function(E,L,Q){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ge=x({},E.props),le=E.key,be=E.ref,ve=E._owner;if(L!=null){if(L.ref!==void 0&&(be=L.ref,ve=U.current),L.key!==void 0&&(le=""+L.key),E.type&&E.type.defaultProps)var _e=E.type.defaultProps;for(Ie in L)R.call(L,Ie)&&!z.hasOwnProperty(Ie)&&(ge[Ie]=L[Ie]===void 0&&_e!==void 0?_e[Ie]:L[Ie])}var Ie=arguments.length-2;if(Ie===1)ge.children=Q;else if(1<Ie){_e=Array(Ie);for(var rt=0;rt<Ie;rt++)_e[rt]=arguments[rt+2];ge.children=_e}return{$$typeof:n,type:E.type,key:le,ref:be,props:ge,_owner:ve}},Oe.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:a,_context:E},E.Consumer=E},Oe.createElement=Z,Oe.createFactory=function(E){var L=Z.bind(null,E);return L.type=E,L},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(E){return{$$typeof:h,render:E}},Oe.isValidElement=ze,Oe.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:xe}},Oe.memo=function(E,L){return{$$typeof:p,type:E,compare:L===void 0?null:L}},Oe.startTransition=function(E){var L=G.transition;G.transition={};try{E()}finally{G.transition=L}},Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.useCallback=function(E,L){return Pe.current.useCallback(E,L)},Oe.useContext=function(E){return Pe.current.useContext(E)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(E){return Pe.current.useDeferredValue(E)},Oe.useEffect=function(E,L){return Pe.current.useEffect(E,L)},Oe.useId=function(){return Pe.current.useId()},Oe.useImperativeHandle=function(E,L,Q){return Pe.current.useImperativeHandle(E,L,Q)},Oe.useInsertionEffect=function(E,L){return Pe.current.useInsertionEffect(E,L)},Oe.useLayoutEffect=function(E,L){return Pe.current.useLayoutEffect(E,L)},Oe.useMemo=function(E,L){return Pe.current.useMemo(E,L)},Oe.useReducer=function(E,L,Q){return Pe.current.useReducer(E,L,Q)},Oe.useRef=function(E){return Pe.current.useRef(E)},Oe.useState=function(E){return Pe.current.useState(E)},Oe.useSyncExternalStore=function(E,L,Q){return Pe.current.useSyncExternalStore(E,L,Q)},Oe.useTransition=function(){return Pe.current.useTransition()},Oe.version="18.2.0",Oe}var _w;function rm(){return _w||(_w=1,xf.exports=Mk()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function Lk(){if(kw)return na;kw=1;var n=rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,d,p){var g,y={},S=null,I=null;p!==void 0&&(S=""+p),d.key!==void 0&&(S=""+d.key),d.ref!==void 0&&(I=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:h,key:S,ref:I,props:y,_owner:i.current}}return na.Fragment=t,na.jsx=u,na.jsxs=u,na}var xw;function Fk(){return xw||(xw=1,kf.exports=Lk()),kf.exports}var K=Fk(),N=rm();const iE=rE(N),bw=Nk({__proto__:null,default:iE},[N]);var bf={exports:{}},sn={},Df={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function Vk(){return Dw||(Dw=1,function(n){function e(G,oe){var E=G.length;G.push(oe);e:for(;0<E;){var L=E-1>>>1,Q=G[L];if(0<i(Q,oe))G[L]=oe,G[E]=Q,E=L;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var oe=G[0],E=G.pop();if(E!==oe){G[0]=E;e:for(var L=0,Q=G.length,ge=Q>>>1;L<ge;){var le=2*(L+1)-1,be=G[le],ve=le+1,_e=G[ve];if(0>i(be,E))ve<Q&&0>i(_e,be)?(G[L]=_e,G[ve]=E,L=ve):(G[L]=be,G[le]=E,L=le);else if(ve<Q&&0>i(_e,E))G[L]=_e,G[ve]=E,L=ve;else break e}}return oe}function i(G,oe){var E=G.sortIndex-oe.sortIndex;return E!==0?E:G.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,y=null,S=3,I=!1,x=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var oe=t(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=G)r(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=t(p)}}function B(G){if(k=!1,M(G),!x)if(t(d)!==null)x=!0,xe(R);else{var oe=t(p);oe!==null&&Pe(B,oe.startTime-G)}}function R(G,oe){x=!1,k&&(k=!1,D(Z),Z=-1),I=!0;var E=S;try{for(M(oe),y=t(d);y!==null&&(!(y.expirationTime>oe)||G&&!nt());){var L=y.callback;if(typeof L=="function"){y.callback=null,S=y.priorityLevel;var Q=L(y.expirationTime<=oe);oe=n.unstable_now(),typeof Q=="function"?y.callback=Q:y===t(d)&&r(d),M(oe)}else r(d);y=t(d)}if(y!==null)var ge=!0;else{var le=t(p);le!==null&&Pe(B,le.startTime-oe),ge=!1}return ge}finally{y=null,S=E,I=!1}}var U=!1,z=null,Z=-1,Te=5,ze=-1;function nt(){return!(n.unstable_now()-ze<Te)}function De(){if(z!==null){var G=n.unstable_now();ze=G;var oe=!0;try{oe=z(!0,G)}finally{oe?Xe():(U=!1,z=null)}}else U=!1}var Xe;if(typeof F=="function")Xe=function(){F(De)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Fe=Ue.port2;Ue.port1.onmessage=De,Xe=function(){Fe.postMessage(null)}}else Xe=function(){C(De,0)};function xe(G){z=G,U||(U=!0,Xe())}function Pe(G,oe){Z=C(function(){G(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){x||I||(x=!0,xe(R))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(G){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var E=S;S=oe;try{return G()}finally{S=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var E=S;S=G;try{return oe()}finally{S=E}},n.unstable_scheduleCallback=function(G,oe,E){var L=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?L+E:L):E=L,G){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=E+Q,G={id:g++,callback:oe,priorityLevel:G,startTime:E,expirationTime:Q,sortIndex:-1},E>L?(G.sortIndex=E,e(p,G),t(d)===null&&G===t(p)&&(k?(D(Z),Z=-1):k=!0,Pe(B,E-L))):(G.sortIndex=Q,e(d,G),x||I||(x=!0,xe(R))),G},n.unstable_shouldYield=nt,n.unstable_wrapCallback=function(G){var oe=S;return function(){var E=S;S=oe;try{return G.apply(this,arguments)}finally{S=E}}}}(Of)),Of}var Ow;function Uk(){return Ow||(Ow=1,Df.exports=Vk()),Df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function jk(){if(Pw)return sn;Pw=1;var n=rm(),e=Uk();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function S(s){return d.call(y,s)?!0:d.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function I(s,o,l,c){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,o,l,c){if(o===null||typeof o>"u"||I(s,o,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,l,c,f,m,v){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=m,this.removeEmptyString=v}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(D,F);C[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(D,F);C[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(D,F);C[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,o,l,c){var f=C.hasOwnProperty(o)?C[o]:null;(f!==null?f.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,l,f,c)&&(l=null),c||f===null?S(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):f.mustUseProperty?s[f.propertyName]=l===null?f.type===3?!1:"":l:(o=f.attributeName,c=f.attributeNamespace,l===null?s.removeAttribute(o):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?s.setAttributeNS(c,o,l):s.setAttribute(o,l))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),nt=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),G=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var E=Object.assign,L;function Q(s){if(L===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+s}var ge=!1;function le(s,o){if(!s||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(A){var c=A}Reflect.construct(s,[],o)}else{try{o.call()}catch(A){c=A}s.call(o.prototype)}else{try{throw Error()}catch(A){c=A}s()}}catch(A){if(A&&c&&typeof A.stack=="string"){for(var f=A.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,w=m.length-1;1<=v&&0<=w&&f[v]!==m[w];)w--;for(;1<=v&&0<=w;v--,w--)if(f[v]!==m[w]){if(v!==1||w!==1)do if(v--,w--,0>w||f[v]!==m[w]){var T=`
`+f[v].replace(" at new "," at ");return s.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",s.displayName)),T}while(1<=v&&0<=w);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Q(s):""}function be(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case U:return"Portal";case Te:return"Profiler";case Z:return"StrictMode";case Xe:return"Suspense";case Ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case nt:return(s.displayName||"Context")+".Consumer";case ze:return(s._context.displayName||"Context")+".Provider";case De:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Fe:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case xe:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}function _e(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(o);case 8:return o===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function rt(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ir(s){var o=rt(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),c=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Un(s){s._valueTracker||(s._valueTracker=Ir(s))}function pi(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=rt(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function Cr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Y(s,o){var l=o.checked;return E({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function je(s,o){var l=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;l=Ie(o.value!=null?o.value:l),s._wrapperState={initialChecked:c,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ne(s,o){o=o.checked,o!=null&&M(s,"checked",o,!1)}function Kt(s,o){Ne(s,o);var l=Ie(o.value),c=o.type;if(l!=null)c==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(c==="submit"||c==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Nh(s,o.type,l):o.hasOwnProperty("defaultValue")&&Nh(s,o.type,Ie(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function cn(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Nh(s,o,l){(o!=="number"||Cr(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var vo=Array.isArray;function es(s,o,l,c){if(s=s.options,o){o={};for(var f=0;f<l.length;f++)o["$"+l[f]]=!0;for(l=0;l<s.length;l++)f=o.hasOwnProperty("$"+s[l].value),s[l].selected!==f&&(s[l].selected=f),f&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Ie(l),o=null,f=0;f<s.length;f++){if(s[f].value===l){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}o!==null||s[f].disabled||(o=s[f])}o!==null&&(o.selected=!0)}}function Mh(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ag(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(vo(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Ie(l)}}function Ng(s,o){var l=Ie(o.value),c=Ie(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),c!=null&&(s.defaultValue=""+c)}function Mg(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Lg(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Lg(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Su,Fg=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,c,f){MSApp.execUnsafeLocalFunction(function(){return s(o,l,c,f)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Su.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function yo(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VT=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(s){VT.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),wo[o]=wo[s]})});function Vg(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||wo.hasOwnProperty(s)&&wo[s]?(""+o).trim():o+"px"}function Ug(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=Vg(l,o[l],c);l==="float"&&(l="cssFloat"),c?s.setProperty(l,f):s[l]=f}}var UT=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(s,o){if(o){if(UT[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Vh(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function jh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $h=null,ts=null,ns=null;function jg(s){if(s=$o(s)){if(typeof $h!="function")throw Error(t(280));var o=s.stateNode;o&&(o=zu(o),$h(s.stateNode,s.type,o))}}function $g(s){ts?ns?ns.push(s):ns=[s]:ts=s}function Bg(){if(ts){var s=ts,o=ns;if(ns=ts=null,jg(s),o)for(s=0;s<o.length;s++)jg(o[s])}}function zg(s,o){return s(o)}function Hg(){}var Bh=!1;function qg(s,o,l){if(Bh)return s(o,l);Bh=!0;try{return zg(s,o,l)}finally{Bh=!1,(ts!==null||ns!==null)&&(Hg(),Bg())}}function So(s,o){var l=s.stateNode;if(l===null)return null;var c=zu(l);if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var zh=!1;if(h)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){zh=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{zh=!1}function jT(s,o,l,c,f,m,v,w,T){var A=Array.prototype.slice.call(arguments,3);try{o.apply(l,A)}catch($){this.onError($)}}var Io=!1,Eu=null,Iu=!1,Hh=null,$T={onError:function(s){Io=!0,Eu=s}};function BT(s,o,l,c,f,m,v,w,T){Io=!1,Eu=null,jT.apply($T,arguments)}function zT(s,o,l,c,f,m,v,w,T){if(BT.apply(this,arguments),Io){if(Io){var A=Eu;Io=!1,Eu=null}else throw Error(t(198));Iu||(Iu=!0,Hh=A)}}function mi(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Kg(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Gg(s){if(mi(s)!==s)throw Error(t(188))}function HT(s){var o=s.alternate;if(!o){if(o=mi(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,c=o;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return Gg(f),s;if(m===c)return Gg(f),o;m=m.sibling}throw Error(t(188))}if(l.return!==c.return)l=f,c=m;else{for(var v=!1,w=f.child;w;){if(w===l){v=!0,l=f,c=m;break}if(w===c){v=!0,c=f,l=m;break}w=w.sibling}if(!v){for(w=m.child;w;){if(w===l){v=!0,l=m,c=f;break}if(w===c){v=!0,c=m,l=f;break}w=w.sibling}if(!v)throw Error(t(189))}}if(l.alternate!==c)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Wg(s){return s=HT(s),s!==null?Qg(s):null}function Qg(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Qg(s);if(o!==null)return o;s=s.sibling}return null}var Yg=e.unstable_scheduleCallback,Xg=e.unstable_cancelCallback,qT=e.unstable_shouldYield,KT=e.unstable_requestPaint,ft=e.unstable_now,GT=e.unstable_getCurrentPriorityLevel,qh=e.unstable_ImmediatePriority,Jg=e.unstable_UserBlockingPriority,Cu=e.unstable_NormalPriority,WT=e.unstable_LowPriority,Zg=e.unstable_IdlePriority,Tu=null,jn=null;function QT(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Tu,s,void 0,(s.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:JT,YT=Math.log,XT=Math.LN2;function JT(s){return s>>>=0,s===0?32:31-(YT(s)/XT|0)|0}var _u=64,ku=4194304;function Co(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xu(s,o){var l=s.pendingLanes;if(l===0)return 0;var c=0,f=s.suspendedLanes,m=s.pingedLanes,v=l&268435455;if(v!==0){var w=v&~f;w!==0?c=Co(w):(m&=v,m!==0&&(c=Co(m)))}else v=l&~f,v!==0?c=Co(v):m!==0&&(c=Co(m));if(c===0)return 0;if(o!==0&&o!==c&&!(o&f)&&(f=c&-c,m=o&-o,f>=m||f===16&&(m&4194240)!==0))return o;if(c&4&&(c|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=c;0<o;)l=31-Dn(o),f=1<<l,c|=s[l],o&=~f;return c}function ZT(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e_(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,m=s.pendingLanes;0<m;){var v=31-Dn(m),w=1<<v,T=f[v];T===-1?(!(w&l)||w&c)&&(f[v]=ZT(w,o)):T<=o&&(s.expiredLanes|=w),m&=~w}}function Kh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ev(){var s=_u;return _u<<=1,!(_u&4194240)&&(_u=64),s}function Gh(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function To(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Dn(o),s[o]=l}function t_(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var c=s.eventTimes;for(s=s.expirationTimes;0<l;){var f=31-Dn(l),m=1<<f;o[f]=0,c[f]=-1,s[f]=-1,l&=~m}}function Wh(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-Dn(l),f=1<<c;f&o|s[c]&o&&(s[c]|=o),l&=~f}}var qe=0;function tv(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var nv,Qh,rv,iv,sv,Yh=!1,bu=[],Tr=null,_r=null,kr=null,_o=new Map,ko=new Map,xr=[],n_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(s,o){switch(s){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":_o.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(o.pointerId)}}function xo(s,o,l,c,f,m){return s===null||s.nativeEvent!==m?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},o!==null&&(o=$o(o),o!==null&&Qh(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),s)}function r_(s,o,l,c,f){switch(o){case"focusin":return Tr=xo(Tr,s,o,l,c,f),!0;case"dragenter":return _r=xo(_r,s,o,l,c,f),!0;case"mouseover":return kr=xo(kr,s,o,l,c,f),!0;case"pointerover":var m=f.pointerId;return _o.set(m,xo(_o.get(m)||null,s,o,l,c,f)),!0;case"gotpointercapture":return m=f.pointerId,ko.set(m,xo(ko.get(m)||null,s,o,l,c,f)),!0}return!1}function av(s){var o=gi(s.target);if(o!==null){var l=mi(o);if(l!==null){if(o=l.tag,o===13){if(o=Kg(l),o!==null){s.blockedOn=o,sv(s.priority,function(){rv(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Du(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Jh(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Uh=c,l.target.dispatchEvent(c),Uh=null}else return o=$o(l),o!==null&&Qh(o),s.blockedOn=l,!1;o.shift()}return!0}function uv(s,o,l){Du(s)&&l.delete(o)}function i_(){Yh=!1,Tr!==null&&Du(Tr)&&(Tr=null),_r!==null&&Du(_r)&&(_r=null),kr!==null&&Du(kr)&&(kr=null),_o.forEach(uv),ko.forEach(uv)}function bo(s,o){s.blockedOn===o&&(s.blockedOn=null,Yh||(Yh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,i_)))}function Do(s){function o(f){return bo(f,s)}if(0<bu.length){bo(bu[0],s);for(var l=1;l<bu.length;l++){var c=bu[l];c.blockedOn===s&&(c.blockedOn=null)}}for(Tr!==null&&bo(Tr,s),_r!==null&&bo(_r,s),kr!==null&&bo(kr,s),_o.forEach(o),ko.forEach(o),l=0;l<xr.length;l++)c=xr[l],c.blockedOn===s&&(c.blockedOn=null);for(;0<xr.length&&(l=xr[0],l.blockedOn===null);)av(l),l.blockedOn===null&&xr.shift()}var rs=B.ReactCurrentBatchConfig,Ou=!0;function s_(s,o,l,c){var f=qe,m=rs.transition;rs.transition=null;try{qe=1,Xh(s,o,l,c)}finally{qe=f,rs.transition=m}}function o_(s,o,l,c){var f=qe,m=rs.transition;rs.transition=null;try{qe=4,Xh(s,o,l,c)}finally{qe=f,rs.transition=m}}function Xh(s,o,l,c){if(Ou){var f=Jh(s,o,l,c);if(f===null)md(s,o,c,Pu,l),ov(s,c);else if(r_(f,s,o,l,c))c.stopPropagation();else if(ov(s,c),o&4&&-1<n_.indexOf(s)){for(;f!==null;){var m=$o(f);if(m!==null&&nv(m),m=Jh(s,o,l,c),m===null&&md(s,o,c,Pu,l),m===f)break;f=m}f!==null&&c.stopPropagation()}else md(s,o,c,null,l)}}var Pu=null;function Jh(s,o,l,c){if(Pu=null,s=jh(c),s=gi(s),s!==null)if(o=mi(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Kg(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Pu=s,null}function lv(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GT()){case qh:return 1;case Jg:return 4;case Cu:case WT:return 16;case Zg:return 536870912;default:return 16}default:return 16}}var br=null,Zh=null,Ru=null;function cv(){if(Ru)return Ru;var s,o=Zh,l=o.length,c,f="value"in br?br.value:br.textContent,m=f.length;for(s=0;s<l&&o[s]===f[s];s++);var v=l-s;for(c=1;c<=v&&o[l-c]===f[m-c];c++);return Ru=f.slice(s,1<c?1-c:void 0)}function Au(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Nu(){return!0}function hv(){return!1}function hn(s){function o(l,c,f,m,v){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Nu:hv,this.isPropagationStopped=hv,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),o}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=hn(is),Oo=E({},is,{view:0,detail:0}),a_=hn(Oo),td,nd,Po,Mu=E({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Po&&(Po&&s.type==="mousemove"?(td=s.screenX-Po.screenX,nd=s.screenY-Po.screenY):nd=td=0,Po=s),td)},movementY:function(s){return"movementY"in s?s.movementY:nd}}),dv=hn(Mu),u_=E({},Mu,{dataTransfer:0}),l_=hn(u_),c_=E({},Oo,{relatedTarget:0}),rd=hn(c_),h_=E({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),d_=hn(h_),f_=E({},is,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),p_=hn(f_),m_=E({},is,{data:0}),fv=hn(m_),g_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w_(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=y_[s])?!!o[s]:!1}function id(){return w_}var S_=E({},Oo,{key:function(s){if(s.key){var o=g_[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Au(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?v_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(s){return s.type==="keypress"?Au(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Au(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),E_=hn(S_),I_=E({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pv=hn(I_),C_=E({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),T_=hn(C_),__=E({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=hn(__),x_=E({},Mu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),b_=hn(x_),D_=[9,13,27,32],sd=h&&"CompositionEvent"in window,Ro=null;h&&"documentMode"in document&&(Ro=document.documentMode);var O_=h&&"TextEvent"in window&&!Ro,mv=h&&(!sd||Ro&&8<Ro&&11>=Ro),gv=" ",vv=!1;function yv(s,o){switch(s){case"keyup":return D_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ss=!1;function P_(s,o){switch(s){case"compositionend":return wv(o);case"keypress":return o.which!==32?null:(vv=!0,gv);case"textInput":return s=o.data,s===gv&&vv?null:s;default:return null}}function R_(s,o){if(ss)return s==="compositionend"||!sd&&yv(s,o)?(s=cv(),Ru=Zh=br=null,ss=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mv&&o.locale!=="ko"?null:o.data;default:return null}}var A_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!A_[s.type]:o==="textarea"}function Ev(s,o,l,c){$g(c),o=ju(o,"onChange"),0<o.length&&(l=new ed("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var Ao=null,No=null;function N_(s){Uv(s,0)}function Lu(s){var o=cs(s);if(pi(o))return s}function M_(s,o){if(s==="change")return o}var Iv=!1;if(h){var od;if(h){var ad="oninput"in document;if(!ad){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),ad=typeof Cv.oninput=="function"}od=ad}else od=!1;Iv=od&&(!document.documentMode||9<document.documentMode)}function Tv(){Ao&&(Ao.detachEvent("onpropertychange",_v),No=Ao=null)}function _v(s){if(s.propertyName==="value"&&Lu(No)){var o=[];Ev(o,No,s,jh(s)),qg(N_,o)}}function L_(s,o,l){s==="focusin"?(Tv(),Ao=o,No=l,Ao.attachEvent("onpropertychange",_v)):s==="focusout"&&Tv()}function F_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lu(No)}function V_(s,o){if(s==="click")return Lu(o)}function U_(s,o){if(s==="input"||s==="change")return Lu(o)}function j_(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var On=typeof Object.is=="function"?Object.is:j_;function Mo(s,o){if(On(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!d.call(o,f)||!On(s[f],o[f]))return!1}return!0}function kv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xv(s,o){var l=kv(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kv(l)}}function bv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?bv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Dv(){for(var s=window,o=Cr();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Cr(s.document)}return o}function ud(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function $_(s){var o=Dv(),l=s.focusedElem,c=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&bv(l.ownerDocument.documentElement,l)){if(c!==null&&ud(l)){if(o=c.start,s=c.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var f=l.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!s.extend&&m>c&&(f=c,c=m,m=f),f=xv(l,m);var v=xv(l,c);f&&v&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),s.removeAllRanges(),m>c?(s.addRange(o),s.extend(v.node,v.offset)):(o.setEnd(v.node,v.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var B_=h&&"documentMode"in document&&11>=document.documentMode,os=null,ld=null,Lo=null,cd=!1;function Ov(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cd||os==null||os!==Cr(c)||(c=os,"selectionStart"in c&&ud(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Lo&&Mo(Lo,c)||(Lo=c,c=ju(ld,"onSelect"),0<c.length&&(o=new ed("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=os)))}function Fu(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var as={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},hd={},Pv={};h&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Vu(s){if(hd[s])return hd[s];if(!as[s])return s;var o=as[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Pv)return hd[s]=o[l];return s}var Rv=Vu("animationend"),Av=Vu("animationiteration"),Nv=Vu("animationstart"),Mv=Vu("transitionend"),Lv=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(s,o){Lv.set(s,o),a(o,[s])}for(var dd=0;dd<Fv.length;dd++){var fd=Fv[dd],z_=fd.toLowerCase(),H_=fd[0].toUpperCase()+fd.slice(1);Dr(z_,"on"+H_)}Dr(Rv,"onAnimationEnd"),Dr(Av,"onAnimationIteration"),Dr(Nv,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Mv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function Vv(s,o,l){var c=s.type||"unknown-event";s.currentTarget=l,zT(c,o,void 0,s),s.currentTarget=null}function Uv(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],f=c.event;c=c.listeners;e:{var m=void 0;if(o)for(var v=c.length-1;0<=v;v--){var w=c[v],T=w.instance,A=w.currentTarget;if(w=w.listener,T!==m&&f.isPropagationStopped())break e;Vv(f,w,A),m=T}else for(v=0;v<c.length;v++){if(w=c[v],T=w.instance,A=w.currentTarget,w=w.listener,T!==m&&f.isPropagationStopped())break e;Vv(f,w,A),m=T}}}if(Iu)throw s=Hh,Iu=!1,Hh=null,s}function Je(s,o){var l=o[Ed];l===void 0&&(l=o[Ed]=new Set);var c=s+"__bubble";l.has(c)||(jv(o,s,2,!1),l.add(c))}function pd(s,o,l){var c=0;o&&(c|=4),jv(l,s,c,o)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vo(s){if(!s[Uu]){s[Uu]=!0,r.forEach(function(l){l!=="selectionchange"&&(q_.has(l)||pd(l,!1,s),pd(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Uu]||(o[Uu]=!0,pd("selectionchange",!1,o))}}function jv(s,o,l,c){switch(lv(o)){case 1:var f=s_;break;case 4:f=o_;break;default:f=Xh}l=f.bind(null,o,l,s),f=void 0,!zh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(o,l,{capture:!0,passive:f}):s.addEventListener(o,l,!0):f!==void 0?s.addEventListener(o,l,{passive:f}):s.addEventListener(o,l,!1)}function md(s,o,l,c,f){var m=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var w=c.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var T=v.tag;if((T===3||T===4)&&(T=v.stateNode.containerInfo,T===f||T.nodeType===8&&T.parentNode===f))return;v=v.return}for(;w!==null;){if(v=gi(w),v===null)return;if(T=v.tag,T===5||T===6){c=m=v;continue e}w=w.parentNode}}c=c.return}qg(function(){var A=m,$=jh(l),q=[];e:{var j=Lv.get(s);if(j!==void 0){var ee=ed,re=s;switch(s){case"keypress":if(Au(l)===0)break e;case"keydown":case"keyup":ee=E_;break;case"focusin":re="focus",ee=rd;break;case"focusout":re="blur",ee=rd;break;case"beforeblur":case"afterblur":ee=rd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=l_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=T_;break;case Rv:case Av:case Nv:ee=d_;break;case Mv:ee=k_;break;case"scroll":ee=a_;break;case"wheel":ee=b_;break;case"copy":case"cut":case"paste":ee=p_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=pv}var se=(o&4)!==0,pt=!se&&s==="scroll",b=se?j!==null?j+"Capture":null:j;se=[];for(var _=A,O;_!==null;){O=_;var W=O.stateNode;if(O.tag===5&&W!==null&&(O=W,b!==null&&(W=So(_,b),W!=null&&se.push(Uo(_,W,O)))),pt)break;_=_.return}0<se.length&&(j=new ee(j,re,null,l,$),q.push({event:j,listeners:se}))}}if(!(o&7)){e:{if(j=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",j&&l!==Uh&&(re=l.relatedTarget||l.fromElement)&&(gi(re)||re[rr]))break e;if((ee||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,ee?(re=l.relatedTarget||l.toElement,ee=A,re=re?gi(re):null,re!==null&&(pt=mi(re),re!==pt||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=A),ee!==re)){if(se=dv,W="onMouseLeave",b="onMouseEnter",_="mouse",(s==="pointerout"||s==="pointerover")&&(se=pv,W="onPointerLeave",b="onPointerEnter",_="pointer"),pt=ee==null?j:cs(ee),O=re==null?j:cs(re),j=new se(W,_+"leave",ee,l,$),j.target=pt,j.relatedTarget=O,W=null,gi($)===A&&(se=new se(b,_+"enter",re,l,$),se.target=O,se.relatedTarget=pt,W=se),pt=W,ee&&re)t:{for(se=ee,b=re,_=0,O=se;O;O=us(O))_++;for(O=0,W=b;W;W=us(W))O++;for(;0<_-O;)se=us(se),_--;for(;0<O-_;)b=us(b),O--;for(;_--;){if(se===b||b!==null&&se===b.alternate)break t;se=us(se),b=us(b)}se=null}else se=null;ee!==null&&$v(q,j,ee,se,!1),re!==null&&pt!==null&&$v(q,pt,re,se,!0)}}e:{if(j=A?cs(A):window,ee=j.nodeName&&j.nodeName.toLowerCase(),ee==="select"||ee==="input"&&j.type==="file")var ae=M_;else if(Sv(j))if(Iv)ae=U_;else{ae=F_;var fe=L_}else(ee=j.nodeName)&&ee.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(ae=V_);if(ae&&(ae=ae(s,A))){Ev(q,ae,l,$);break e}fe&&fe(s,j,A),s==="focusout"&&(fe=j._wrapperState)&&fe.controlled&&j.type==="number"&&Nh(j,"number",j.value)}switch(fe=A?cs(A):window,s){case"focusin":(Sv(fe)||fe.contentEditable==="true")&&(os=fe,ld=A,Lo=null);break;case"focusout":Lo=ld=os=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Ov(q,l,$);break;case"selectionchange":if(B_)break;case"keydown":case"keyup":Ov(q,l,$)}var pe;if(sd)e:{switch(s){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ss?yv(s,l)&&(we="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(mv&&l.locale!=="ko"&&(ss||we!=="onCompositionStart"?we==="onCompositionEnd"&&ss&&(pe=cv()):(br=$,Zh="value"in br?br.value:br.textContent,ss=!0)),fe=ju(A,we),0<fe.length&&(we=new fv(we,s,null,l,$),q.push({event:we,listeners:fe}),pe?we.data=pe:(pe=wv(l),pe!==null&&(we.data=pe)))),(pe=O_?P_(s,l):R_(s,l))&&(A=ju(A,"onBeforeInput"),0<A.length&&($=new fv("onBeforeInput","beforeinput",null,l,$),q.push({event:$,listeners:A}),$.data=pe))}Uv(q,o)})}function Uo(s,o,l){return{instance:s,listener:o,currentTarget:l}}function ju(s,o){for(var l=o+"Capture",c=[];s!==null;){var f=s,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=So(s,l),m!=null&&c.unshift(Uo(s,m,f)),m=So(s,o),m!=null&&c.push(Uo(s,m,f))),s=s.return}return c}function us(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function $v(s,o,l,c,f){for(var m=o._reactName,v=[];l!==null&&l!==c;){var w=l,T=w.alternate,A=w.stateNode;if(T!==null&&T===c)break;w.tag===5&&A!==null&&(w=A,f?(T=So(l,m),T!=null&&v.unshift(Uo(l,T,w))):f||(T=So(l,m),T!=null&&v.push(Uo(l,T,w)))),l=l.return}v.length!==0&&s.push({event:o,listeners:v})}var K_=/\r\n?/g,G_=/\u0000|\uFFFD/g;function Bv(s){return(typeof s=="string"?s:""+s).replace(K_,`
`).replace(G_,"")}function $u(s,o,l){if(o=Bv(o),Bv(s)!==o&&l)throw Error(t(425))}function Bu(){}var gd=null,vd=null;function yd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,W_=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(s){return zv.resolve(null).then(s).catch(Y_)}:wd;function Y_(s){setTimeout(function(){throw s})}function Sd(s,o){var l=o,c=0;do{var f=l.nextSibling;if(s.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){s.removeChild(f),Do(o);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);Do(o)}function Or(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Hv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var ls=Math.random().toString(36).slice(2),$n="__reactFiber$"+ls,jo="__reactProps$"+ls,rr="__reactContainer$"+ls,Ed="__reactEvents$"+ls,X_="__reactListeners$"+ls,J_="__reactHandles$"+ls;function gi(s){var o=s[$n];if(o)return o;for(var l=s.parentNode;l;){if(o=l[rr]||l[$n]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Hv(s);s!==null;){if(l=s[$n])return l;s=Hv(s)}return o}s=l,l=s.parentNode}return null}function $o(s){return s=s[$n]||s[rr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function cs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function zu(s){return s[jo]||null}var Id=[],hs=-1;function Pr(s){return{current:s}}function Ze(s){0>hs||(s.current=Id[hs],Id[hs]=null,hs--)}function Qe(s,o){hs++,Id[hs]=s.current,s.current=o}var Rr={},Vt=Pr(Rr),Zt=Pr(!1),vi=Rr;function ds(s,o){var l=s.type.contextTypes;if(!l)return Rr;var c=s.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in l)f[m]=o[m];return c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=f),f}function en(s){return s=s.childContextTypes,s!=null}function Hu(){Ze(Zt),Ze(Vt)}function qv(s,o,l){if(Vt.current!==Rr)throw Error(t(168));Qe(Vt,o),Qe(Zt,l)}function Kv(s,o,l){var c=s.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in o))throw Error(t(108,_e(s)||"Unknown",f));return E({},l,c)}function qu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rr,vi=Vt.current,Qe(Vt,s),Qe(Zt,Zt.current),!0}function Gv(s,o,l){var c=s.stateNode;if(!c)throw Error(t(169));l?(s=Kv(s,o,vi),c.__reactInternalMemoizedMergedChildContext=s,Ze(Zt),Ze(Vt),Qe(Vt,s)):Ze(Zt),Qe(Zt,l)}var ir=null,Ku=!1,Cd=!1;function Wv(s){ir===null?ir=[s]:ir.push(s)}function Z_(s){Ku=!0,Wv(s)}function Ar(){if(!Cd&&ir!==null){Cd=!0;var s=0,o=qe;try{var l=ir;for(qe=1;s<l.length;s++){var c=l[s];do c=c(!0);while(c!==null)}ir=null,Ku=!1}catch(f){throw ir!==null&&(ir=ir.slice(s+1)),Yg(qh,Ar),f}finally{qe=o,Cd=!1}}return null}var fs=[],ps=0,Gu=null,Wu=0,Sn=[],En=0,yi=null,sr=1,or="";function wi(s,o){fs[ps++]=Wu,fs[ps++]=Gu,Gu=s,Wu=o}function Qv(s,o,l){Sn[En++]=sr,Sn[En++]=or,Sn[En++]=yi,yi=s;var c=sr;s=or;var f=32-Dn(c)-1;c&=~(1<<f),l+=1;var m=32-Dn(o)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,sr=1<<32-Dn(o)+f|l<<f|c,or=m+s}else sr=1<<m|l<<f|c,or=s}function Td(s){s.return!==null&&(wi(s,1),Qv(s,1,0))}function _d(s){for(;s===Gu;)Gu=fs[--ps],fs[ps]=null,Wu=fs[--ps],fs[ps]=null;for(;s===yi;)yi=Sn[--En],Sn[En]=null,or=Sn[--En],Sn[En]=null,sr=Sn[--En],Sn[En]=null}var dn=null,fn=null,it=!1,Pn=null;function Yv(s,o){var l=_n(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Xv(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,dn=s,fn=Or(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,dn=s,fn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=yi!==null?{id:sr,overflow:or}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=_n(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,dn=s,fn=null,!0):!1;default:return!1}}function kd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function xd(s){if(it){var o=fn;if(o){var l=o;if(!Xv(s,o)){if(kd(s))throw Error(t(418));o=Or(l.nextSibling);var c=dn;o&&Xv(s,o)?Yv(c,l):(s.flags=s.flags&-4097|2,it=!1,dn=s)}}else{if(kd(s))throw Error(t(418));s.flags=s.flags&-4097|2,it=!1,dn=s}}}function Jv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;dn=s}function Qu(s){if(s!==dn)return!1;if(!it)return Jv(s),it=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!yd(s.type,s.memoizedProps)),o&&(o=fn)){if(kd(s))throw Zv(),Error(t(418));for(;o;)Yv(s,o),o=Or(o.nextSibling)}if(Jv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){fn=Or(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}fn=null}}else fn=dn?Or(s.stateNode.nextSibling):null;return!0}function Zv(){for(var s=fn;s;)s=Or(s.nextSibling)}function ms(){fn=dn=null,it=!1}function bd(s){Pn===null?Pn=[s]:Pn.push(s)}var ek=B.ReactCurrentBatchConfig;function Rn(s,o){if(s&&s.defaultProps){o=E({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}var Yu=Pr(null),Xu=null,gs=null,Dd=null;function Od(){Dd=gs=Xu=null}function Pd(s){var o=Yu.current;Ze(Yu),s._currentValue=o}function Rd(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function vs(s,o){Xu=s,Dd=gs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(tn=!0),s.firstContext=null)}function In(s){var o=s._currentValue;if(Dd!==s)if(s={context:s,memoizedValue:o,next:null},gs===null){if(Xu===null)throw Error(t(308));gs=s,Xu.dependencies={lanes:0,firstContext:s}}else gs=gs.next=s;return o}var Si=null;function Ad(s){Si===null?Si=[s]:Si.push(s)}function ey(s,o,l,c){var f=o.interleaved;return f===null?(l.next=l,Ad(o)):(l.next=f.next,f.next=l),o.interleaved=l,ar(s,c)}function ar(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Nr=!1;function Nd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ty(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ur(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Mr(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,Me&2){var f=c.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),c.pending=o,ar(s,l)}return f=c.interleaved,f===null?(o.next=o,Ad(c)):(o.next=f.next,f.next=o),c.interleaved=o,ar(s,l)}function Ju(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,Wh(s,l)}}function ny(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?f=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?f=m=o:m=m.next=o}else f=m=o;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Zu(s,o,l,c){var f=s.updateQueue;Nr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var T=w,A=T.next;T.next=null,v===null?m=A:v.next=A,v=T;var $=s.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==v&&(w===null?$.firstBaseUpdate=A:w.next=A,$.lastBaseUpdate=T))}if(m!==null){var q=f.baseState;v=0,$=A=T=null,w=m;do{var j=w.lane,ee=w.eventTime;if((c&j)===j){$!==null&&($=$.next={eventTime:ee,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=s,se=w;switch(j=o,ee=l,se.tag){case 1:if(re=se.payload,typeof re=="function"){q=re.call(ee,q,j);break e}q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,j=typeof re=="function"?re.call(ee,q,j):re,j==null)break e;q=E({},q,j);break e;case 2:Nr=!0}}w.callback!==null&&w.lane!==0&&(s.flags|=64,j=f.effects,j===null?f.effects=[w]:j.push(w))}else ee={eventTime:ee,lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(A=$=ee,T=q):$=$.next=ee,v|=j;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;j=w,w=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);if($===null&&(T=q),f.baseState=T,f.firstBaseUpdate=A,f.lastBaseUpdate=$,o=f.shared.interleaved,o!==null){f=o;do v|=f.lane,f=f.next;while(f!==o)}else m===null&&(f.shared.lanes=0);Ci|=v,s.lanes=v,s.memoizedState=q}}function ry(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var c=s[o],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var iy=new n.Component().refs;function Md(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:E({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var el={isMounted:function(s){return(s=s._reactInternals)?mi(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Wt(),f=Ur(s),m=ur(c,f);m.payload=o,l!=null&&(m.callback=l),o=Mr(s,m,f),o!==null&&(Mn(o,s,f,c),Ju(o,s,f))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Wt(),f=Ur(s),m=ur(c,f);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=Mr(s,m,f),o!==null&&(Mn(o,s,f,c),Ju(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Wt(),c=Ur(s),f=ur(l,c);f.tag=2,o!=null&&(f.callback=o),o=Mr(s,f,c),o!==null&&(Mn(o,s,c,l),Ju(o,s,c))}};function sy(s,o,l,c,f,m,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,m,v):o.prototype&&o.prototype.isPureReactComponent?!Mo(l,c)||!Mo(f,m):!0}function oy(s,o,l){var c=!1,f=Rr,m=o.contextType;return typeof m=="object"&&m!==null?m=In(m):(f=en(o)?vi:Vt.current,c=o.contextTypes,m=(c=c!=null)?ds(s,f):Rr),o=new o(l,m),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=el,s.stateNode=o,o._reactInternals=s,c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=f,s.__reactInternalMemoizedMaskedChildContext=m),o}function ay(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&el.enqueueReplaceState(o,o.state,null)}function Ld(s,o,l,c){var f=s.stateNode;f.props=l,f.state=s.memoizedState,f.refs=iy,Nd(s);var m=o.contextType;typeof m=="object"&&m!==null?f.context=In(m):(m=en(o)?vi:Vt.current,f.context=ds(s,m)),f.state=s.memoizedState,m=o.getDerivedStateFromProps,typeof m=="function"&&(Md(s,o,m,l),f.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&el.enqueueReplaceState(f,f.state,null),Zu(s,l,f,c),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308)}function Bo(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var c=l.stateNode}if(!c)throw Error(t(147,s));var f=c,m=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===m?o.ref:(o=function(v){var w=f.refs;w===iy&&(w=f.refs={}),v===null?delete w[m]:w[m]=v},o._stringRef=m,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function tl(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function uy(s){var o=s._init;return o(s._payload)}function ly(s){function o(b,_){if(s){var O=b.deletions;O===null?(b.deletions=[_],b.flags|=16):O.push(_)}}function l(b,_){if(!s)return null;for(;_!==null;)o(b,_),_=_.sibling;return null}function c(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function f(b,_){return b=$r(b,_),b.index=0,b.sibling=null,b}function m(b,_,O){return b.index=O,s?(O=b.alternate,O!==null?(O=O.index,O<_?(b.flags|=2,_):O):(b.flags|=2,_)):(b.flags|=1048576,_)}function v(b){return s&&b.alternate===null&&(b.flags|=2),b}function w(b,_,O,W){return _===null||_.tag!==6?(_=Sf(O,b.mode,W),_.return=b,_):(_=f(_,O),_.return=b,_)}function T(b,_,O,W){var ae=O.type;return ae===z?$(b,_,O.props.children,W,O.key):_!==null&&(_.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===xe&&uy(ae)===_.type)?(W=f(_,O.props),W.ref=Bo(b,_,O),W.return=b,W):(W=Sl(O.type,O.key,O.props,null,b.mode,W),W.ref=Bo(b,_,O),W.return=b,W)}function A(b,_,O,W){return _===null||_.tag!==4||_.stateNode.containerInfo!==O.containerInfo||_.stateNode.implementation!==O.implementation?(_=Ef(O,b.mode,W),_.return=b,_):(_=f(_,O.children||[]),_.return=b,_)}function $(b,_,O,W,ae){return _===null||_.tag!==7?(_=xi(O,b.mode,W,ae),_.return=b,_):(_=f(_,O),_.return=b,_)}function q(b,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Sf(""+_,b.mode,O),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case R:return O=Sl(_.type,_.key,_.props,null,b.mode,O),O.ref=Bo(b,null,_),O.return=b,O;case U:return _=Ef(_,b.mode,O),_.return=b,_;case xe:var W=_._init;return q(b,W(_._payload),O)}if(vo(_)||oe(_))return _=xi(_,b.mode,O,null),_.return=b,_;tl(b,_)}return null}function j(b,_,O,W){var ae=_!==null?_.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ae!==null?null:w(b,_,""+O,W);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return O.key===ae?T(b,_,O,W):null;case U:return O.key===ae?A(b,_,O,W):null;case xe:return ae=O._init,j(b,_,ae(O._payload),W)}if(vo(O)||oe(O))return ae!==null?null:$(b,_,O,W,null);tl(b,O)}return null}function ee(b,_,O,W,ae){if(typeof W=="string"&&W!==""||typeof W=="number")return b=b.get(O)||null,w(_,b,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return b=b.get(W.key===null?O:W.key)||null,T(_,b,W,ae);case U:return b=b.get(W.key===null?O:W.key)||null,A(_,b,W,ae);case xe:var fe=W._init;return ee(b,_,O,fe(W._payload),ae)}if(vo(W)||oe(W))return b=b.get(O)||null,$(_,b,W,ae,null);tl(_,W)}return null}function re(b,_,O,W){for(var ae=null,fe=null,pe=_,we=_=0,_t=null;pe!==null&&we<O.length;we++){pe.index>we?(_t=pe,pe=null):_t=pe.sibling;var Ve=j(b,pe,O[we],W);if(Ve===null){pe===null&&(pe=_t);break}s&&pe&&Ve.alternate===null&&o(b,pe),_=m(Ve,_,we),fe===null?ae=Ve:fe.sibling=Ve,fe=Ve,pe=_t}if(we===O.length)return l(b,pe),it&&wi(b,we),ae;if(pe===null){for(;we<O.length;we++)pe=q(b,O[we],W),pe!==null&&(_=m(pe,_,we),fe===null?ae=pe:fe.sibling=pe,fe=pe);return it&&wi(b,we),ae}for(pe=c(b,pe);we<O.length;we++)_t=ee(pe,b,we,O[we],W),_t!==null&&(s&&_t.alternate!==null&&pe.delete(_t.key===null?we:_t.key),_=m(_t,_,we),fe===null?ae=_t:fe.sibling=_t,fe=_t);return s&&pe.forEach(function(Br){return o(b,Br)}),it&&wi(b,we),ae}function se(b,_,O,W){var ae=oe(O);if(typeof ae!="function")throw Error(t(150));if(O=ae.call(O),O==null)throw Error(t(151));for(var fe=ae=null,pe=_,we=_=0,_t=null,Ve=O.next();pe!==null&&!Ve.done;we++,Ve=O.next()){pe.index>we?(_t=pe,pe=null):_t=pe.sibling;var Br=j(b,pe,Ve.value,W);if(Br===null){pe===null&&(pe=_t);break}s&&pe&&Br.alternate===null&&o(b,pe),_=m(Br,_,we),fe===null?ae=Br:fe.sibling=Br,fe=Br,pe=_t}if(Ve.done)return l(b,pe),it&&wi(b,we),ae;if(pe===null){for(;!Ve.done;we++,Ve=O.next())Ve=q(b,Ve.value,W),Ve!==null&&(_=m(Ve,_,we),fe===null?ae=Ve:fe.sibling=Ve,fe=Ve);return it&&wi(b,we),ae}for(pe=c(b,pe);!Ve.done;we++,Ve=O.next())Ve=ee(pe,b,we,Ve.value,W),Ve!==null&&(s&&Ve.alternate!==null&&pe.delete(Ve.key===null?we:Ve.key),_=m(Ve,_,we),fe===null?ae=Ve:fe.sibling=Ve,fe=Ve);return s&&pe.forEach(function(Ak){return o(b,Ak)}),it&&wi(b,we),ae}function pt(b,_,O,W){if(typeof O=="object"&&O!==null&&O.type===z&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case R:e:{for(var ae=O.key,fe=_;fe!==null;){if(fe.key===ae){if(ae=O.type,ae===z){if(fe.tag===7){l(b,fe.sibling),_=f(fe,O.props.children),_.return=b,b=_;break e}}else if(fe.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===xe&&uy(ae)===fe.type){l(b,fe.sibling),_=f(fe,O.props),_.ref=Bo(b,fe,O),_.return=b,b=_;break e}l(b,fe);break}else o(b,fe);fe=fe.sibling}O.type===z?(_=xi(O.props.children,b.mode,W,O.key),_.return=b,b=_):(W=Sl(O.type,O.key,O.props,null,b.mode,W),W.ref=Bo(b,_,O),W.return=b,b=W)}return v(b);case U:e:{for(fe=O.key;_!==null;){if(_.key===fe)if(_.tag===4&&_.stateNode.containerInfo===O.containerInfo&&_.stateNode.implementation===O.implementation){l(b,_.sibling),_=f(_,O.children||[]),_.return=b,b=_;break e}else{l(b,_);break}else o(b,_);_=_.sibling}_=Ef(O,b.mode,W),_.return=b,b=_}return v(b);case xe:return fe=O._init,pt(b,_,fe(O._payload),W)}if(vo(O))return re(b,_,O,W);if(oe(O))return se(b,_,O,W);tl(b,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,_!==null&&_.tag===6?(l(b,_.sibling),_=f(_,O),_.return=b,b=_):(l(b,_),_=Sf(O,b.mode,W),_.return=b,b=_),v(b)):l(b,_)}return pt}var ys=ly(!0),cy=ly(!1),zo={},Bn=Pr(zo),Ho=Pr(zo),qo=Pr(zo);function Ei(s){if(s===zo)throw Error(t(174));return s}function Fd(s,o){switch(Qe(qo,o),Qe(Ho,s),Qe(Bn,zo),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Lh(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Lh(o,s)}Ze(Bn),Qe(Bn,o)}function ws(){Ze(Bn),Ze(Ho),Ze(qo)}function hy(s){Ei(qo.current);var o=Ei(Bn.current),l=Lh(o,s.type);o!==l&&(Qe(Ho,s),Qe(Bn,l))}function Vd(s){Ho.current===s&&(Ze(Bn),Ze(Ho))}var st=Pr(0);function nl(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ud=[];function jd(){for(var s=0;s<Ud.length;s++)Ud[s]._workInProgressVersionPrimary=null;Ud.length=0}var rl=B.ReactCurrentDispatcher,$d=B.ReactCurrentBatchConfig,Ii=0,ot=null,St=null,Ct=null,il=!1,Ko=!1,Go=0,tk=0;function Ut(){throw Error(t(321))}function Bd(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!On(s[l],o[l]))return!1;return!0}function zd(s,o,l,c,f,m){if(Ii=m,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,rl.current=s===null||s.memoizedState===null?sk:ok,s=l(c,f),Ko){m=0;do{if(Ko=!1,Go=0,25<=m)throw Error(t(301));m+=1,Ct=St=null,o.updateQueue=null,rl.current=ak,s=l(c,f)}while(Ko)}if(rl.current=al,o=St!==null&&St.next!==null,Ii=0,Ct=St=ot=null,il=!1,o)throw Error(t(300));return s}function Hd(){var s=Go!==0;return Go=0,s}function zn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ot.memoizedState=Ct=s:Ct=Ct.next=s,Ct}function Cn(){if(St===null){var s=ot.alternate;s=s!==null?s.memoizedState:null}else s=St.next;var o=Ct===null?ot.memoizedState:Ct.next;if(o!==null)Ct=o,St=s;else{if(s===null)throw Error(t(310));St=s,s={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ct===null?ot.memoizedState=Ct=s:Ct=Ct.next=s}return Ct}function Wo(s,o){return typeof o=="function"?o(s):o}function qd(s){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var c=St,f=c.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,l.pending=null}if(f!==null){m=f.next,c=c.baseState;var w=v=null,T=null,A=m;do{var $=A.lane;if((Ii&$)===$)T!==null&&(T=T.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),c=A.hasEagerState?A.eagerState:s(c,A.action);else{var q={lane:$,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};T===null?(w=T=q,v=c):T=T.next=q,ot.lanes|=$,Ci|=$}A=A.next}while(A!==null&&A!==m);T===null?v=c:T.next=w,On(c,o.memoizedState)||(tn=!0),o.memoizedState=c,o.baseState=v,o.baseQueue=T,l.lastRenderedState=c}if(s=l.interleaved,s!==null){f=s;do m=f.lane,ot.lanes|=m,Ci|=m,f=f.next;while(f!==s)}else f===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Kd(s){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var c=l.dispatch,f=l.pending,m=o.memoizedState;if(f!==null){l.pending=null;var v=f=f.next;do m=s(m,v.action),v=v.next;while(v!==f);On(m,o.memoizedState)||(tn=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),l.lastRenderedState=m}return[m,c]}function dy(){}function fy(s,o){var l=ot,c=Cn(),f=o(),m=!On(c.memoizedState,f);if(m&&(c.memoizedState=f,tn=!0),c=c.queue,Gd(gy.bind(null,l,c,s),[s]),c.getSnapshot!==o||m||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Qo(9,my.bind(null,l,c,f,o),void 0,null),Tt===null)throw Error(t(349));Ii&30||py(l,o,f)}return f}function py(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function my(s,o,l,c){o.value=l,o.getSnapshot=c,vy(o)&&yy(s)}function gy(s,o,l){return l(function(){vy(o)&&yy(s)})}function vy(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!On(s,l)}catch{return!0}}function yy(s){var o=ar(s,1);o!==null&&Mn(o,s,1,-1)}function wy(s){var o=zn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:s},o.queue=s,s=s.dispatch=ik.bind(null,ot,s),[o.memoizedState,s]}function Qo(s,o,l,c){return s={tag:s,create:o,destroy:l,deps:c,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s)),s}function Sy(){return Cn().memoizedState}function sl(s,o,l,c){var f=zn();ot.flags|=s,f.memoizedState=Qo(1|o,l,void 0,c===void 0?null:c)}function ol(s,o,l,c){var f=Cn();c=c===void 0?null:c;var m=void 0;if(St!==null){var v=St.memoizedState;if(m=v.destroy,c!==null&&Bd(c,v.deps)){f.memoizedState=Qo(o,l,m,c);return}}ot.flags|=s,f.memoizedState=Qo(1|o,l,m,c)}function Ey(s,o){return sl(8390656,8,s,o)}function Gd(s,o){return ol(2048,8,s,o)}function Iy(s,o){return ol(4,2,s,o)}function Cy(s,o){return ol(4,4,s,o)}function Ty(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function _y(s,o,l){return l=l!=null?l.concat([s]):null,ol(4,4,Ty.bind(null,o,s),l)}function Wd(){}function ky(s,o){var l=Cn();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&Bd(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function xy(s,o){var l=Cn();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&Bd(o,c[1])?c[0]:(s=s(),l.memoizedState=[s,o],s)}function by(s,o,l){return Ii&21?(On(l,o)||(l=ev(),ot.lanes|=l,Ci|=l,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,tn=!0),s.memoizedState=l)}function nk(s,o){var l=qe;qe=l!==0&&4>l?l:4,s(!0);var c=$d.transition;$d.transition={};try{s(!1),o()}finally{qe=l,$d.transition=c}}function Dy(){return Cn().memoizedState}function rk(s,o,l){var c=Ur(s);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Oy(s))Py(o,l);else if(l=ey(s,o,l,c),l!==null){var f=Wt();Mn(l,s,c,f),Ry(l,o,c)}}function ik(s,o,l){var c=Ur(s),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Oy(s))Py(o,f);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer,m!==null))try{var v=o.lastRenderedState,w=m(v,l);if(f.hasEagerState=!0,f.eagerState=w,On(w,v)){var T=o.interleaved;T===null?(f.next=f,Ad(o)):(f.next=T.next,T.next=f),o.interleaved=f;return}}catch{}finally{}l=ey(s,o,f,c),l!==null&&(f=Wt(),Mn(l,s,c,f),Ry(l,o,c))}}function Oy(s){var o=s.alternate;return s===ot||o!==null&&o===ot}function Py(s,o){Ko=il=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Ry(s,o,l){if(l&4194240){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,Wh(s,l)}}var al={readContext:In,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},sk={readContext:In,useCallback:function(s,o){return zn().memoizedState=[s,o===void 0?null:o],s},useContext:In,useEffect:Ey,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,sl(4194308,4,Ty.bind(null,o,s),l)},useLayoutEffect:function(s,o){return sl(4194308,4,s,o)},useInsertionEffect:function(s,o){return sl(4,2,s,o)},useMemo:function(s,o){var l=zn();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var c=zn();return o=l!==void 0?l(o):o,c.memoizedState=c.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},c.queue=s,s=s.dispatch=rk.bind(null,ot,s),[c.memoizedState,s]},useRef:function(s){var o=zn();return s={current:s},o.memoizedState=s},useState:wy,useDebugValue:Wd,useDeferredValue:function(s){return zn().memoizedState=s},useTransition:function(){var s=wy(!1),o=s[0];return s=nk.bind(null,s[1]),zn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var c=ot,f=zn();if(it){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Tt===null)throw Error(t(349));Ii&30||py(c,o,l)}f.memoizedState=l;var m={value:l,getSnapshot:o};return f.queue=m,Ey(gy.bind(null,c,m,s),[s]),c.flags|=2048,Qo(9,my.bind(null,c,m,l,o),void 0,null),l},useId:function(){var s=zn(),o=Tt.identifierPrefix;if(it){var l=or,c=sr;l=(c&~(1<<32-Dn(c)-1)).toString(32)+l,o=":"+o+"R"+l,l=Go++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=tk++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},ok={readContext:In,useCallback:ky,useContext:In,useEffect:Gd,useImperativeHandle:_y,useInsertionEffect:Iy,useLayoutEffect:Cy,useMemo:xy,useReducer:qd,useRef:Sy,useState:function(){return qd(Wo)},useDebugValue:Wd,useDeferredValue:function(s){var o=Cn();return by(o,St.memoizedState,s)},useTransition:function(){var s=qd(Wo)[0],o=Cn().memoizedState;return[s,o]},useMutableSource:dy,useSyncExternalStore:fy,useId:Dy,unstable_isNewReconciler:!1},ak={readContext:In,useCallback:ky,useContext:In,useEffect:Gd,useImperativeHandle:_y,useInsertionEffect:Iy,useLayoutEffect:Cy,useMemo:xy,useReducer:Kd,useRef:Sy,useState:function(){return Kd(Wo)},useDebugValue:Wd,useDeferredValue:function(s){var o=Cn();return St===null?o.memoizedState=s:by(o,St.memoizedState,s)},useTransition:function(){var s=Kd(Wo)[0],o=Cn().memoizedState;return[s,o]},useMutableSource:dy,useSyncExternalStore:fy,useId:Dy,unstable_isNewReconciler:!1};function Ss(s,o){try{var l="",c=o;do l+=be(c),c=c.return;while(c);var f=l}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:s,source:o,stack:f,digest:null}}function Qd(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Yd(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var uk=typeof WeakMap=="function"?WeakMap:Map;function Ay(s,o,l){l=ur(-1,l),l.tag=3,l.payload={element:null};var c=o.value;return l.callback=function(){pl||(pl=!0,df=c),Yd(s,o)},l}function Ny(s,o,l){l=ur(-1,l),l.tag=3;var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;l.payload=function(){return c(f)},l.callback=function(){Yd(s,o)}}var m=s.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Yd(s,o),typeof c!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})}),l}function My(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new uk;var f=new Set;c.set(o,f)}else f=c.get(o),f===void 0&&(f=new Set,c.set(o,f));f.has(l)||(f.add(l),s=Ik.bind(null,s,o,l),o.then(s,s))}function Ly(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Fy(s,o,l,c,f){return s.mode&1?(s.flags|=65536,s.lanes=f,s):(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ur(-1,1),o.tag=2,Mr(l,o,1))),l.lanes|=1),s)}var lk=B.ReactCurrentOwner,tn=!1;function Gt(s,o,l,c){o.child=s===null?cy(o,null,l,c):ys(o,s.child,l,c)}function Vy(s,o,l,c,f){l=l.render;var m=o.ref;return vs(o,f),c=zd(s,o,l,c,m,f),l=Hd(),s!==null&&!tn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~f,lr(s,o,f)):(it&&l&&Td(o),o.flags|=1,Gt(s,o,c,f),o.child)}function Uy(s,o,l,c,f){if(s===null){var m=l.type;return typeof m=="function"&&!wf(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=m,jy(s,o,m,c,f)):(s=Sl(l.type,null,c,o,o.mode,f),s.ref=o.ref,s.return=o,o.child=s)}if(m=s.child,!(s.lanes&f)){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:Mo,l(v,c)&&s.ref===o.ref)return lr(s,o,f)}return o.flags|=1,s=$r(m,c),s.ref=o.ref,s.return=o,o.child=s}function jy(s,o,l,c,f){if(s!==null){var m=s.memoizedProps;if(Mo(m,c)&&s.ref===o.ref)if(tn=!1,o.pendingProps=c=m,(s.lanes&f)!==0)s.flags&131072&&(tn=!0);else return o.lanes=s.lanes,lr(s,o,f)}return Xd(s,o,l,c,f)}function $y(s,o,l){var c=o.pendingProps,f=c.children,m=s!==null?s.memoizedState:null;if(c.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Is,pn),pn|=l;else{if(!(l&1073741824))return s=m!==null?m.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(Is,pn),pn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:l,Qe(Is,pn),pn|=c}else m!==null?(c=m.baseLanes|l,o.memoizedState=null):c=l,Qe(Is,pn),pn|=c;return Gt(s,o,f,l),o.child}function By(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Xd(s,o,l,c,f){var m=en(l)?vi:Vt.current;return m=ds(o,m),vs(o,f),l=zd(s,o,l,c,m,f),c=Hd(),s!==null&&!tn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~f,lr(s,o,f)):(it&&c&&Td(o),o.flags|=1,Gt(s,o,l,f),o.child)}function zy(s,o,l,c,f){if(en(l)){var m=!0;qu(o)}else m=!1;if(vs(o,f),o.stateNode===null)ll(s,o),oy(o,l,c),Ld(o,l,c,f),c=!0;else if(s===null){var v=o.stateNode,w=o.memoizedProps;v.props=w;var T=v.context,A=l.contextType;typeof A=="object"&&A!==null?A=In(A):(A=en(l)?vi:Vt.current,A=ds(o,A));var $=l.getDerivedStateFromProps,q=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function";q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==c||T!==A)&&ay(o,v,c,A),Nr=!1;var j=o.memoizedState;v.state=j,Zu(o,c,v,f),T=o.memoizedState,w!==c||j!==T||Zt.current||Nr?(typeof $=="function"&&(Md(o,l,$,c),T=o.memoizedState),(w=Nr||sy(o,l,w,c,j,T,A))?(q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=T),v.props=c,v.state=T,v.context=A,c=w):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{v=o.stateNode,ty(s,o),w=o.memoizedProps,A=o.type===o.elementType?w:Rn(o.type,w),v.props=A,q=o.pendingProps,j=v.context,T=l.contextType,typeof T=="object"&&T!==null?T=In(T):(T=en(l)?vi:Vt.current,T=ds(o,T));var ee=l.getDerivedStateFromProps;($=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==q||j!==T)&&ay(o,v,c,T),Nr=!1,j=o.memoizedState,v.state=j,Zu(o,c,v,f);var re=o.memoizedState;w!==q||j!==re||Zt.current||Nr?(typeof ee=="function"&&(Md(o,l,ee,c),re=o.memoizedState),(A=Nr||sy(o,l,A,c,j,re,T)||!1)?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,re,T),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,re,T)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=re),v.props=c,v.state=re,v.context=T,c=A):(typeof v.componentDidUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&j===s.memoizedState||(o.flags|=1024),c=!1)}return Jd(s,o,l,c,m,f)}function Jd(s,o,l,c,f,m){By(s,o);var v=(o.flags&128)!==0;if(!c&&!v)return f&&Gv(o,l,!1),lr(s,o,m);c=o.stateNode,lk.current=o;var w=v&&typeof l.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,s!==null&&v?(o.child=ys(o,s.child,null,m),o.child=ys(o,null,w,m)):Gt(s,o,w,m),o.memoizedState=c.state,f&&Gv(o,l,!0),o.child}function Hy(s){var o=s.stateNode;o.pendingContext?qv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&qv(s,o.context,!1),Fd(s,o.containerInfo)}function qy(s,o,l,c,f){return ms(),bd(f),o.flags|=256,Gt(s,o,l,c),o.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function ef(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ky(s,o,l){var c=o.pendingProps,f=st.current,m=!1,v=(o.flags&128)!==0,w;if((w=v)||(w=s!==null&&s.memoizedState===null?!1:(f&2)!==0),w?(m=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(f|=1),Qe(st,f&1),s===null)return xd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(v=c.children,s=c.fallback,m?(c=o.mode,m=o.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=El(v,c,0,null),s=xi(s,c,l,null),m.return=o,s.return=o,m.sibling=s,o.child=m,o.child.memoizedState=ef(l),o.memoizedState=Zd,s):tf(o,v));if(f=s.memoizedState,f!==null&&(w=f.dehydrated,w!==null))return ck(s,o,v,c,w,f,l);if(m){m=c.fallback,v=o.mode,f=s.child,w=f.sibling;var T={mode:"hidden",children:c.children};return!(v&1)&&o.child!==f?(c=o.child,c.childLanes=0,c.pendingProps=T,o.deletions=null):(c=$r(f,T),c.subtreeFlags=f.subtreeFlags&14680064),w!==null?m=$r(w,m):(m=xi(m,v,l,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,v=s.child.memoizedState,v=v===null?ef(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=s.childLanes&~l,o.memoizedState=Zd,c}return m=s.child,s=m.sibling,c=$r(m,{mode:"visible",children:c.children}),!(o.mode&1)&&(c.lanes=l),c.return=o,c.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=c,o.memoizedState=null,c}function tf(s,o){return o=El({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ul(s,o,l,c){return c!==null&&bd(c),ys(o,s.child,null,l),s=tf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function ck(s,o,l,c,f,m,v){if(l)return o.flags&256?(o.flags&=-257,c=Qd(Error(t(422))),ul(s,o,v,c)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(m=c.fallback,f=o.mode,c=El({mode:"visible",children:c.children},f,0,null),m=xi(m,f,v,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,o.mode&1&&ys(o,s.child,null,v),o.child.memoizedState=ef(v),o.memoizedState=Zd,m);if(!(o.mode&1))return ul(s,o,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var w=c.dgst;return c=w,m=Error(t(419)),c=Qd(m,c,void 0),ul(s,o,v,c)}if(w=(v&s.childLanes)!==0,tn||w){if(c=Tt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,ar(s,f),Mn(c,s,f,-1))}return yf(),c=Qd(Error(t(421))),ul(s,o,v,c)}return f.data==="$?"?(o.flags|=128,o.child=s.child,o=Ck.bind(null,s),f._reactRetry=o,null):(s=m.treeContext,fn=Or(f.nextSibling),dn=o,it=!0,Pn=null,s!==null&&(Sn[En++]=sr,Sn[En++]=or,Sn[En++]=yi,sr=s.id,or=s.overflow,yi=o),o=tf(o,c.children),o.flags|=4096,o)}function Gy(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),Rd(s.return,o,l)}function nf(s,o,l,c,f){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(m.isBackwards=o,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=f)}function Wy(s,o,l){var c=o.pendingProps,f=c.revealOrder,m=c.tail;if(Gt(s,o,c.children,l),c=st.current,c&2)c=c&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gy(s,l,o);else if(s.tag===19)Gy(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}if(Qe(st,c),!(o.mode&1))o.memoizedState=null;else switch(f){case"forwards":for(l=o.child,f=null;l!==null;)s=l.alternate,s!==null&&nl(s)===null&&(f=l),l=l.sibling;l=f,l===null?(f=o.child,o.child=null):(f=l.sibling,l.sibling=null),nf(o,!1,f,l,m);break;case"backwards":for(l=null,f=o.child,o.child=null;f!==null;){if(s=f.alternate,s!==null&&nl(s)===null){o.child=f;break}s=f.sibling,f.sibling=l,l=f,f=s}nf(o,!0,l,null,m);break;case"together":nf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ll(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function lr(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Ci|=o.lanes,!(l&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=$r(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=$r(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function hk(s,o,l){switch(o.tag){case 3:Hy(o),ms();break;case 5:hy(o);break;case 1:en(o.type)&&qu(o);break;case 4:Fd(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,f=o.memoizedProps.value;Qe(Yu,c._currentValue),c._currentValue=f;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(Qe(st,st.current&1),o.flags|=128,null):l&o.child.childLanes?Ky(s,o,l):(Qe(st,st.current&1),s=lr(s,o,l),s!==null?s.sibling:null);Qe(st,st.current&1);break;case 19:if(c=(l&o.childLanes)!==0,s.flags&128){if(c)return Wy(s,o,l);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(st,st.current),c)break;return null;case 22:case 23:return o.lanes=0,$y(s,o,l)}return lr(s,o,l)}var Qy,rf,Yy,Xy;Qy=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},rf=function(){},Yy=function(s,o,l,c){var f=s.memoizedProps;if(f!==c){s=o.stateNode,Ei(Bn.current);var m=null;switch(l){case"input":f=Y(s,f),c=Y(s,c),m=[];break;case"select":f=E({},f,{value:void 0}),c=E({},c,{value:void 0}),m=[];break;case"textarea":f=Mh(s,f),c=Mh(s,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(s.onclick=Bu)}Fh(l,c);var v;l=null;for(A in f)if(!c.hasOwnProperty(A)&&f.hasOwnProperty(A)&&f[A]!=null)if(A==="style"){var w=f[A];for(v in w)w.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?m||(m=[]):(m=m||[]).push(A,null));for(A in c){var T=c[A];if(w=f!=null?f[A]:void 0,c.hasOwnProperty(A)&&T!==w&&(T!=null||w!=null))if(A==="style")if(w){for(v in w)!w.hasOwnProperty(v)||T&&T.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in T)T.hasOwnProperty(v)&&w[v]!==T[v]&&(l||(l={}),l[v]=T[v])}else l||(m||(m=[]),m.push(A,l)),l=T;else A==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,w=w?w.__html:void 0,T!=null&&w!==T&&(m=m||[]).push(A,T)):A==="children"?typeof T!="string"&&typeof T!="number"||(m=m||[]).push(A,""+T):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(i.hasOwnProperty(A)?(T!=null&&A==="onScroll"&&Je("scroll",s),m||w===T||(m=[])):(m=m||[]).push(A,T))}l&&(m=m||[]).push("style",l);var A=m;(o.updateQueue=A)&&(o.flags|=4)}},Xy=function(s,o,l,c){l!==c&&(o.flags|=4)};function Yo(s,o){if(!it)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var f=s.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function dk(s,o,l){var c=o.pendingProps;switch(_d(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(o),null;case 1:return en(o.type)&&Hu(),jt(o),null;case 3:return c=o.stateNode,ws(),Ze(Zt),Ze(Vt),jd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Qu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Pn!==null&&(mf(Pn),Pn=null))),rf(s,o),jt(o),null;case 5:Vd(o);var f=Ei(qo.current);if(l=o.type,s!==null&&o.stateNode!=null)Yy(s,o,l,c,f),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(t(166));return jt(o),null}if(s=Ei(Bn.current),Qu(o)){c=o.stateNode,l=o.type;var m=o.memoizedProps;switch(c[$n]=o,c[jo]=m,s=(o.mode&1)!==0,l){case"dialog":Je("cancel",c),Je("close",c);break;case"iframe":case"object":case"embed":Je("load",c);break;case"video":case"audio":for(f=0;f<Fo.length;f++)Je(Fo[f],c);break;case"source":Je("error",c);break;case"img":case"image":case"link":Je("error",c),Je("load",c);break;case"details":Je("toggle",c);break;case"input":je(c,m),Je("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Je("invalid",c);break;case"textarea":Ag(c,m),Je("invalid",c)}Fh(l,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var w=m[v];v==="children"?typeof w=="string"?c.textContent!==w&&(m.suppressHydrationWarning!==!0&&$u(c.textContent,w,s),f=["children",w]):typeof w=="number"&&c.textContent!==""+w&&(m.suppressHydrationWarning!==!0&&$u(c.textContent,w,s),f=["children",""+w]):i.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&Je("scroll",c)}switch(l){case"input":Un(c),cn(c,m,!0);break;case"textarea":Un(c),Mg(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Bu)}c=f,o.updateQueue=c,c!==null&&(o.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Lg(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof c.is=="string"?s=v.createElement(l,{is:c.is}):(s=v.createElement(l),l==="select"&&(v=s,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):s=v.createElementNS(s,l),s[$n]=o,s[jo]=c,Qy(s,o,!1,!1),o.stateNode=s;e:{switch(v=Vh(l,c),l){case"dialog":Je("cancel",s),Je("close",s),f=c;break;case"iframe":case"object":case"embed":Je("load",s),f=c;break;case"video":case"audio":for(f=0;f<Fo.length;f++)Je(Fo[f],s);f=c;break;case"source":Je("error",s),f=c;break;case"img":case"image":case"link":Je("error",s),Je("load",s),f=c;break;case"details":Je("toggle",s),f=c;break;case"input":je(s,c),f=Y(s,c),Je("invalid",s);break;case"option":f=c;break;case"select":s._wrapperState={wasMultiple:!!c.multiple},f=E({},c,{value:void 0}),Je("invalid",s);break;case"textarea":Ag(s,c),f=Mh(s,c),Je("invalid",s);break;default:f=c}Fh(l,f),w=f;for(m in w)if(w.hasOwnProperty(m)){var T=w[m];m==="style"?Ug(s,T):m==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Fg(s,T)):m==="children"?typeof T=="string"?(l!=="textarea"||T!=="")&&yo(s,T):typeof T=="number"&&yo(s,""+T):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(i.hasOwnProperty(m)?T!=null&&m==="onScroll"&&Je("scroll",s):T!=null&&M(s,m,T,v))}switch(l){case"input":Un(s),cn(s,c,!1);break;case"textarea":Un(s),Mg(s);break;case"option":c.value!=null&&s.setAttribute("value",""+Ie(c.value));break;case"select":s.multiple=!!c.multiple,m=c.value,m!=null?es(s,!!c.multiple,m,!1):c.defaultValue!=null&&es(s,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(s.onclick=Bu)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return jt(o),null;case 6:if(s&&o.stateNode!=null)Xy(s,o,s.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ei(qo.current),Ei(Bn.current),Qu(o)){if(c=o.stateNode,l=o.memoizedProps,c[$n]=o,(m=c.nodeValue!==l)&&(s=dn,s!==null))switch(s.tag){case 3:$u(c.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&$u(c.nodeValue,l,(s.mode&1)!==0)}m&&(o.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[$n]=o,o.stateNode=c}return jt(o),null;case 13:if(Ze(st),c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(it&&fn!==null&&o.mode&1&&!(o.flags&128))Zv(),ms(),o.flags|=98560,m=!1;else if(m=Qu(o),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(t(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[$n]=o}else ms(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;jt(o),m=!1}else Pn!==null&&(mf(Pn),Pn=null),m=!0;if(!m)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(c=c!==null,c!==(s!==null&&s.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(s===null||st.current&1?Et===0&&(Et=3):yf())),o.updateQueue!==null&&(o.flags|=4),jt(o),null);case 4:return ws(),rf(s,o),s===null&&Vo(o.stateNode.containerInfo),jt(o),null;case 10:return Pd(o.type._context),jt(o),null;case 17:return en(o.type)&&Hu(),jt(o),null;case 19:if(Ze(st),m=o.memoizedState,m===null)return jt(o),null;if(c=(o.flags&128)!==0,v=m.rendering,v===null)if(c)Yo(m,!1);else{if(Et!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(v=nl(s),v!==null){for(o.flags|=128,Yo(m,!1),c=v.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=l,l=o.child;l!==null;)m=l,s=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=s,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,s=v.dependencies,m.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Qe(st,st.current&1|2),o.child}s=s.sibling}m.tail!==null&&ft()>Cs&&(o.flags|=128,c=!0,Yo(m,!1),o.lanes=4194304)}else{if(!c)if(s=nl(v),s!==null){if(o.flags|=128,c=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Yo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!it)return jt(o),null}else 2*ft()-m.renderingStartTime>Cs&&l!==1073741824&&(o.flags|=128,c=!0,Yo(m,!1),o.lanes=4194304);m.isBackwards?(v.sibling=o.child,o.child=v):(l=m.last,l!==null?l.sibling=v:o.child=v,m.last=v)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=ft(),o.sibling=null,l=st.current,Qe(st,c?l&1|2:l&1),o):(jt(o),null);case 22:case 23:return vf(),c=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?pn&1073741824&&(jt(o),o.subtreeFlags&6&&(o.flags|=8192)):jt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function fk(s,o){switch(_d(o),o.tag){case 1:return en(o.type)&&Hu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ws(),Ze(Zt),Ze(Vt),jd(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Vd(o),null;case 13:if(Ze(st),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ms()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ze(st),null;case 4:return ws(),null;case 10:return Pd(o.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var cl=!1,$t=!1,pk=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Es(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){ut(s,o,c)}else l.current=null}function sf(s,o,l){try{l()}catch(c){ut(s,o,c)}}var Jy=!1;function mk(s,o){if(gd=Ou,s=Dv(),ud(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var v=0,w=-1,T=-1,A=0,$=0,q=s,j=null;t:for(;;){for(var ee;q!==l||f!==0&&q.nodeType!==3||(w=v+f),q!==m||c!==0&&q.nodeType!==3||(T=v+c),q.nodeType===3&&(v+=q.nodeValue.length),(ee=q.firstChild)!==null;)j=q,q=ee;for(;;){if(q===s)break t;if(j===l&&++A===f&&(w=v),j===m&&++$===c&&(T=v),(ee=q.nextSibling)!==null)break;q=j,j=q.parentNode}q=ee}l=w===-1||T===-1?null:{start:w,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(vd={focusedElem:s,selectionRange:l},Ou=!1,ne=o;ne!==null;)if(o=ne,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ne=s;else for(;ne!==null;){o=ne;try{var re=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,pt=re.memoizedState,b=o.stateNode,_=b.getSnapshotBeforeUpdate(o.elementType===o.type?se:Rn(o.type,se),pt);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var O=o.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(W){ut(o,o.return,W)}if(s=o.sibling,s!==null){s.return=o.return,ne=s;break}ne=o.return}return re=Jy,Jy=!1,re}function Xo(s,o,l){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&s)===s){var m=f.destroy;f.destroy=void 0,m!==void 0&&sf(o,l,m)}f=f.next}while(f!==c)}}function hl(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var c=l.create;l.destroy=c()}l=l.next}while(l!==o)}}function of(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Zy(s){var o=s.alternate;o!==null&&(s.alternate=null,Zy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[$n],delete o[jo],delete o[Ed],delete o[X_],delete o[J_])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ew(s){return s.tag===5||s.tag===3||s.tag===4}function tw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ew(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function af(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Bu));else if(c!==4&&(s=s.child,s!==null))for(af(s,o,l),s=s.sibling;s!==null;)af(s,o,l),s=s.sibling}function uf(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(s=s.child,s!==null))for(uf(s,o,l),s=s.sibling;s!==null;)uf(s,o,l),s=s.sibling}var Rt=null,An=!1;function Lr(s,o,l){for(l=l.child;l!==null;)nw(s,o,l),l=l.sibling}function nw(s,o,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Tu,l)}catch{}switch(l.tag){case 5:$t||Es(l,o);case 6:var c=Rt,f=An;Rt=null,Lr(s,o,l),Rt=c,An=f,Rt!==null&&(An?(s=Rt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Rt.removeChild(l.stateNode));break;case 18:Rt!==null&&(An?(s=Rt,l=l.stateNode,s.nodeType===8?Sd(s.parentNode,l):s.nodeType===1&&Sd(s,l),Do(s)):Sd(Rt,l.stateNode));break;case 4:c=Rt,f=An,Rt=l.stateNode.containerInfo,An=!0,Lr(s,o,l),Rt=c,An=f;break;case 0:case 11:case 14:case 15:if(!$t&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&sf(l,o,v),f=f.next}while(f!==c)}Lr(s,o,l);break;case 1:if(!$t&&(Es(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(w){ut(l,o,w)}Lr(s,o,l);break;case 21:Lr(s,o,l);break;case 22:l.mode&1?($t=(c=$t)||l.memoizedState!==null,Lr(s,o,l),$t=c):Lr(s,o,l);break;default:Lr(s,o,l)}}function rw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new pk),o.forEach(function(c){var f=Tk.bind(null,s,c);l.has(c)||(l.add(c),c.then(f,f))})}}function Nn(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var m=s,v=o,w=v;e:for(;w!==null;){switch(w.tag){case 5:Rt=w.stateNode,An=!1;break e;case 3:Rt=w.stateNode.containerInfo,An=!0;break e;case 4:Rt=w.stateNode.containerInfo,An=!0;break e}w=w.return}if(Rt===null)throw Error(t(160));nw(m,v,f),Rt=null,An=!1;var T=f.alternate;T!==null&&(T.return=null),f.return=null}catch(A){ut(f,o,A)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)iw(o,s),o=o.sibling}function iw(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Nn(o,s),Hn(s),c&4){try{Xo(3,s,s.return),hl(3,s)}catch(se){ut(s,s.return,se)}try{Xo(5,s,s.return)}catch(se){ut(s,s.return,se)}}break;case 1:Nn(o,s),Hn(s),c&512&&l!==null&&Es(l,l.return);break;case 5:if(Nn(o,s),Hn(s),c&512&&l!==null&&Es(l,l.return),s.flags&32){var f=s.stateNode;try{yo(f,"")}catch(se){ut(s,s.return,se)}}if(c&4&&(f=s.stateNode,f!=null)){var m=s.memoizedProps,v=l!==null?l.memoizedProps:m,w=s.type,T=s.updateQueue;if(s.updateQueue=null,T!==null)try{w==="input"&&m.type==="radio"&&m.name!=null&&Ne(f,m),Vh(w,v);var A=Vh(w,m);for(v=0;v<T.length;v+=2){var $=T[v],q=T[v+1];$==="style"?Ug(f,q):$==="dangerouslySetInnerHTML"?Fg(f,q):$==="children"?yo(f,q):M(f,$,q,A)}switch(w){case"input":Kt(f,m);break;case"textarea":Ng(f,m);break;case"select":var j=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ee=m.value;ee!=null?es(f,!!m.multiple,ee,!1):j!==!!m.multiple&&(m.defaultValue!=null?es(f,!!m.multiple,m.defaultValue,!0):es(f,!!m.multiple,m.multiple?[]:"",!1))}f[jo]=m}catch(se){ut(s,s.return,se)}}break;case 6:if(Nn(o,s),Hn(s),c&4){if(s.stateNode===null)throw Error(t(162));f=s.stateNode,m=s.memoizedProps;try{f.nodeValue=m}catch(se){ut(s,s.return,se)}}break;case 3:if(Nn(o,s),Hn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Do(o.containerInfo)}catch(se){ut(s,s.return,se)}break;case 4:Nn(o,s),Hn(s);break;case 13:Nn(o,s),Hn(s),f=s.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(hf=ft())),c&4&&rw(s);break;case 22:if($=l!==null&&l.memoizedState!==null,s.mode&1?($t=(A=$t)||$,Nn(o,s),$t=A):Nn(o,s),Hn(s),c&8192){if(A=s.memoizedState!==null,(s.stateNode.isHidden=A)&&!$&&s.mode&1)for(ne=s,$=s.child;$!==null;){for(q=ne=$;ne!==null;){switch(j=ne,ee=j.child,j.tag){case 0:case 11:case 14:case 15:Xo(4,j,j.return);break;case 1:Es(j,j.return);var re=j.stateNode;if(typeof re.componentWillUnmount=="function"){c=j,l=j.return;try{o=c,re.props=o.memoizedProps,re.state=o.memoizedState,re.componentWillUnmount()}catch(se){ut(c,l,se)}}break;case 5:Es(j,j.return);break;case 22:if(j.memoizedState!==null){aw(q);continue}}ee!==null?(ee.return=j,ne=ee):aw(q)}$=$.sibling}e:for($=null,q=s;;){if(q.tag===5){if($===null){$=q;try{f=q.stateNode,A?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(w=q.stateNode,T=q.memoizedProps.style,v=T!=null&&T.hasOwnProperty("display")?T.display:null,w.style.display=Vg("display",v))}catch(se){ut(s,s.return,se)}}}else if(q.tag===6){if($===null)try{q.stateNode.nodeValue=A?"":q.memoizedProps}catch(se){ut(s,s.return,se)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===s)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===s)break e;for(;q.sibling===null;){if(q.return===null||q.return===s)break e;$===q&&($=null),q=q.return}$===q&&($=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Nn(o,s),Hn(s),c&4&&rw(s);break;case 21:break;default:Nn(o,s),Hn(s)}}function Hn(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(ew(l)){var c=l;break e}l=l.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(yo(f,""),c.flags&=-33);var m=tw(s);uf(s,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,w=tw(s);af(s,w,v);break;default:throw Error(t(161))}}catch(T){ut(s,s.return,T)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gk(s,o,l){ne=s,sw(s)}function sw(s,o,l){for(var c=(s.mode&1)!==0;ne!==null;){var f=ne,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||cl;if(!v){var w=f.alternate,T=w!==null&&w.memoizedState!==null||$t;w=cl;var A=$t;if(cl=v,($t=T)&&!A)for(ne=f;ne!==null;)v=ne,T=v.child,v.tag===22&&v.memoizedState!==null?uw(f):T!==null?(T.return=v,ne=T):uw(f);for(;m!==null;)ne=m,sw(m),m=m.sibling;ne=f,cl=w,$t=A}ow(s)}else f.subtreeFlags&8772&&m!==null?(m.return=f,ne=m):ow(s)}}function ow(s){for(;ne!==null;){var o=ne;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:$t||hl(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!$t)if(l===null)c.componentDidMount();else{var f=o.elementType===o.type?l.memoizedProps:Rn(o.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=o.updateQueue;m!==null&&ry(o,m,c);break;case 3:var v=o.updateQueue;if(v!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}ry(o,v,l)}break;case 5:var w=o.stateNode;if(l===null&&o.flags&4){l=w;var T=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&l.focus();break;case"img":T.src&&(l.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var A=o.alternate;if(A!==null){var $=A.memoizedState;if($!==null){var q=$.dehydrated;q!==null&&Do(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||o.flags&512&&of(o)}catch(j){ut(o,o.return,j)}}if(o===s){ne=null;break}if(l=o.sibling,l!==null){l.return=o.return,ne=l;break}ne=o.return}}function aw(s){for(;ne!==null;){var o=ne;if(o===s){ne=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ne=l;break}ne=o.return}}function uw(s){for(;ne!==null;){var o=ne;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{hl(4,o)}catch(T){ut(o,l,T)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var f=o.return;try{c.componentDidMount()}catch(T){ut(o,f,T)}}var m=o.return;try{of(o)}catch(T){ut(o,m,T)}break;case 5:var v=o.return;try{of(o)}catch(T){ut(o,v,T)}}}catch(T){ut(o,o.return,T)}if(o===s){ne=null;break}var w=o.sibling;if(w!==null){w.return=o.return,ne=w;break}ne=o.return}}var vk=Math.ceil,dl=B.ReactCurrentDispatcher,lf=B.ReactCurrentOwner,Tn=B.ReactCurrentBatchConfig,Me=0,Tt=null,gt=null,At=0,pn=0,Is=Pr(0),Et=0,Jo=null,Ci=0,fl=0,cf=0,Zo=null,nn=null,hf=0,Cs=1/0,cr=null,pl=!1,df=null,Fr=null,ml=!1,Vr=null,gl=0,ea=0,ff=null,vl=-1,yl=0;function Wt(){return Me&6?ft():vl!==-1?vl:vl=ft()}function Ur(s){return s.mode&1?Me&2&&At!==0?At&-At:ek.transition!==null?(yl===0&&(yl=ev()),yl):(s=qe,s!==0||(s=window.event,s=s===void 0?16:lv(s.type)),s):1}function Mn(s,o,l,c){if(50<ea)throw ea=0,ff=null,Error(t(185));To(s,l,c),(!(Me&2)||s!==Tt)&&(s===Tt&&(!(Me&2)&&(fl|=l),Et===4&&jr(s,At)),rn(s,c),l===1&&Me===0&&!(o.mode&1)&&(Cs=ft()+500,Ku&&Ar()))}function rn(s,o){var l=s.callbackNode;e_(s,o);var c=xu(s,s===Tt?At:0);if(c===0)l!==null&&Xg(l),s.callbackNode=null,s.callbackPriority=0;else if(o=c&-c,s.callbackPriority!==o){if(l!=null&&Xg(l),o===1)s.tag===0?Z_(cw.bind(null,s)):Wv(cw.bind(null,s)),Q_(function(){!(Me&6)&&Ar()}),l=null;else{switch(tv(c)){case 1:l=qh;break;case 4:l=Jg;break;case 16:l=Cu;break;case 536870912:l=Zg;break;default:l=Cu}l=yw(l,lw.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function lw(s,o){if(vl=-1,yl=0,Me&6)throw Error(t(327));var l=s.callbackNode;if(Ts()&&s.callbackNode!==l)return null;var c=xu(s,s===Tt?At:0);if(c===0)return null;if(c&30||c&s.expiredLanes||o)o=wl(s,c);else{o=c;var f=Me;Me|=2;var m=dw();(Tt!==s||At!==o)&&(cr=null,Cs=ft()+500,_i(s,o));do try{Sk();break}catch(w){hw(s,w)}while(!0);Od(),dl.current=m,Me=f,gt!==null?o=0:(Tt=null,At=0,o=Et)}if(o!==0){if(o===2&&(f=Kh(s),f!==0&&(c=f,o=pf(s,f))),o===1)throw l=Jo,_i(s,0),jr(s,c),rn(s,ft()),l;if(o===6)jr(s,c);else{if(f=s.current.alternate,!(c&30)&&!yk(f)&&(o=wl(s,c),o===2&&(m=Kh(s),m!==0&&(c=m,o=pf(s,m))),o===1))throw l=Jo,_i(s,0),jr(s,c),rn(s,ft()),l;switch(s.finishedWork=f,s.finishedLanes=c,o){case 0:case 1:throw Error(t(345));case 2:ki(s,nn,cr);break;case 3:if(jr(s,c),(c&130023424)===c&&(o=hf+500-ft(),10<o)){if(xu(s,0)!==0)break;if(f=s.suspendedLanes,(f&c)!==c){Wt(),s.pingedLanes|=s.suspendedLanes&f;break}s.timeoutHandle=wd(ki.bind(null,s,nn,cr),o);break}ki(s,nn,cr);break;case 4:if(jr(s,c),(c&4194240)===c)break;for(o=s.eventTimes,f=-1;0<c;){var v=31-Dn(c);m=1<<v,v=o[v],v>f&&(f=v),c&=~m}if(c=f,c=ft()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*vk(c/1960))-c,10<c){s.timeoutHandle=wd(ki.bind(null,s,nn,cr),c);break}ki(s,nn,cr);break;case 5:ki(s,nn,cr);break;default:throw Error(t(329))}}}return rn(s,ft()),s.callbackNode===l?lw.bind(null,s):null}function pf(s,o){var l=Zo;return s.current.memoizedState.isDehydrated&&(_i(s,o).flags|=256),s=wl(s,o),s!==2&&(o=nn,nn=l,o!==null&&mf(o)),s}function mf(s){nn===null?nn=s:nn.push.apply(nn,s)}function yk(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],m=f.getSnapshot;f=f.value;try{if(!On(m(),f))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function jr(s,o){for(o&=~cf,o&=~fl,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Dn(o),c=1<<l;s[l]=-1,o&=~c}}function cw(s){if(Me&6)throw Error(t(327));Ts();var o=xu(s,0);if(!(o&1))return rn(s,ft()),null;var l=wl(s,o);if(s.tag!==0&&l===2){var c=Kh(s);c!==0&&(o=c,l=pf(s,c))}if(l===1)throw l=Jo,_i(s,0),jr(s,o),rn(s,ft()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ki(s,nn,cr),rn(s,ft()),null}function gf(s,o){var l=Me;Me|=1;try{return s(o)}finally{Me=l,Me===0&&(Cs=ft()+500,Ku&&Ar())}}function Ti(s){Vr!==null&&Vr.tag===0&&!(Me&6)&&Ts();var o=Me;Me|=1;var l=Tn.transition,c=qe;try{if(Tn.transition=null,qe=1,s)return s()}finally{qe=c,Tn.transition=l,Me=o,!(Me&6)&&Ar()}}function vf(){pn=Is.current,Ze(Is)}function _i(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,W_(l)),gt!==null)for(l=gt.return;l!==null;){var c=l;switch(_d(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Hu();break;case 3:ws(),Ze(Zt),Ze(Vt),jd();break;case 5:Vd(c);break;case 4:ws();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:Pd(c.type._context);break;case 22:case 23:vf()}l=l.return}if(Tt=s,gt=s=$r(s.current,null),At=pn=o,Et=0,Jo=null,cf=fl=Ci=0,nn=Zo=null,Si!==null){for(o=0;o<Si.length;o++)if(l=Si[o],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,m=l.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}l.pending=c}Si=null}return s}function hw(s,o){do{var l=gt;try{if(Od(),rl.current=al,il){for(var c=ot.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}il=!1}if(Ii=0,Ct=St=ot=null,Ko=!1,Go=0,lf.current=null,l===null||l.return===null){Et=1,Jo=o,gt=null;break}e:{var m=s,v=l.return,w=l,T=o;if(o=At,w.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var A=T,$=w,q=$.tag;if(!($.mode&1)&&(q===0||q===11||q===15)){var j=$.alternate;j?($.updateQueue=j.updateQueue,$.memoizedState=j.memoizedState,$.lanes=j.lanes):($.updateQueue=null,$.memoizedState=null)}var ee=Ly(v);if(ee!==null){ee.flags&=-257,Fy(ee,v,w,m,o),ee.mode&1&&My(m,A,o),o=ee,T=A;var re=o.updateQueue;if(re===null){var se=new Set;se.add(T),o.updateQueue=se}else re.add(T);break e}else{if(!(o&1)){My(m,A,o),yf();break e}T=Error(t(426))}}else if(it&&w.mode&1){var pt=Ly(v);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Fy(pt,v,w,m,o),bd(Ss(T,w));break e}}m=T=Ss(T,w),Et!==4&&(Et=2),Zo===null?Zo=[m]:Zo.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,o&=-o,m.lanes|=o;var b=Ay(m,T,o);ny(m,b);break e;case 1:w=T;var _=m.type,O=m.stateNode;if(!(m.flags&128)&&(typeof _.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fr===null||!Fr.has(O)))){m.flags|=65536,o&=-o,m.lanes|=o;var W=Ny(m,w,o);ny(m,W);break e}}m=m.return}while(m!==null)}pw(l)}catch(ae){o=ae,gt===l&&l!==null&&(gt=l=l.return);continue}break}while(!0)}function dw(){var s=dl.current;return dl.current=al,s===null?al:s}function yf(){(Et===0||Et===3||Et===2)&&(Et=4),Tt===null||!(Ci&268435455)&&!(fl&268435455)||jr(Tt,At)}function wl(s,o){var l=Me;Me|=2;var c=dw();(Tt!==s||At!==o)&&(cr=null,_i(s,o));do try{wk();break}catch(f){hw(s,f)}while(!0);if(Od(),Me=l,dl.current=c,gt!==null)throw Error(t(261));return Tt=null,At=0,Et}function wk(){for(;gt!==null;)fw(gt)}function Sk(){for(;gt!==null&&!qT();)fw(gt)}function fw(s){var o=vw(s.alternate,s,pn);s.memoizedProps=s.pendingProps,o===null?pw(s):gt=o,lf.current=null}function pw(s){var o=s;do{var l=o.alternate;if(s=o.return,o.flags&32768){if(l=fk(l,o),l!==null){l.flags&=32767,gt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,gt=null;return}}else if(l=dk(l,o,pn),l!==null){gt=l;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=s}while(o!==null);Et===0&&(Et=5)}function ki(s,o,l){var c=qe,f=Tn.transition;try{Tn.transition=null,qe=1,Ek(s,o,l,c)}finally{Tn.transition=f,qe=c}return null}function Ek(s,o,l,c){do Ts();while(Vr!==null);if(Me&6)throw Error(t(327));l=s.finishedWork;var f=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var m=l.lanes|l.childLanes;if(t_(s,m),s===Tt&&(gt=Tt=null,At=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ml||(ml=!0,yw(Cu,function(){return Ts(),null})),m=(l.flags&15990)!==0,l.subtreeFlags&15990||m){m=Tn.transition,Tn.transition=null;var v=qe;qe=1;var w=Me;Me|=4,lf.current=null,mk(s,l),iw(l,s),$_(vd),Ou=!!gd,vd=gd=null,s.current=l,gk(l),KT(),Me=w,qe=v,Tn.transition=m}else s.current=l;if(ml&&(ml=!1,Vr=s,gl=f),m=s.pendingLanes,m===0&&(Fr=null),QT(l.stateNode),rn(s,ft()),o!==null)for(c=s.onRecoverableError,l=0;l<o.length;l++)f=o[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(pl)throw pl=!1,s=df,df=null,s;return gl&1&&s.tag!==0&&Ts(),m=s.pendingLanes,m&1?s===ff?ea++:(ea=0,ff=s):ea=0,Ar(),null}function Ts(){if(Vr!==null){var s=tv(gl),o=Tn.transition,l=qe;try{if(Tn.transition=null,qe=16>s?16:s,Vr===null)var c=!1;else{if(s=Vr,Vr=null,gl=0,Me&6)throw Error(t(331));var f=Me;for(Me|=4,ne=s.current;ne!==null;){var m=ne,v=m.child;if(ne.flags&16){var w=m.deletions;if(w!==null){for(var T=0;T<w.length;T++){var A=w[T];for(ne=A;ne!==null;){var $=ne;switch($.tag){case 0:case 11:case 15:Xo(8,$,m)}var q=$.child;if(q!==null)q.return=$,ne=q;else for(;ne!==null;){$=ne;var j=$.sibling,ee=$.return;if(Zy($),$===A){ne=null;break}if(j!==null){j.return=ee,ne=j;break}ne=ee}}}var re=m.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var pt=se.sibling;se.sibling=null,se=pt}while(se!==null)}}ne=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,ne=v;else e:for(;ne!==null;){if(m=ne,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Xo(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,ne=b;break e}ne=m.return}}var _=s.current;for(ne=_;ne!==null;){v=ne;var O=v.child;if(v.subtreeFlags&2064&&O!==null)O.return=v,ne=O;else e:for(v=_;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:hl(9,w)}}catch(ae){ut(w,w.return,ae)}if(w===v){ne=null;break e}var W=w.sibling;if(W!==null){W.return=w.return,ne=W;break e}ne=w.return}}if(Me=f,Ar(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Tu,s)}catch{}c=!0}return c}finally{qe=l,Tn.transition=o}}return!1}function mw(s,o,l){o=Ss(l,o),o=Ay(s,o,1),s=Mr(s,o,1),o=Wt(),s!==null&&(To(s,1,o),rn(s,o))}function ut(s,o,l){if(s.tag===3)mw(s,s,l);else for(;o!==null;){if(o.tag===3){mw(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fr===null||!Fr.has(c))){s=Ss(l,s),s=Ny(o,s,1),o=Mr(o,s,1),s=Wt(),o!==null&&(To(o,1,s),rn(o,s));break}}o=o.return}}function Ik(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),o=Wt(),s.pingedLanes|=s.suspendedLanes&l,Tt===s&&(At&l)===l&&(Et===4||Et===3&&(At&130023424)===At&&500>ft()-hf?_i(s,0):cf|=l),rn(s,o)}function gw(s,o){o===0&&(s.mode&1?(o=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):o=1);var l=Wt();s=ar(s,o),s!==null&&(To(s,o,l),rn(s,l))}function Ck(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),gw(s,l)}function Tk(s,o){var l=0;switch(s.tag){case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=s.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(o),gw(s,l)}var vw;vw=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||Zt.current)tn=!0;else{if(!(s.lanes&l)&&!(o.flags&128))return tn=!1,hk(s,o,l);tn=!!(s.flags&131072)}else tn=!1,it&&o.flags&1048576&&Qv(o,Wu,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;ll(s,o),s=o.pendingProps;var f=ds(o,Vt.current);vs(o,l),f=zd(null,o,c,s,f,l);var m=Hd();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,en(c)?(m=!0,qu(o)):m=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Nd(o),f.updater=el,o.stateNode=f,f._reactInternals=o,Ld(o,c,s,l),o=Jd(null,o,c,!0,m,l)):(o.tag=0,it&&m&&Td(o),Gt(null,o,f,l),o=o.child),o;case 16:c=o.elementType;e:{switch(ll(s,o),s=o.pendingProps,f=c._init,c=f(c._payload),o.type=c,f=o.tag=kk(c),s=Rn(c,s),f){case 0:o=Xd(null,o,c,s,l);break e;case 1:o=zy(null,o,c,s,l);break e;case 11:o=Vy(null,o,c,s,l);break e;case 14:o=Uy(null,o,c,Rn(c.type,s),l);break e}throw Error(t(306,c,""))}return o;case 0:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:Rn(c,f),Xd(s,o,c,f,l);case 1:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:Rn(c,f),zy(s,o,c,f,l);case 3:e:{if(Hy(o),s===null)throw Error(t(387));c=o.pendingProps,m=o.memoizedState,f=m.element,ty(s,o),Zu(o,c,null,l);var v=o.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){f=Ss(Error(t(423)),o),o=qy(s,o,c,l,f);break e}else if(c!==f){f=Ss(Error(t(424)),o),o=qy(s,o,c,l,f);break e}else for(fn=Or(o.stateNode.containerInfo.firstChild),dn=o,it=!0,Pn=null,l=cy(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ms(),c===f){o=lr(s,o,l);break e}Gt(s,o,c,l)}o=o.child}return o;case 5:return hy(o),s===null&&xd(o),c=o.type,f=o.pendingProps,m=s!==null?s.memoizedProps:null,v=f.children,yd(c,f)?v=null:m!==null&&yd(c,m)&&(o.flags|=32),By(s,o),Gt(s,o,v,l),o.child;case 6:return s===null&&xd(o),null;case 13:return Ky(s,o,l);case 4:return Fd(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=ys(o,null,c,l):Gt(s,o,c,l),o.child;case 11:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:Rn(c,f),Vy(s,o,c,f,l);case 7:return Gt(s,o,o.pendingProps,l),o.child;case 8:return Gt(s,o,o.pendingProps.children,l),o.child;case 12:return Gt(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(c=o.type._context,f=o.pendingProps,m=o.memoizedProps,v=f.value,Qe(Yu,c._currentValue),c._currentValue=v,m!==null)if(On(m.value,v)){if(m.children===f.children&&!Zt.current){o=lr(s,o,l);break e}}else for(m=o.child,m!==null&&(m.return=o);m!==null;){var w=m.dependencies;if(w!==null){v=m.child;for(var T=w.firstContext;T!==null;){if(T.context===c){if(m.tag===1){T=ur(-1,l&-l),T.tag=2;var A=m.updateQueue;if(A!==null){A=A.shared;var $=A.pending;$===null?T.next=T:(T.next=$.next,$.next=T),A.pending=T}}m.lanes|=l,T=m.alternate,T!==null&&(T.lanes|=l),Rd(m.return,l,o),w.lanes|=l;break}T=T.next}}else if(m.tag===10)v=m.type===o.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=l,w=v.alternate,w!==null&&(w.lanes|=l),Rd(v,l,o),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===o){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Gt(s,o,f.children,l),o=o.child}return o;case 9:return f=o.type,c=o.pendingProps.children,vs(o,l),f=In(f),c=c(f),o.flags|=1,Gt(s,o,c,l),o.child;case 14:return c=o.type,f=Rn(c,o.pendingProps),f=Rn(c.type,f),Uy(s,o,c,f,l);case 15:return jy(s,o,o.type,o.pendingProps,l);case 17:return c=o.type,f=o.pendingProps,f=o.elementType===c?f:Rn(c,f),ll(s,o),o.tag=1,en(c)?(s=!0,qu(o)):s=!1,vs(o,l),oy(o,c,f),Ld(o,c,f,l),Jd(null,o,c,!0,s,l);case 19:return Wy(s,o,l);case 22:return $y(s,o,l)}throw Error(t(156,o.tag))};function yw(s,o){return Yg(s,o)}function _k(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(s,o,l,c){return new _k(s,o,l,c)}function wf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kk(s){if(typeof s=="function")return wf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===De)return 11;if(s===Fe)return 14}return 2}function $r(s,o){var l=s.alternate;return l===null?(l=_n(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Sl(s,o,l,c,f,m){var v=2;if(c=s,typeof s=="function")wf(s)&&(v=1);else if(typeof s=="string")v=5;else e:switch(s){case z:return xi(l.children,f,m,o);case Z:v=8,f|=8;break;case Te:return s=_n(12,l,o,f|2),s.elementType=Te,s.lanes=m,s;case Xe:return s=_n(13,l,o,f),s.elementType=Xe,s.lanes=m,s;case Ue:return s=_n(19,l,o,f),s.elementType=Ue,s.lanes=m,s;case Pe:return El(l,f,m,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ze:v=10;break e;case nt:v=9;break e;case De:v=11;break e;case Fe:v=14;break e;case xe:v=16,c=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=_n(v,l,o,f),o.elementType=s,o.type=c,o.lanes=m,o}function xi(s,o,l,c){return s=_n(7,s,c,o),s.lanes=l,s}function El(s,o,l,c){return s=_n(22,s,c,o),s.elementType=Pe,s.lanes=l,s.stateNode={isHidden:!1},s}function Sf(s,o,l){return s=_n(6,s,null,o),s.lanes=l,s}function Ef(s,o,l){return o=_n(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function xk(s,o,l,c,f){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function If(s,o,l,c,f,m,v,w,T){return s=new xk(s,o,l,w,T),o===1?(o=1,m===!0&&(o|=8)):o=0,m=_n(3,null,null,o),s.current=m,m.stateNode=s,m.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nd(m),s}function bk(s,o,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:c==null?null:""+c,children:s,containerInfo:o,implementation:l}}function ww(s){if(!s)return Rr;s=s._reactInternals;e:{if(mi(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(en(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(en(l))return Kv(s,l,o)}return o}function Sw(s,o,l,c,f,m,v,w,T){return s=If(l,c,!0,s,f,m,v,w,T),s.context=ww(null),l=s.current,c=Wt(),f=Ur(l),m=ur(c,f),m.callback=o??null,Mr(l,m,f),s.current.lanes=f,To(s,f,c),rn(s,c),s}function Il(s,o,l,c){var f=o.current,m=Wt(),v=Ur(f);return l=ww(l),o.context===null?o.context=l:o.pendingContext=l,o=ur(m,v),o.payload={element:s},c=c===void 0?null:c,c!==null&&(o.callback=c),s=Mr(f,o,v),s!==null&&(Mn(s,f,v,m),Ju(s,f,v)),v}function Cl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ew(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Cf(s,o){Ew(s,o),(s=s.alternate)&&Ew(s,o)}function Dk(){return null}var Iw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tf(s){this._internalRoot=s}Tl.prototype.render=Tf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Il(s,o,null,null)},Tl.prototype.unmount=Tf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ti(function(){Il(null,s,null,null)}),o[rr]=null}};function Tl(s){this._internalRoot=s}Tl.prototype.unstable_scheduleHydration=function(s){if(s){var o=iv();s={blockedOn:null,target:s,priority:o};for(var l=0;l<xr.length&&o!==0&&o<xr[l].priority;l++);xr.splice(l,0,s),l===0&&av(s)}};function _f(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function _l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function Ok(s,o,l,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var A=Cl(v);m.call(A)}}var v=Sw(o,c,s,0,null,!1,!1,"",Cw);return s._reactRootContainer=v,s[rr]=v.current,Vo(s.nodeType===8?s.parentNode:s),Ti(),v}for(;f=s.lastChild;)s.removeChild(f);if(typeof c=="function"){var w=c;c=function(){var A=Cl(T);w.call(A)}}var T=If(s,0,!1,null,null,!1,!1,"",Cw);return s._reactRootContainer=T,s[rr]=T.current,Vo(s.nodeType===8?s.parentNode:s),Ti(function(){Il(o,T,l,c)}),T}function kl(s,o,l,c,f){var m=l._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var w=f;f=function(){var T=Cl(v);w.call(T)}}Il(o,v,s,f)}else v=Ok(l,o,s,f,c);return Cl(v)}nv=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Co(o.pendingLanes);l!==0&&(Wh(o,l|1),rn(o,ft()),!(Me&6)&&(Cs=ft()+500,Ar()))}break;case 13:Ti(function(){var c=ar(s,1);if(c!==null){var f=Wt();Mn(c,s,1,f)}}),Cf(s,1)}},Qh=function(s){if(s.tag===13){var o=ar(s,134217728);if(o!==null){var l=Wt();Mn(o,s,134217728,l)}Cf(s,134217728)}},rv=function(s){if(s.tag===13){var o=Ur(s),l=ar(s,o);if(l!==null){var c=Wt();Mn(l,s,o,c)}Cf(s,o)}},iv=function(){return qe},sv=function(s,o){var l=qe;try{return qe=s,o()}finally{qe=l}},$h=function(s,o,l){switch(o){case"input":if(Kt(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var f=zu(c);if(!f)throw Error(t(90));pi(c),Kt(c,f)}}}break;case"textarea":Ng(s,l);break;case"select":o=l.value,o!=null&&es(s,!!l.multiple,o,!1)}},zg=gf,Hg=Ti;var Pk={usingClientEntryPoint:!1,Events:[$o,cs,zu,$g,Bg,gf]},ta={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Rk={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Wg(s),s===null?null:s.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||Dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{Tu=xl.inject(Rk),jn=xl}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pk,sn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(o))throw Error(t(200));return bk(s,o,null,l)},sn.createRoot=function(s,o){if(!_f(s))throw Error(t(299));var l=!1,c="",f=Iw;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=If(s,1,!1,null,null,l,!1,c,f),s[rr]=o.current,Vo(s.nodeType===8?s.parentNode:s),new Tf(o)},sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Wg(o),s=s===null?null:s.stateNode,s},sn.flushSync=function(s){return Ti(s)},sn.hydrate=function(s,o,l){if(!_l(o))throw Error(t(200));return kl(null,s,o,!0,l)},sn.hydrateRoot=function(s,o,l){if(!_f(s))throw Error(t(405));var c=l!=null&&l.hydratedSources||null,f=!1,m="",v=Iw;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),o=Sw(o,null,s,1,l??null,f,!1,m,v),s[rr]=o.current,Vo(s),c)for(s=0;s<c.length;s++)l=c[s],f=l._getVersion,f=f(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,f]:o.mutableSourceEagerHydrationData.push(l,f);return new Tl(o)},sn.render=function(s,o,l){if(!_l(o))throw Error(t(200));return kl(null,s,o,!1,l)},sn.unmountComponentAtNode=function(s){if(!_l(s))throw Error(t(40));return s._reactRootContainer?(Ti(function(){kl(null,null,s,!1,function(){s._reactRootContainer=null,s[rr]=null})}),!0):!1},sn.unstable_batchedUpdates=gf,sn.unstable_renderSubtreeIntoContainer=function(s,o,l,c){if(!_l(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return kl(s,o,l,!1,c)},sn.version="18.2.0-next-9e3b772b8-20220608",sn}var Rw;function $k(){if(Rw)return bf.exports;Rw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bf.exports=jk(),bf.exports}var sE=$k();const Bk=rE(sE);var Aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},zk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,g=a>>2,y=(a&3)<<4|h>>4;let S=(h&15)<<2|p>>6,I=p&63;d||(I=64,u||(S=64)),r.push(t[g],t[y],t[S],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||h==null||p==null||y==null)throw new Hk;const S=a<<2|h>>4;if(r.push(S),p!==64){const I=h<<4&240|p>>2;if(r.push(I),y!==64){const x=p<<6&192|y;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qk=function(n){const e=oE(n);return aE.encodeByteArray(e,!0)},cc=function(n){return qk(n).replace(/\./g,"")},uE=function(n){try{return aE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=()=>Kk().__FIREBASE_DEFAULTS__,Wk=()=>{if(typeof process>"u"||typeof Aw>"u")return;const n=Aw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Qk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uE(n[1]);return e&&JSON.parse(e)},Gc=()=>{try{return Gk()||Wk()||Qk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lE=n=>{var e,t;return(t=(e=Gc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Yk=n=>{const e=lE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cE=()=>{var n;return(n=Gc())===null||n===void 0?void 0:n.config},hE=n=>{var e;return(e=Gc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cc(JSON.stringify(t)),cc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function ex(){var n;const e=(n=Gc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rx(){const n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ix(){return!ex()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dE(){try{return typeof indexedDB=="object"}catch{return!1}}function sx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="FirebaseError";class Sr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ox,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?ax(a,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Sr(i,h,r)}}function ax(n,e){return n.replace(ux,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ux=/\{\$([^}]+)}/g;function lx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(Nw(a)&&Nw(u)){if(!hc(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Nw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function pa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function cx(n,e){const t=new hx(n,e);return t.subscribe.bind(t)}class hx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dx(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Pf),i.error===void 0&&(i.error=Pf),i.complete===void 0&&(i.complete=Pf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(n){return n&&n._delegate?n._delegate:n}class ji{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Xk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mx(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:px(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function px(n){return n===Di?void 0:n}function mx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const vx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},yx=Le.INFO,wx={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Sx=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=wx[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class im{constructor(e){this.name=e,this._logLevel=yx,this._logHandler=Sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Ex=(n,e)=>e.some(t=>n instanceof t);let Mw,Lw;function Ix(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cx(){return Lw||(Lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,ap=new WeakMap,pE=new WeakMap,Rf=new WeakMap,sm=new WeakMap;function Tx(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Jr(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&fE.set(t,n)}).catch(()=>{}),sm.set(e,n),e}function _x(n){if(ap.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ap.set(n,e)}let up={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kx(n){up=n(up)}function xx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return pE.set(r,e.sort?e.sort():[e]),Jr(r)}:Cx().includes(n)?function(...e){return n.apply(Af(this),e),Jr(fE.get(this))}:function(...e){return Jr(n.apply(Af(this),e))}}function bx(n){return typeof n=="function"?xx(n):(n instanceof IDBTransaction&&_x(n),Ex(n,Ix())?new Proxy(n,up):n)}function Jr(n){if(n instanceof IDBRequest)return Tx(n);if(Rf.has(n))return Rf.get(n);const e=bx(n);return e!==n&&(Rf.set(n,e),sm.set(e,n)),e}const Af=n=>sm.get(n);function Dx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),h=Jr(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Jr(u.result),d.oldVersion,d.newVersion,Jr(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Ox=["get","getKey","getAll","getAllKeys","count"],Px=["put","add","delete","clear"],Nf=new Map;function Fw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Px.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ox.includes(t)))return;const a=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),i&&d.done]))[0]};return Nf.set(e,a),a}kx(n=>({...n,get:(e,t,r)=>Fw(e,t)||n.get(e,t,r),has:(e,t)=>!!Fw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ax(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Ax(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lp="@firebase/app",Vw="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new im("@firebase/app"),Nx="@firebase/app-compat",Mx="@firebase/analytics-compat",Lx="@firebase/analytics",Fx="@firebase/app-check-compat",Vx="@firebase/app-check",Ux="@firebase/auth",jx="@firebase/auth-compat",$x="@firebase/database",Bx="@firebase/database-compat",zx="@firebase/functions",Hx="@firebase/functions-compat",qx="@firebase/installations",Kx="@firebase/installations-compat",Gx="@firebase/messaging",Wx="@firebase/messaging-compat",Qx="@firebase/performance",Yx="@firebase/performance-compat",Xx="@firebase/remote-config",Jx="@firebase/remote-config-compat",Zx="@firebase/storage",eb="@firebase/storage-compat",tb="@firebase/firestore",nb="@firebase/firestore-compat",rb="firebase",ib="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",sb={[lp]:"fire-core",[Nx]:"fire-core-compat",[Lx]:"fire-analytics",[Mx]:"fire-analytics-compat",[Vx]:"fire-app-check",[Fx]:"fire-app-check-compat",[Ux]:"fire-auth",[jx]:"fire-auth-compat",[$x]:"fire-rtdb",[Bx]:"fire-rtdb-compat",[zx]:"fire-fn",[Hx]:"fire-fn-compat",[qx]:"fire-iid",[Kx]:"fire-iid-compat",[Gx]:"fire-fcm",[Wx]:"fire-fcm-compat",[Qx]:"fire-perf",[Yx]:"fire-perf-compat",[Xx]:"fire-rc",[Jx]:"fire-rc-compat",[Zx]:"fire-gcs",[eb]:"fire-gcs-compat",[tb]:"fire-fst",[nb]:"fire-fst-compat","fire-js":"fire-js",[rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,hp=new Map;function ob(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zs(n){const e=n.name;if(hp.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,n);for(const t of dc.values())ob(t,n);return!0}function om(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zr=new tu("app","Firebase",ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=ib;function mE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(t||(t=cE()),!t)throw Zr.create("no-options");const a=dc.get(i);if(a){if(hc(t,a.options)&&hc(r,a.config))return a;throw Zr.create("duplicate-app",{appName:i})}const u=new gx(i);for(const d of hp.values())u.addComponent(d);const h=new ub(t,r,u);return dc.set(i,h),h}function gE(n=cp){const e=dc.get(n);if(!e&&n===cp&&cE())return mE();if(!e)throw Zr.create("no-app",{appName:n});return e}function ei(n,e,t){var r;let i=(r=sb[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(h.join(" "));return}zs(new ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebase-heartbeat-database",cb=1,Pa="firebase-heartbeat-store";let Mf=null;function vE(){return Mf||(Mf=Dx(lb,cb,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Pa)}}}).catch(n=>{throw Zr.create("idb-open",{originalErrorMessage:n.message})})),Mf}async function hb(n){try{return await(await vE()).transaction(Pa).objectStore(Pa).get(yE(n))}catch(e){if(e instanceof Sr)$i.warn(e.message);else{const t=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(t.message)}}}async function Uw(n,e){try{const r=(await vE()).transaction(Pa,"readwrite");await r.objectStore(Pa).put(e,yE(n)),await r.done}catch(t){if(t instanceof Sr)$i.warn(t.message);else{const r=Zr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$i.warn(r.message)}}}function yE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=1024,fb=30*24*60*60*1e3;class pb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=fb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jw(),{heartbeatsToSend:t,unsentEntries:r}=mb(this._heartbeatsCache.heartbeats),i=cc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function jw(){return new Date().toISOString().substring(0,10)}function mb(n,e=db){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),$w(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$w(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class gb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dE()?sx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $w(n){return cc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n){zs(new ji("platform-logger",e=>new Rx(e),"PRIVATE")),zs(new ji("heartbeat",e=>new pb(e),"PRIVATE")),ei(lp,Vw,n),ei(lp,Vw,"esm2017"),ei("fire-js","")}vb("");var yb="firebase",wb="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(yb,wb,"app");var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,am=am||{},Ee=Sb||self;function Wc(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function Qc(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function Eb(n,e,t){return n.call.apply(n.bind,arguments)}function Ib(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ht(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=Eb:Ht=Ib,Ht.apply(null,arguments)}function bl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ot(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function ai(){this.s=this.s,this.o=this.o}var Cb=0;ai.prototype.s=!1;ai.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Cb!=0)};ai.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function um(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Bw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wc(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function qt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var Tb=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ee.addEventListener("test",()=>{},e),Ee.removeEventListener("test",()=>{},e)}catch{}return n}();function Ra(n){return/^[\s\xa0]*$/.test(n)}function Yc(){var n=Ee.navigator;return n&&(n=n.userAgent)?n:""}function Gn(n){return Yc().indexOf(n)!=-1}function lm(n){return lm[" "](n),n}lm[" "]=function(){};function _b(n,e){var t=yD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var kb=Gn("Opera"),Hs=Gn("Trident")||Gn("MSIE"),SE=Gn("Edge"),dp=SE||Hs,EE=Gn("Gecko")&&!(Yc().toLowerCase().indexOf("webkit")!=-1&&!Gn("Edge"))&&!(Gn("Trident")||Gn("MSIE"))&&!Gn("Edge"),xb=Yc().toLowerCase().indexOf("webkit")!=-1&&!Gn("Edge");function IE(){var n=Ee.document;return n?n.documentMode:void 0}var fp;e:{var Lf="",Ff=function(){var n=Yc();if(EE)return/rv:([^\);]+)(\)|;)/.exec(n);if(SE)return/Edge\/([\d\.]+)/.exec(n);if(Hs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(xb)return/WebKit\/(\S+)/.exec(n);if(kb)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(Ff&&(Lf=Ff?Ff[1]:""),Hs){var Vf=IE();if(Vf!=null&&Vf>parseFloat(Lf)){fp=String(Vf);break e}}fp=Lf}var pp;if(Ee.document&&Hs){var zw=IE();pp=zw||parseInt(fp,10)||void 0}else pp=void 0;var bb=pp;function Aa(n,e){if(qt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(EE){e:{try{lm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Db[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Aa.$.h.call(this)}}Ot(Aa,qt);var Db={2:"touch",3:"pen",4:"mouse"};Aa.prototype.h=function(){Aa.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xc="closure_listenable_"+(1e6*Math.random()|0),Ob=0;function Pb(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Ob,this.fa=this.ia=!1}function Jc(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function cm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Rb(n,e){for(const t in n)e.call(void 0,n[t],t,n)}function CE(n){const e={};for(const t in n)e[t]=n[t];return e}const Hw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TE(n,e){let t,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(t in r)n[t]=r[t];for(let a=0;a<Hw.length;a++)t=Hw[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Zc(n){this.src=n,this.g={},this.h=0}Zc.prototype.add=function(n,e,t,r,i){var a=n.toString();n=this.g[a],n||(n=this.g[a]=[],this.h++);var u=gp(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):(e=new Pb(e,this.src,a,!!r,i),e.ia=t,n.push(e)),e};function mp(n,e){var t=e.type;if(t in n.g){var r=n.g[t],i=wE(r,e),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Jc(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function gp(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}var hm="closure_lm_"+(1e6*Math.random()|0),Uf={};function _E(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)_E(n,e[a],t,r,i);return null}return t=bE(t),n&&n[Xc]?n.O(e,t,Qc(r)?!!r.capture:!1,i):Ab(n,e,t,!1,r,i)}function Ab(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Qc(i)?!!i.capture:!!i,h=fm(n);if(h||(n[hm]=h=new Zc(n)),t=h.add(e,t,r,u,a),t.proxy)return t;if(r=Nb(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Tb||(i=u),i===void 0&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(xE(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function Nb(){function n(t){return e.call(n.src,n.listener,t)}const e=Mb;return n}function kE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)kE(n,e[a],t,r,i);else r=Qc(r)?!!r.capture:!!r,t=bE(t),n&&n[Xc]?(n=n.i,e=String(e).toString(),e in n.g&&(a=n.g[e],t=gp(a,t,r,i),-1<t&&(Jc(a[t]),Array.prototype.splice.call(a,t,1),a.length==0&&(delete n.g[e],n.h--)))):n&&(n=fm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gp(e,t,r,i)),(t=-1<n?e[n]:null)&&dm(t))}function dm(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[Xc])mp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(xE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=fm(e))?(mp(t,n),t.h==0&&(t.src=null,e[hm]=null)):Jc(n)}}}function xE(n){return n in Uf?Uf[n]:Uf[n]="on"+n}function Mb(n,e){if(n.fa)n=!0;else{e=new Aa(e,this);var t=n.listener,r=n.la||n.src;n.ia&&dm(n),n=t.call(r,e)}return n}function fm(n){return n=n[hm],n instanceof Zc?n:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function bE(n){return typeof n=="function"?n:(n[jf]||(n[jf]=function(e){return n.handleEvent(e)}),n[jf])}function bt(){ai.call(this),this.i=new Zc(this),this.S=this,this.J=null}Ot(bt,ai);bt.prototype[Xc]=!0;bt.prototype.removeEventListener=function(n,e,t,r){kE(this,n,e,t,r)};function Ft(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,typeof e=="string")e=new qt(e,n);else if(e instanceof qt)e.target=e.target||n;else{var i=e;e=new qt(r,n),TE(e,i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=Dl(u,r,!0,e)&&i}if(u=e.g=n,i=Dl(u,r,!0,e)&&i,i=Dl(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)u=e.g=t[a],i=Dl(u,r,!1,e)&&i}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Jc(t[r]);delete n.g[e],n.h--}}this.J=null};bt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};bt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function Dl(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==t){var h=u.listener,d=u.la||u.src;u.ia&&mp(n.i,u),i=h.call(d,r)!==!1&&i}}return i&&!r.defaultPrevented}var pm=Ee.JSON.stringify;class Lb{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Fb(){var n=mm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class Vb{constructor(){this.h=this.g=null}add(e,t){const r=DE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var DE=new Lb(()=>new Ub,n=>n.reset());class Ub{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jb(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function $b(n){Ee.setTimeout(()=>{throw n},0)}let Na,Ma=!1,mm=new Vb,OE=()=>{const n=Ee.Promise.resolve(void 0);Na=()=>{n.then(Bb)}};var Bb=()=>{for(var n;n=Fb();){try{n.h.call(n.g)}catch(t){$b(t)}var e=DE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ma=!1};function eh(n,e){bt.call(this),this.h=n||1,this.g=e||Ee,this.j=Ht(this.qb,this),this.l=Date.now()}Ot(eh,bt);X=eh.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(gm(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}X.N=function(){eh.$.N.call(this),gm(this),delete this.g};function vm(n,e,t){if(typeof n=="function")t&&(n=Ht(n,t));else if(n&&typeof n.handleEvent=="function")n=Ht(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ee.setTimeout(n,e||0)}function PE(n){n.g=vm(()=>{n.g=null,n.i&&(n.i=!1,PE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class zb extends ai{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PE(this)}N(){super.N(),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(n){ai.call(this),this.h=n,this.g={}}Ot(La,ai);var qw=[];function RE(n,e,t,r){Array.isArray(t)||(t&&(qw[0]=t.toString()),t=qw);for(var i=0;i<t.length;i++){var a=_E(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function AE(n){cm(n.g,function(e,t){this.g.hasOwnProperty(t)&&dm(e)},n),n.g={}}La.prototype.N=function(){La.$.N.call(this),AE(this)};La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function th(){this.g=!0}th.prototype.Ea=function(){this.g=!1};function Hb(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),d=0;d<h.length;d++){var p=h[d].split("=");if(1<p.length){var g=p[0];p=p[1];var y=g.split("_");u=2<=y.length&&y[1]=="type"?u+(g+"="+p+"&"):u+(g+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+t+`
`+u})}function qb(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+t+`
`+a+" "+u})}function Ns(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+Gb(n,t)+(r?" "+r:"")})}function Kb(n,e){n.info(function(){return"TIMEOUT: "+e})}th.prototype.info=function(){};function Gb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!="noop"&&a!="stop"&&a!="close")for(var u=1;u<i.length;u++)i[u]=""}}}}return pm(t)}catch{return e}}var Ji={},Kw=null;function nh(){return Kw=Kw||new bt}Ji.Ta="serverreachability";function NE(n){qt.call(this,Ji.Ta,n)}Ot(NE,qt);function Fa(n){const e=nh();Ft(e,new NE(e))}Ji.STAT_EVENT="statevent";function ME(n,e){qt.call(this,Ji.STAT_EVENT,n),this.stat=e}Ot(ME,qt);function Qt(n){const e=nh();Ft(e,new ME(e,n))}Ji.Ua="timingevent";function LE(n,e){qt.call(this,Ji.Ua,n),this.size=e}Ot(LE,qt);function ru(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){n()},e)}var rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ym(){}ym.prototype.h=null;function Gw(n){return n.h||(n.h=n.i())}function VE(){}var iu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wm(){qt.call(this,"d")}Ot(wm,qt);function Sm(){qt.call(this,"c")}Ot(Sm,qt);var vp;function ih(){}Ot(ih,ym);ih.prototype.g=function(){return new XMLHttpRequest};ih.prototype.i=function(){return{}};vp=new ih;function su(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new La(this),this.P=Wb,n=dp?125:void 0,this.V=new eh(n),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UE}function UE(){this.i=null,this.g="",this.h=!1}var Wb=45e3,yp={},fc={};X=su.prototype;X.setTimeout=function(n){this.P=n};function wp(n,e,t){n.L=1,n.v=oh(vr(e)),n.s=t,n.S=!0,jE(n,null)}function jE(n,e){n.G=Date.now(),ou(n),n.A=vr(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),WE(t.i,"t",r),n.C=0,t=n.l.J,n.h=new UE,n.g=mI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new zb(Ht(n.Pa,n,n.g),n.O)),RE(n.U,n.g,"readystatechange",n.nb),e=n.I?CE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Fa(),Hb(n.j,n.u,n.A,n.m,n.W,n.s)}X.nb=function(n){n=n.target;const e=this.M;e&&Wn(n)==3?e.l():this.Pa(n)};X.Pa=function(n){try{if(n==this.g)e:{const g=Wn(this.g);var e=this.g.Ia();const y=this.g.da();if(!(3>g)&&(g!=3||dp||this.g&&(this.h.h||this.g.ja()||Xw(this.g)))){this.J||g!=4||e==7||(e==8||0>=y?Fa(3):Fa(2)),sh(this);var t=this.g.da();this.ca=t;t:if($E(this)){var r=Xw(this.g);n="";var i=r.length,a=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),Ca(this);var u="";break t}this.h.i=new Ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=t==200,qb(this.j,this.u,this.A,this.m,this.W,g,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(h)){var p=h;break t}}p=null}if(t=p)Ns(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sp(this,t);else{this.i=!1,this.o=3,Qt(12),Mi(this),Ca(this);break e}}this.S?(BE(this,g,u),dp&&this.i&&g==3&&(RE(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,u,null),Sp(this,u)),g==4&&Mi(this),this.i&&!this.J&&(g==4?hI(this.l,this):(this.i=!1,ou(this)))}else mD(this.g),t==400&&0<u.indexOf("Unknown SID")?(this.o=3,Qt(12)):(this.o=0,Qt(13)),Mi(this),Ca(this)}}}catch{}finally{}};function $E(n){return n.g?n.u=="GET"&&n.L!=2&&n.l.Ha:!1}function BE(n,e,t){let r=!0,i;for(;!n.J&&n.C<t.length;)if(i=Qb(n,t),i==fc){e==4&&(n.o=4,Qt(14),r=!1),Ns(n.j,n.m,null,"[Incomplete Response]");break}else if(i==yp){n.o=4,Qt(15),Ns(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else Ns(n.j,n.m,i,null),Sp(n,i);$E(n)&&i!=fc&&i!=yp&&(n.h.g="",n.C=0),e!=4||t.length!=0||n.h.h||(n.o=1,Qt(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),km(e),e.M=!0,Qt(11))):(Ns(n.j,n.m,t,"[Invalid Chunked Response]"),Mi(n),Ca(n))}X.mb=function(){if(this.g){var n=Wn(this.g),e=this.g.ja();this.C<e.length&&(sh(this),BE(this,n,e),this.i&&n!=4&&ou(this))}};function Qb(n,e){var t=n.C,r=e.indexOf(`
`,t);return r==-1?fc:(t=Number(e.substring(t,r)),isNaN(t)?yp:(r+=1,r+t>e.length?fc:(e=e.slice(r,r+t),n.C=r+t,e)))}X.cancel=function(){this.J=!0,Mi(this)};function ou(n){n.Y=Date.now()+n.P,zE(n,n.P)}function zE(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=ru(Ht(n.lb,n),e)}function sh(n){n.B&&(Ee.clearTimeout(n.B),n.B=null)}X.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(Kb(this.j,this.A),this.L!=2&&(Fa(),Qt(17)),Mi(this),this.o=2,Ca(this)):zE(this,this.Y-n)};function Ca(n){n.l.H==0||n.J||hI(n.l,n)}function Mi(n){sh(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,gm(n.V),AE(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Sp(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||Ep(t.i,n))){if(!n.K&&Ep(t.i,n)&&t.H==3){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)gc(t),lh(t);else break e;_m(t),Qt(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&t.A==0&&!t.v&&(t.v=ru(Ht(t.ib,t),6e3));if(1>=XE(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Li(t,11)}else if((n.K||t.g==n)&&gc(t),!Ra(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let p=i[e];if(t.V=p[0],p=p[1],t.H==2)if(p[0]=="c"){t.K=p[1],t.pa=p[2];const g=p[3];g!=null&&(t.ra=g,t.l.info("VER="+t.ra));const y=p[4];y!=null&&(t.Ga=y,t.l.info("SVER="+t.Ga));const S=p[5];S!=null&&typeof S=="number"&&0<S&&(r=1.5*S,t.L=r,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const I=n.g;if(I){const x=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var a=r.i;a.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(Em(a,a.h),a.h=null))}if(r.F){const k=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.Da=k,et(r.I,r.F,k))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),r=t;var u=n;if(r.wa=pI(r,r.J?r.pa:null,r.Y),u.K){JE(r.i,u);var h=u,d=r.L;d&&h.setTimeout(d),h.B&&(sh(h),ou(h)),r.g=u}else lI(r);0<t.j.length&&ch(t)}else p[0]!="stop"&&p[0]!="close"||Li(t,7);else t.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Li(t,7):Tm(t):p[0]!="noop"&&t.h&&t.h.Aa(p),t.A=0)}}Fa(4)}catch{}}function Yb(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Wc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function Xb(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wc(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}function HE(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(Wc(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=Xb(n),r=Yb(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fi(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fi){this.h=n.h,pc(this,n.j),this.s=n.s,this.g=n.g,mc(this,n.m),this.l=n.l;var e=n.i,t=new Va;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ww(this,t),this.o=n.o}else n&&(e=String(n).match(qE))?(this.h=!1,pc(this,e[1]||"",!0),this.s=ma(e[2]||""),this.g=ma(e[3]||"",!0),mc(this,e[4]),this.l=ma(e[5]||"",!0),Ww(this,e[6]||"",!0),this.o=ma(e[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}Fi.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ga(e,Qw,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(ga(e,Qw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(ga(t,t.charAt(0)=="/"?tD:eD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ga(t,rD)),n.join("")};function vr(n){return new Fi(n)}function pc(n,e,t){n.j=t?ma(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ww(n,e,t){e instanceof Va?(n.i=e,iD(n.i,n.h)):(t||(e=ga(e,nD)),n.i=new Va(e,n.h))}function et(n,e,t){n.i.set(e,t)}function oh(n){return et(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ma(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ga(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,Zb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Zb(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var Qw=/[#\/\?@]/g,eD=/[#\?:]/g,tD=/[#\?]/g,nD=/[#\?@]/g,rD=/#/g;function Va(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ui(n){n.g||(n.g=new Map,n.h=0,n.i&&Jb(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}X=Va.prototype;X.add=function(n,e){ui(this),this.i=null,n=io(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function KE(n,e){ui(n),e=io(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function GE(n,e){return ui(n),e=io(n,e),n.g.has(e)}X.forEach=function(n,e){ui(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)};X.ta=function(){ui(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t};X.Z=function(n){ui(this);let e=[];if(typeof n=="string")GE(this,n)&&(e=e.concat(this.g.get(io(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};X.set=function(n,e){return ui(this),this.i=null,n=io(this,n),GE(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};X.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function WE(n,e,t){KE(n,e),0<t.length&&(n.i=null,n.g.set(io(n,e),um(t)),n.h+=t.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=a;u[r]!==""&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};function io(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function iD(n,e){e&&!n.j&&(ui(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(KE(this,r),WE(this,i,t))},n)),n.j=e}var sD=class{constructor(n,e){this.g=n,this.map=e}};function QE(n){this.l=n||oD,Ee.PerformanceNavigationTiming?(n=Ee.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Ee.g&&Ee.g.Ka&&Ee.g.Ka()&&Ee.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oD=10;function YE(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function XE(n){return n.h?1:n.g?n.g.size:0}function Ep(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function Em(n,e){n.g?n.g.add(e):n.h=e}function JE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}QE.prototype.cancel=function(){if(this.i=ZE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function ZE(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return um(n.i)}var aD=class{stringify(n){return Ee.JSON.stringify(n,void 0)}parse(n){return Ee.JSON.parse(n,void 0)}};function uD(){this.g=new aD}function lD(n,e,t){const r=t||"";try{HE(n,function(i,a){let u=i;Qc(i)&&(u=pm(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cD(n,e){const t=new th;if(Ee.Image){const r=new Image;r.onload=bl(Ol,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bl(Ol,t,r,"TestLoadImage: error",!1,e),r.onabort=bl(Ol,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bl(Ol,t,r,"TestLoadImage: timeout",!1,e),Ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function Ol(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function au(n){this.l=n.fc||null,this.j=n.ob||!1}Ot(au,ym);au.prototype.g=function(){return new ah(this.l,this.j)};au.prototype.i=function(n){return function(){return n}}({});function ah(n,e){bt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Im,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(ah,bt);var Im=0;X=ah.prototype;X.open=function(n,e){if(this.readyState!=Im)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ua(this)};X.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uu(this)),this.readyState=Im};X.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ee.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function eI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}X.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?uu(this):Ua(this),this.readyState==3&&eI(this)}};X.Za=function(n){this.g&&(this.response=this.responseText=n,uu(this))};X.Ya=function(n){this.g&&(this.response=n,uu(this))};X.ka=function(){this.g&&uu(this)};function uu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ua(n)}X.setRequestHeader=function(n,e){this.v.append(n,e)};X.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function Ua(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var hD=Ee.JSON.parse;function dt(n){bt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tI,this.L=this.M=!1}Ot(dt,bt);var tI="",dD=/^https?$/i,fD=["POST","PUT"];X=dt.prototype;X.Oa=function(n){this.M=n};X.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vp.g(),this.C=this.u?Gw(this.u):Gw(vp),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){Yw(this,a);return}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const a of r.keys())t.set(a,r.get(a));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(t.keys()).find(a=>a.toLowerCase()=="content-type"),i=Ee.FormData&&n instanceof Ee.FormData,!(0<=wE(fD,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iI(this),0<this.B&&((this.L=pD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=vm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Yw(this,a)}};function pD(n){return Hs&&typeof n.timeout=="number"&&n.ontimeout!==void 0}X.ua=function(){typeof am<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))};function Yw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nI(n),uh(n)}function nI(n){n.F||(n.F=!0,Ft(n,"complete"),Ft(n,"error"))}X.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ft(this,"complete"),Ft(this,"abort"),uh(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uh(this,!0)),dt.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?rI(this):this.kb())};X.kb=function(){rI(this)};function rI(n){if(n.h&&typeof am<"u"&&(!n.C[1]||Wn(n)!=4||n.da()!=2)){if(n.v&&Wn(n)==4)vm(n.La,0,n);else if(Ft(n,"readystatechange"),Wn(n)==4){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=u===0){var i=String(n.I).match(qE)[1]||null;!i&&Ee.self&&Ee.self.location&&(i=Ee.self.location.protocol.slice(0,-1)),r=!dD.test(i?i.toLowerCase():"")}t=r}if(t)Ft(n,"complete"),Ft(n,"success");else{n.m=6;try{var a=2<Wn(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",nI(n)}}finally{uh(n)}}}}function uh(n,e){if(n.g){iI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ft(n,"ready");try{t.onreadystatechange=r}catch{}}}function iI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ee.clearTimeout(n.A),n.A=null)}X.isActive=function(){return!!this.g};function Wn(n){return n.g?n.g.readyState:0}X.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),hD(e)}};function Xw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case tI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function mD(n){const e={};n=(n.g&&2<=Wn(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<n.length;r++){if(Ra(n[r]))continue;var t=jb(n[r]);const i=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}Rb(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sI(n){let e="";return cm(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function Cm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=sI(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):et(n,e,t))}function ra(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function oI(n){this.Ga=0,this.j=[],this.l=new th,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ra("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ra("baseRetryDelayMs",5e3,n),this.hb=ra("retryDelaySeedMs",1e4,n),this.eb=ra("forwardChannelMaxRetries",2,n),this.xa=ra("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new QE(n&&n.concurrentRequestLimit),this.Ja=new uD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=oI.prototype;X.ra=8;X.H=1;function Tm(n){if(aI(n),n.H==3){var e=n.W++,t=vr(n.I);if(et(t,"SID",n.K),et(t,"RID",e),et(t,"TYPE","terminate"),lu(n,t),e=new su(n,n.l,e),e.L=2,e.v=oh(vr(t)),t=!1,Ee.navigator&&Ee.navigator.sendBeacon)try{t=Ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ee.Image&&(new Image().src=e.v,t=!0),t||(e.g=mI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ou(e)}fI(n)}function lh(n){n.g&&(km(n),n.g.cancel(),n.g=null)}function aI(n){lh(n),n.u&&(Ee.clearTimeout(n.u),n.u=null),gc(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Ee.clearTimeout(n.m),n.m=null)}function ch(n){if(!YE(n.i)&&!n.m){n.m=!0;var e=n.Na;Na||OE(),Ma||(Na(),Ma=!0),mm.add(e,n),n.C=0}}function gD(n,e){return XE(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=ru(Ht(n.Na,n,e),dI(n,n.C)),n.C++,!0)}X.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new su(this,this.l,n);let a=this.s;if(this.U&&(a?(a=CE(a),TE(a,this.U)):a=this.U),this.o!==null||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var r=this.j[t];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uI(this,i,e),t=vr(this.I),et(t,"RID",n),et(t,"CVER",22),this.F&&et(t,"X-HTTP-Session-Id",this.F),lu(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(sI(a)))+"&"+e:this.o&&Cm(t,this.o,a)),Em(this.i,i),this.bb&&et(t,"TYPE","init"),this.P?(et(t,"$req",e),et(t,"SID","null"),i.aa=!0,wp(i,t,null)):wp(i,t,e),this.H=2}}else this.H==3&&(n?Jw(this,n):this.j.length==0||YE(this.i)||Jw(this))};function Jw(n,e){var t;e?t=e.m:t=n.W++;const r=vr(n.I);et(r,"SID",n.K),et(r,"RID",t),et(r,"AID",n.V),lu(n,r),n.o&&n.s&&Cm(r,n.o,n.s),t=new su(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=uI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Em(n.i,t),wp(t,r,e)}function lu(n,e){n.na&&cm(n.na,function(t,r){et(e,r,t)}),n.h&&HE({},function(t,r){et(e,r,t)})}function uI(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ht(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const u=["count="+t];a==-1?0<t?(a=i[0].g,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let d=0;d<t;d++){let p=i[d].g;const g=i[d].map;if(p-=a,0>p)a=Math.max(0,i[d].g-100),h=!1;else try{lD(g,u,"req"+p+"_")}catch{r&&r(g)}}if(h){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function lI(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Na||OE(),Ma||(Na(),Ma=!0),mm.add(e,n),n.A=0}}function _m(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=ru(Ht(n.Ma,n),dI(n,n.A)),n.A++,!0)}X.Ma=function(){if(this.u=null,cI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ru(Ht(this.jb,this),n)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),lh(this),cI(this))};function km(n){n.B!=null&&(Ee.clearTimeout(n.B),n.B=null)}function cI(n){n.g=new su(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=vr(n.wa);et(e,"RID","rpc"),et(e,"SID",n.K),et(e,"AID",n.V),et(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&et(e,"TO",n.qa),et(e,"TYPE","xmlhttp"),lu(n,e),n.o&&n.s&&Cm(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=oh(vr(e)),t.s=null,t.S=!0,jE(t,n)}X.ib=function(){this.v!=null&&(this.v=null,lh(this),_m(this),Qt(19))};function gc(n){n.v!=null&&(Ee.clearTimeout(n.v),n.v=null)}function hI(n,e){var t=null;if(n.g==e){gc(n),km(n),n.g=null;var r=2}else if(Ep(n.i,e))t=e.F,JE(n.i,e),r=1;else return;if(n.H!=0){if(e.i)if(r==1){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;r=nh(),Ft(r,new LE(r,t)),ch(n)}else lI(n);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&gD(n,e)||r==2&&_m(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Li(n,5);break;case 4:Li(n,10);break;case 3:Li(n,6);break;default:Li(n,2)}}}function dI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Li(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var r=Ht(n.pb,n);t||(t=new Fi("//www.google.com/images/cleardot.gif"),Ee.location&&Ee.location.protocol=="http"||pc(t,"https"),oh(t)),cD(t.toString(),r)}else Qt(2);n.H=0,n.h&&n.h.za(e),fI(n),aI(n)}X.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))};function fI(n){if(n.H=0,n.ma=[],n.h){const e=ZE(n.i);(e.length!=0||n.j.length!=0)&&(Bw(n.ma,e),Bw(n.ma,n.j),n.i.i.length=0,um(n.j),n.j.length=0),n.h.ya()}}function pI(n,e,t){var r=t instanceof Fi?vr(t):new Fi(t);if(r.g!="")e&&(r.g=e+"."+r.g),mc(r,r.m);else{var i=Ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Fi(null);r&&pc(a,r),e&&(a.g=e),i&&mc(a,i),t&&(a.l=t),r=a}return t=n.F,e=n.Da,t&&e&&et(r,t,e),et(r,"VER",n.ra),lu(n,r),r}function mI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t&&n.Ha&&!n.va?new dt(new au({ob:!0})):new dt(n.va),e.Oa(n.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function gI(){}X=gI.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function vc(){if(Hs&&!(10<=Number(bb)))throw Error("Environmental error: no available transport.")}vc.prototype.g=function(n,e){return new yn(n,e)};function yn(n,e){bt.call(this),this.g=new oI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ra(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new so(this)}Ot(yn,bt);yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Qt(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=pI(n,null,n.Y),ch(n)};yn.prototype.close=function(){Tm(this.g)};yn.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=pm(n),n=t);e.j.push(new sD(e.fb++,n)),e.H==3&&ch(e)};yn.prototype.N=function(){this.g.h=null,delete this.j,Tm(this.g),delete this.g,yn.$.N.call(this)};function vI(n){wm.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}Ot(vI,wm);function yI(){Sm.call(this),this.status=1}Ot(yI,Sm);function so(n){this.g=n}Ot(so,gI);so.prototype.Ba=function(){Ft(this.g,"a")};so.prototype.Aa=function(n){Ft(this.g,new vI(n))};so.prototype.za=function(n){Ft(this.g,new yI)};so.prototype.ya=function(){Ft(this.g,"b")};function vD(){this.blockSize=-1}function Fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ot(Fn,vD);Fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $f(n,e,t){t||(t=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],i=n.g[2];var a=n.g[3],u=e+(a^t&(i^a))+r[0]+3614090360&4294967295;e=t+(u<<7&4294967295|u>>>25),u=a+(i^e&(t^i))+r[1]+3905402710&4294967295,a=e+(u<<12&4294967295|u>>>20),u=i+(t^a&(e^t))+r[2]+606105819&4294967295,i=a+(u<<17&4294967295|u>>>15),u=t+(e^i&(a^e))+r[3]+3250441966&4294967295,t=i+(u<<22&4294967295|u>>>10),u=e+(a^t&(i^a))+r[4]+4118548399&4294967295,e=t+(u<<7&4294967295|u>>>25),u=a+(i^e&(t^i))+r[5]+1200080426&4294967295,a=e+(u<<12&4294967295|u>>>20),u=i+(t^a&(e^t))+r[6]+2821735955&4294967295,i=a+(u<<17&4294967295|u>>>15),u=t+(e^i&(a^e))+r[7]+4249261313&4294967295,t=i+(u<<22&4294967295|u>>>10),u=e+(a^t&(i^a))+r[8]+1770035416&4294967295,e=t+(u<<7&4294967295|u>>>25),u=a+(i^e&(t^i))+r[9]+2336552879&4294967295,a=e+(u<<12&4294967295|u>>>20),u=i+(t^a&(e^t))+r[10]+4294925233&4294967295,i=a+(u<<17&4294967295|u>>>15),u=t+(e^i&(a^e))+r[11]+2304563134&4294967295,t=i+(u<<22&4294967295|u>>>10),u=e+(a^t&(i^a))+r[12]+1804603682&4294967295,e=t+(u<<7&4294967295|u>>>25),u=a+(i^e&(t^i))+r[13]+4254626195&4294967295,a=e+(u<<12&4294967295|u>>>20),u=i+(t^a&(e^t))+r[14]+2792965006&4294967295,i=a+(u<<17&4294967295|u>>>15),u=t+(e^i&(a^e))+r[15]+1236535329&4294967295,t=i+(u<<22&4294967295|u>>>10),u=e+(i^a&(t^i))+r[1]+4129170786&4294967295,e=t+(u<<5&4294967295|u>>>27),u=a+(t^i&(e^t))+r[6]+3225465664&4294967295,a=e+(u<<9&4294967295|u>>>23),u=i+(e^t&(a^e))+r[11]+643717713&4294967295,i=a+(u<<14&4294967295|u>>>18),u=t+(a^e&(i^a))+r[0]+3921069994&4294967295,t=i+(u<<20&4294967295|u>>>12),u=e+(i^a&(t^i))+r[5]+3593408605&4294967295,e=t+(u<<5&4294967295|u>>>27),u=a+(t^i&(e^t))+r[10]+38016083&4294967295,a=e+(u<<9&4294967295|u>>>23),u=i+(e^t&(a^e))+r[15]+3634488961&4294967295,i=a+(u<<14&4294967295|u>>>18),u=t+(a^e&(i^a))+r[4]+3889429448&4294967295,t=i+(u<<20&4294967295|u>>>12),u=e+(i^a&(t^i))+r[9]+568446438&4294967295,e=t+(u<<5&4294967295|u>>>27),u=a+(t^i&(e^t))+r[14]+3275163606&4294967295,a=e+(u<<9&4294967295|u>>>23),u=i+(e^t&(a^e))+r[3]+4107603335&4294967295,i=a+(u<<14&4294967295|u>>>18),u=t+(a^e&(i^a))+r[8]+1163531501&4294967295,t=i+(u<<20&4294967295|u>>>12),u=e+(i^a&(t^i))+r[13]+2850285829&4294967295,e=t+(u<<5&4294967295|u>>>27),u=a+(t^i&(e^t))+r[2]+4243563512&4294967295,a=e+(u<<9&4294967295|u>>>23),u=i+(e^t&(a^e))+r[7]+1735328473&4294967295,i=a+(u<<14&4294967295|u>>>18),u=t+(a^e&(i^a))+r[12]+2368359562&4294967295,t=i+(u<<20&4294967295|u>>>12),u=e+(t^i^a)+r[5]+4294588738&4294967295,e=t+(u<<4&4294967295|u>>>28),u=a+(e^t^i)+r[8]+2272392833&4294967295,a=e+(u<<11&4294967295|u>>>21),u=i+(a^e^t)+r[11]+1839030562&4294967295,i=a+(u<<16&4294967295|u>>>16),u=t+(i^a^e)+r[14]+4259657740&4294967295,t=i+(u<<23&4294967295|u>>>9),u=e+(t^i^a)+r[1]+2763975236&4294967295,e=t+(u<<4&4294967295|u>>>28),u=a+(e^t^i)+r[4]+1272893353&4294967295,a=e+(u<<11&4294967295|u>>>21),u=i+(a^e^t)+r[7]+4139469664&4294967295,i=a+(u<<16&4294967295|u>>>16),u=t+(i^a^e)+r[10]+3200236656&4294967295,t=i+(u<<23&4294967295|u>>>9),u=e+(t^i^a)+r[13]+681279174&4294967295,e=t+(u<<4&4294967295|u>>>28),u=a+(e^t^i)+r[0]+3936430074&4294967295,a=e+(u<<11&4294967295|u>>>21),u=i+(a^e^t)+r[3]+3572445317&4294967295,i=a+(u<<16&4294967295|u>>>16),u=t+(i^a^e)+r[6]+76029189&4294967295,t=i+(u<<23&4294967295|u>>>9),u=e+(t^i^a)+r[9]+3654602809&4294967295,e=t+(u<<4&4294967295|u>>>28),u=a+(e^t^i)+r[12]+3873151461&4294967295,a=e+(u<<11&4294967295|u>>>21),u=i+(a^e^t)+r[15]+530742520&4294967295,i=a+(u<<16&4294967295|u>>>16),u=t+(i^a^e)+r[2]+3299628645&4294967295,t=i+(u<<23&4294967295|u>>>9),u=e+(i^(t|~a))+r[0]+4096336452&4294967295,e=t+(u<<6&4294967295|u>>>26),u=a+(t^(e|~i))+r[7]+1126891415&4294967295,a=e+(u<<10&4294967295|u>>>22),u=i+(e^(a|~t))+r[14]+2878612391&4294967295,i=a+(u<<15&4294967295|u>>>17),u=t+(a^(i|~e))+r[5]+4237533241&4294967295,t=i+(u<<21&4294967295|u>>>11),u=e+(i^(t|~a))+r[12]+1700485571&4294967295,e=t+(u<<6&4294967295|u>>>26),u=a+(t^(e|~i))+r[3]+2399980690&4294967295,a=e+(u<<10&4294967295|u>>>22),u=i+(e^(a|~t))+r[10]+4293915773&4294967295,i=a+(u<<15&4294967295|u>>>17),u=t+(a^(i|~e))+r[1]+2240044497&4294967295,t=i+(u<<21&4294967295|u>>>11),u=e+(i^(t|~a))+r[8]+1873313359&4294967295,e=t+(u<<6&4294967295|u>>>26),u=a+(t^(e|~i))+r[15]+4264355552&4294967295,a=e+(u<<10&4294967295|u>>>22),u=i+(e^(a|~t))+r[6]+2734768916&4294967295,i=a+(u<<15&4294967295|u>>>17),u=t+(a^(i|~e))+r[13]+1309151649&4294967295,t=i+(u<<21&4294967295|u>>>11),u=e+(i^(t|~a))+r[4]+4149444226&4294967295,e=t+(u<<6&4294967295|u>>>26),u=a+(t^(e|~i))+r[11]+3174756917&4294967295,a=e+(u<<10&4294967295|u>>>22),u=i+(e^(a|~t))+r[2]+718787259&4294967295,i=a+(u<<15&4294967295|u>>>17),u=t+(a^(i|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}Fn.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(i==0)for(;a<=t;)$f(this,n,a),a+=this.blockSize;if(typeof n=="string"){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){$f(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){$f(this,r),i=0;break}}this.h=i,this.i+=e};Fn.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};function Ge(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=n[i]|0;r&&a==e||(t[i]=a,r=!1)}this.g=t}var yD={};function xm(n){return-128<=n&&128>n?_b(n,function(e){return new Ge([e|0],0>e?-1:0)}):new Ge([n|0],0>n?-1:0)}function Qn(n){if(isNaN(n)||!isFinite(n))return Ls;if(0>n)return Lt(Qn(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ip;return new Ge(e,0)}function wI(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return Lt(wI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Qn(Math.pow(e,8)),r=Ls,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+a),e);8>a?(a=Qn(Math.pow(e,a)),r=r.R(a).add(Qn(u))):(r=r.R(t),r=r.add(Qn(u)))}return r}var Ip=4294967296,Ls=xm(0),Cp=xm(1),Zw=xm(16777216);X=Ge.prototype;X.ea=function(){if(kn(this))return-Lt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ip+r)*e,e*=Ip}return n};X.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(hr(this))return"0";if(kn(this))return"-"+Lt(this).toString(n);for(var e=Qn(Math.pow(n,6)),t=this,r="";;){var i=wc(t,e).g;t=yc(t,i.R(e));var a=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=i,hr(t))return a+r;for(;6>a.length;)a="0"+a;r=a+r}};X.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function hr(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function kn(n){return n.h==-1}X.X=function(n){return n=yc(this,n),kn(n)?-1:hr(n)?0:1};function Lt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ge(t,~n.h).add(Cp)}X.abs=function(){return kn(this)?Lt(this):this};X.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(this.D(i)&65535)+(n.D(i)&65535),u=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,a&=65535,u&=65535,t[i]=u<<16|a}return new Ge(t,t[t.length-1]&-2147483648?-1:0)};function yc(n,e){return n.add(Lt(e))}X.R=function(n){if(hr(this)||hr(n))return Ls;if(kn(this))return kn(n)?Lt(this).R(Lt(n)):Lt(Lt(this).R(n));if(kn(n))return Lt(this.R(Lt(n)));if(0>this.X(Zw)&&0>n.X(Zw))return Qn(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,u=this.D(r)&65535,h=n.D(i)>>>16,d=n.D(i)&65535;t[2*r+2*i]+=u*d,Pl(t,2*r+2*i),t[2*r+2*i+1]+=a*d,Pl(t,2*r+2*i+1),t[2*r+2*i+1]+=u*h,Pl(t,2*r+2*i+1),t[2*r+2*i+2]+=a*h,Pl(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ge(t,0)};function Pl(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ia(n,e){this.g=n,this.h=e}function wc(n,e){if(hr(e))throw Error("division by zero");if(hr(n))return new ia(Ls,Ls);if(kn(n))return e=wc(Lt(n),e),new ia(Lt(e.g),Lt(e.h));if(kn(e))return e=wc(n,Lt(e)),new ia(Lt(e.g),e.h);if(30<n.g.length){if(kn(n)||kn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Cp,r=e;0>=r.X(n);)t=e0(t),r=e0(r);var i=_s(t,1),a=_s(r,1);for(r=_s(r,2),t=_s(t,2);!hr(r);){var u=a.add(r);0>=u.X(n)&&(i=i.add(t),a=u),r=_s(r,1),t=_s(t,1)}return e=yc(n,i.R(e)),new ia(i,e)}for(i=Ls;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=Math.ceil(Math.log(t)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),a=Qn(t),u=a.R(e);kn(u)||0<u.X(n);)t-=r,a=Qn(t),u=a.R(e);hr(a)&&(a=Cp),i=i.add(a),n=yc(n,u)}return new ia(i,n)}X.gb=function(n){return wc(this,n).h};X.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ge(t,this.h&n.h)};X.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ge(t,this.h|n.h)};X.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ge(t,this.h^n.h)};function e0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ge(t,n.h)}function _s(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Ge(i,n.h)}vc.prototype.createWebChannel=vc.prototype.g;yn.prototype.send=yn.prototype.u;yn.prototype.open=yn.prototype.m;yn.prototype.close=yn.prototype.close;rh.NO_ERROR=0;rh.TIMEOUT=8;rh.HTTP_ERROR=6;FE.COMPLETE="complete";VE.EventType=iu;iu.OPEN="a";iu.CLOSE="b";iu.ERROR="c";iu.MESSAGE="d";bt.prototype.listen=bt.prototype.O;dt.prototype.listenOnce=dt.prototype.P;dt.prototype.getLastError=dt.prototype.Sa;dt.prototype.getLastErrorCode=dt.prototype.Ia;dt.prototype.getStatus=dt.prototype.da;dt.prototype.getResponseJson=dt.prototype.Wa;dt.prototype.getResponseText=dt.prototype.ja;dt.prototype.send=dt.prototype.ha;dt.prototype.setWithCredentials=dt.prototype.Oa;Fn.prototype.digest=Fn.prototype.l;Fn.prototype.reset=Fn.prototype.reset;Fn.prototype.update=Fn.prototype.j;Ge.prototype.add=Ge.prototype.add;Ge.prototype.multiply=Ge.prototype.R;Ge.prototype.modulo=Ge.prototype.gb;Ge.prototype.compare=Ge.prototype.X;Ge.prototype.toNumber=Ge.prototype.ea;Ge.prototype.toString=Ge.prototype.toString;Ge.prototype.getBits=Ge.prototype.D;Ge.fromNumber=Qn;Ge.fromString=wI;var wD=function(){return new vc},SD=function(){return nh()},Bf=rh,ED=FE,ID=Ji,t0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},CD=au,Rl=VE,TD=dt,_D=Fn,Fs=Ge,kD={};const n0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new im("@firebase/firestore");function Tp(){return Bi.logLevel}function H(n,...e){if(Bi.logLevel<=Le.DEBUG){const t=e.map(bm);Bi.debug(`Firestore (${oo}): ${n}`,...t)}}function mt(n,...e){if(Bi.logLevel<=Le.ERROR){const t=e.map(bm);Bi.error(`Firestore (${oo}): ${n}`,...t)}}function ni(n,...e){if(Bi.logLevel<=Le.WARN){const t=e.map(bm);Bi.warn(`Firestore (${oo}): ${n}`,...t)}}function bm(n){if(typeof n=="string")return n;try{return e=n,JSON.stringify(e)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(n="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+n;throw mt(e),new Error(e)}function de(n,e){n||ie()}function ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xt.UNAUTHENTICATED))}shutdown(){}}let bD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}};class DD{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new SI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new xt(e)}}class OD{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class PD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new OD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{a.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,H("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(de(typeof t.token=="string"),this.T=t.token,new RD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ND(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ce(n,e){return n<e?-1:n>e?1:0}function qs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function II(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new te(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new at(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new at(0,0))}static max(){return new he(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,r){t===void 0?t=0:t>e.length&&ie(),r===void 0?r=e.length-t:r>e.length-t&&ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ke extends ja{construct(e,t,r){return new Ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ke(t)}static emptyPath(){return new Ke([])}}const MD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ja{construct(e,t,r){return new wt(e,t,r)}static isValidIdentifier(e){return MD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new te(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new te(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new te(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new te(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(t)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ke.fromString(e))}static fromName(e){return new J(Ke.fromString(e).popFirst(5))}static empty(){return new J(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function _p(n){return n.fields.find(e=>e.kind===2)}function Oi(n){return n.fields.filter(e=>e.kind!==2)}CI.UNKNOWN_ID=-1;class LD{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sc(0,wn.min())}}function TI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new at(t+1,0):new at(t,r));return new wn(i,J.empty(),e)}function _I(n){return new wn(n.readTime,n.key,-1)}class wn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wn(he.min(),J.empty(),-1)}static max(){return new wn(he.max(),J.empty(),-1)}}function Dm(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function li(n){if(n.code!==V.FAILED_PRECONDITION||n.message!==kI)throw n;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof P?t:P.resolve(t)}catch(t){return P.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):P.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):P.reject(t)}static resolve(e){return new P((t,r)=>{t(e)})}static reject(e){return new P((t,r)=>{r(e)})}static waitFor(e){return new P((t,r)=>{let i=0,a=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++a,u&&a===i&&t()},d=>r(d))}),u=!0,a===i&&t()})}static or(e){let t=P.resolve(!1);for(const r of e)t=t.next(i=>i?P.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new P((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(g=>{u[p]=g,++h,h===a&&r(u)},g=>i(g))}})}static doWhile(e,t){return new P((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Jn,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ta(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Om(r.target.error);this.v.reject(new Ta(e,i))}}static open(e,t,r,i){try{return new hh(t,e.transaction(i,r))}catch(a){throw new Ta(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(H("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new VD(t)}}class dr{constructor(e,t,r){this.name=e,this.version=t,this.V=r,dr.S(It())===12.2&&mt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return H("SimpleDb","Removing database:",e),Pi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!dE())return!1;if(dr.C())return!0;const e=It(),t=dr.S(e),r=0<t&&t<10,i=dr.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&((e=kD)===null||e===void 0?void 0:e.k)==="YES"}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(H("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const u=a.target.result;t(u)},i.onblocked=()=>{r(new Ta(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const u=a.target.error;u.name==="VersionError"?r(new te(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new te(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Ta(e,u))},i.onupgradeneeded=a=>{H("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const u=a.target.result;this.V.O(u,i.transaction,a.oldVersion,this.version).next(()=>{H("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=t=>this.F(t)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const a=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.$(e);const h=hh.open(this.db,e,a?"readonly":"readwrite",r),d=i(h).next(p=>(h.P(),p)).catch(p=>(h.abort(p),P.reject(p))).toPromise();return d.catch(()=>{}),await h.R,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(H("SimpleDb","Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}class FD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Pi(this.L.delete())}}class Ta extends te{constructor(e,t){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ci(n){return n.name==="IndexedDbTransactionError"}class VD{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(H("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(H("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pi(r)}add(e){return H("SimpleDb","ADD",this.store.name,e,e),Pi(this.store.add(e))}get(e){return Pi(this.store.get(e)).next(t=>(t===void 0&&(t=null),H("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return H("SimpleDb","DELETE",this.store.name,e),Pi(this.store.delete(e))}count(){return H("SimpleDb","COUNT",this.store.name),Pi(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),a=[];return this.W(i,(u,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new P((a,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new P((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){H("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,u,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new P((r,i)=>{t.onerror=a=>{const u=Om(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}W(e,t){const r=[];return new P((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new FD(h),p=t(h.primaryKey,h.value,d);if(p instanceof P){const g=p.catch(y=>(d.done(),P.reject(y)));r.push(g)}d.isDone?i():d.K===null?h.continue():h.continue(d.K)}}).next(()=>P.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pi(n){return new P((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Om(r.target.error);t(i)}})}let r0=!1;function Om(n){const e=dr.S(It());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return r0||(r0=!0,setTimeout(()=>{throw r},0)),r}}return n}class UD{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){H("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{H("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(t){ci(t)?H("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await li(t)}await this.et(6e4)})}}class jD{constructor(e,t){this.localStore=e,this.persistence=t}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.st(t,e))}st(e,t){const r=new Set;let i=t,a=!0;return P.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return H("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,i).next(h=>{i-=h,r.add(u)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(i,a)).next(h=>(H("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=_I(a);Dm(u,r)>0&&(r=u)}),new wn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>t.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}un.ct=-1;function dh(n){return n==null}function $a(n){return n===0&&1/n==-1/0}function bI(n){return typeof n=="number"&&Number.isInteger(n)&&!$a(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i0(e)),e=$D(n.get(t),e);return i0(e)}function $D(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function i0(n){return n+""}function Yn(n){const e=n.length;if(de(e>=2),e===2)return de(n.charAt(0)===""&&n.charAt(1)===""),Ke.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("",a);switch((u<0||u>t)&&ie(),n.charAt(u+1)){case"":const h=n.substring(a,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(a,u),i+="\0";break;case"":i+=n.substring(a,u+1);break;default:ie()}a=u+2}return new Ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n,e){return[n,Yt(e)]}function DI(n,e,t){return[n,Yt(e),t]}const BD={},zD=["prefixPath","collectionGroup","readTime","documentId"],HD=["prefixPath","collectionGroup","documentId"],qD=["collectionGroup","readTime","prefixPath","documentId"],KD=["canonicalId","targetId"],GD=["targetId","path"],WD=["path","targetId"],QD=["collectionId","parent"],YD=["indexId","uid"],XD=["uid","sequenceNumber"],JD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZD=["indexId","uid","orderedDocumentKey"],eO=["userId","collectionPath","documentId"],tO=["userId","collectionPath","largestBatchId"],nO=["userId","collectionGroup","largestBatchId"],OI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rO=[...OI,"documentOverlays"],PI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RI=PI,iO=[...RI,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends xI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Pt(n,e){const t=ue(n);return dr.M(t.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new Ye(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=a??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Nt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Nt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(e){return new a0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tt(this.comparator);return t.data=e,t}}class a0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ks(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new xn([])}unionWith(e){let t=new tt(wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NI("Invalid base64 string: "+i):i}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(n){if(de(!!n),typeof n=="string"){let e=0;const t=sO.exec(n);if(de(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ii(n){return typeof n=="string"?Dt.fromBase64String(n):Dt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rm(n){const e=n.mapValue.fields.__previous_value__;return Pm(e)?Rm(e):e}function Ba(n){const e=ri(n.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,r,i,a,u,h,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}class zi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ql={nullValue:"NULL_VALUE"};function Hi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pm(n)?4:MI(n)?9007199254740991:10:ie()}function nr(n,e){if(n===e)return!0;const t=Hi(n);if(t!==Hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ba(n).isEqual(Ba(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ri(r.timestampValue),u=ri(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,i){return ii(r.bytesValue).isEqual(ii(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=lt(r.doubleValue),u=lt(i.doubleValue);return a===u?$a(a)===$a(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return qs(n.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(o0(a)!==o0(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(u[h]===void 0||!nr(a[h],u[h])))return!1;return!0}(n,e);default:return ie()}}function za(n,e){return(n.values||[]).find(t=>nr(t,e))!==void 0}function si(n,e){if(n===e)return 0;const t=Hi(n),r=Hi(e);if(t!==r)return Ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=lt(i.integerValue||i.doubleValue),h=lt(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return u0(n.timestampValue,e.timestampValue);case 4:return u0(Ba(n),Ba(e));case 5:return Ce(n.stringValue,e.stringValue);case 6:return function(i,a){const u=ii(i),h=ii(a);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),h=a.split("/");for(let d=0;d<u.length&&d<h.length;d++){const p=Ce(u[d],h[d]);if(p!==0)return p}return Ce(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Ce(lt(i.latitude),lt(a.latitude));return u!==0?u:Ce(lt(i.longitude),lt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],h=a.values||[];for(let d=0;d<u.length&&d<h.length;++d){const p=si(u[d],h[d]);if(p)return p}return Ce(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Xr.mapValue&&a===Xr.mapValue)return 0;if(i===Xr.mapValue)return 1;if(a===Xr.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),d=a.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let g=0;g<h.length&&g<p.length;++g){const y=Ce(h[g],p[g]);if(y!==0)return y;const S=si(u[h[g]],d[p[g]]);if(S!==0)return S}return Ce(h.length,p.length)}(n.mapValue,e.mapValue);default:throw ie()}}function u0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);const t=ri(n),r=ri(e),i=Ce(t.seconds,r.seconds);return i!==0?i:Ce(t.nanos,r.nanos)}function Ks(n){return xp(n)}function xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ri(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ii(n.bytesValue).toBase64():"referenceValue"in n?(t=n.referenceValue,J.fromName(t).toString()):"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=xp(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${xp(r.fields[h])}`;return a+"}"}(n.mapValue):ie();var e,t}function Am(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bp(n){return!!n&&"integerValue"in n}function Ha(n){return!!n&&"arrayValue"in n}function l0(n){return!!n&&"nullValue"in n}function c0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yl(n){return!!n&&"mapValue"in n}function _a(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ao(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_a(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_a(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function aO(n){return"nullValue"in n?Ql:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Am(zi.empty(),J.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ie()}function uO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Am(zi.empty(),J.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Xr:ie()}function h0(n,e){const t=si(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function d0(n,e){const t=si(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(t)}setAll(e){let t=wt.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=_a(u):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Yl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ao(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new an(_a(this.value))}}function LI(n){const e=[];return ao(n.fields,(t,r)=>{const i=new wt([t]);if(Yl(r)){const a=LI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t,r,i,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ct(e,0,he.min(),he.min(),he.min(),an.empty(),0)}static newFoundDocument(e,t,r,i){return new ct(e,1,t,he.min(),r,i,0)}static newNoDocument(e,t){return new ct(e,2,t,he.min(),he.min(),an.empty(),0)}static newUnknownDocument(e,t){return new ct(e,3,t,he.min(),he.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.position=e,this.inclusive=t}}function f0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=J.comparator(J.fromName(u.referenceValue),t.key):r=si(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function p0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t="asc"){this.field=e,this.dir=t}}function lO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{}class Re extends FI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cO(e,t,r):t==="array-contains"?new fO(e,r):t==="in"?new zI(e,r):t==="not-in"?new pO(e,r):t==="array-contains-any"?new mO(e,r):new Re(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hO(e,r):new dO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(si(t,this.value)):t!==null&&Hi(this.value)===Hi(t)&&this.matchesComparison(si(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class We extends FI{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new We(e,t)}matches(e){return Ws(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return e!==null?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ws(n){return n.op==="and"}function Dp(n){return n.op==="or"}function Nm(n){return VI(n)&&Ws(n)}function VI(n){for(const e of n.filters)if(e instanceof We)return!1;return!0}function Op(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Ks(n.value);if(Nm(n))return n.filters.map(e=>Op(e)).join(",");{const e=n.filters.map(t=>Op(t)).join(",");return`${n.op}(${e})`}}function UI(n,e){return n instanceof Re?function(t,r){return r instanceof Re&&t.op===r.op&&t.field.isEqual(r.field)&&nr(t.value,r.value)}(n,e):n instanceof We?function(t,r){return r instanceof We&&t.op===r.op&&t.filters.length===r.filters.length?t.filters.reduce((i,a,u)=>i&&UI(a,r.filters[u]),!0):!1}(n,e):void ie()}function jI(n,e){const t=n.filters.concat(e);return We.create(t,n.op)}function $I(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${Ks(e.value)}`}(n):n instanceof We?function(e){return e.op.toString()+" {"+e.getFilters().map($I).join(" ,")+"}"}(n):"Filter"}class cO extends Re{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){const t=J.comparator(e.key,this.key);return this.matchesComparison(t)}}class hO extends Re{constructor(e,t){super(e,"in",t),this.keys=BI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dO extends Re{constructor(e,t){super(e,"not-in",t),this.keys=BI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}class fO extends Re{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ha(t)&&za(t.arrayValue,this.value)}}class zI extends Re{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&za(this.value.arrayValue,t)}}class pO extends Re{constructor(e,t){super(e,"not-in",t)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!za(this.value.arrayValue,t)}}class mO extends Re{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ha(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.dt=null}}function Pp(n,e=null,t=[],r=[],i=null,a=null,u=null){return new gO(n,e,t,r,i,a,u)}function qi(n){const e=ue(n);if(e.dt===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Op(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ks(r)).join(",")),e.dt=t}return e.dt}function cu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!p0(n.startAt,e.startAt)&&p0(n.endAt,e.endAt)}function Ec(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Ic(n,e){return n.filters.filter(t=>t instanceof Re&&t.field.isEqual(e))}function m0(n,e,t){let r=Ql,i=!0;for(const a of Ic(n,e)){let u=Ql,h=!0;switch(a.op){case"<":case"<=":u=aO(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=Ql}h0({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];h0({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function g0(n,e,t){let r=Xr,i=!0;for(const a of Ic(n,e)){let u=Xr,h=!0;switch(a.op){case">=":case">":u=uO(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=Xr}d0({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];d0({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=d,this.wt=null,this._t=null,this.startAt,this.endAt}}function HI(n,e,t,r,i,a,u,h){return new fh(n,e,t,r,i,a,u,h)}function Mm(n){return new fh(n)}function v0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yO(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(t!==null)return t}return null}function wO(n){return n.collectionGroup!==null}function Vs(n){const e=ue(n);if(e.wt===null){e.wt=[];const t=yO(e),r=vO(e);if(t!==null&&r===null)t.isKeyField()||e.wt.push(new ka(t)),e.wt.push(new ka(wt.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ka(wt.keyField(),a))}}}return e.wt}function bn(n){const e=ue(n);if(!e._t)if(e.limitType==="F")e._t=Pp(e.path,e.collectionGroup,Vs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Vs(e)){const u=a.dir==="desc"?"asc":"desc";t.push(new ka(a.field,u))}const r=e.endAt?new Gs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gs(e.startAt.position,e.startAt.inclusive):null;e._t=Pp(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Rp(n,e,t){return new fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ph(n,e){return cu(bn(n),bn(e))&&n.limitType===e.limitType}function qI(n){return`${qi(bn(n))}|lt:${n.limitType}`}function Ap(n){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>$I(r)).join(", ")}]`),dh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ks(r)).join(",")),`Target(${t})`}(bn(n))}; limitType=${n.limitType})`}function hu(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):J.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Vs(t))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!function(i,a,u){const h=f0(i,a,u);return i.inclusive?h<=0:h<0}(t.startAt,Vs(t),r)||t.endAt&&!function(i,a,u){const h=f0(i,a,u);return i.inclusive?h>=0:h>0}(t.endAt,Vs(t),r))}(n,e)}function KI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GI(n){return(e,t)=>{let r=!1;for(const i of Vs(n)){const a=SO(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function SO(n,e,t){const r=n.field.isKeyField()?J.comparator(e.key,t.key):function(i,a,u){const h=a.data.field(i),d=u.data.field(i);return h!==null&&d!==null?si(h,d):ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return AI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Ye(J.comparator);function mn(){return EO}const WI=new Ye(J.comparator);function va(...n){let e=WI;for(const t of n)e=e.insert(t.key,t);return e}function QI(n){let e=WI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xn(){return xa()}function YI(){return xa()}function xa(){return new hi(n=>n.toString(),(n,e)=>n.isEqual(e))}const IO=new Ye(J.comparator),CO=new tt(J.comparator);function ke(...n){let e=CO;for(const t of n)e=e.add(t);return e}const TO=new tt(Ce);function Lm(){return TO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$a(e)?"-0":e}}function JI(n){return{integerValue:""+n}}function _O(n,e){return bI(e)?JI(e):XI(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function kO(n,e,t){return n instanceof qa?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Pm(i)&&(i=Rm(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Qs?e1(n,e):n instanceof Ys?t1(n,e):function(r,i){const a=ZI(r,i),u=y0(a)+y0(r.gt);return bp(a)&&bp(r.gt)?JI(u):XI(r.serializer,u)}(n,e)}function xO(n,e,t){return n instanceof Qs?e1(n,e):n instanceof Ys?t1(n,e):t}function ZI(n,e){return n instanceof Ka?bp(t=e)||function(r){return!!r&&"doubleValue"in r}(t)?e:{integerValue:0}:null;var t}class qa extends mh{}class Qs extends mh{constructor(e){super(),this.elements=e}}function e1(n,e){const t=n1(e);for(const r of n.elements)t.some(i=>nr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ys extends mh{constructor(e){super(),this.elements=e}}function t1(n,e){let t=n1(e);for(const r of n.elements)t=t.filter(i=>!nr(i,r));return{arrayValue:{values:t}}}class Ka extends mh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function y0(n){return lt(n.integerValue||n.doubleValue)}function n1(n){return Ha(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t){this.field=e,this.transform=t}}function DO(n,e){return n.field.isEqual(e.field)&&function(t,r){return t instanceof Qs&&r instanceof Qs||t instanceof Ys&&r instanceof Ys?qs(t.elements,r.elements,nr):t instanceof Ka&&r instanceof Ka?nr(t.gt,r.gt):t instanceof qa&&r instanceof qa}(n.transform,e.transform)}class OO{constructor(e,t){this.version=e,this.transformResults=t}}class gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gh{}function r1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Fm(n.key,gn.none()):new uo(n.key,n.data,gn.none());{const t=n.data,r=an.empty();let i=new tt(wt.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new di(n.key,r,new xn(i.toArray()),gn.none())}}function PO(n,e,t){n instanceof uo?function(r,i,a){const u=r.value.clone(),h=S0(r.fieldTransforms,i,a.transformResults);u.setAll(h),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof di?function(r,i,a){if(!Xl(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=S0(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(i1(r)),h.setAll(u),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function ba(n,e,t,r){return n instanceof uo?function(i,a,u,h){if(!Xl(i.precondition,a))return u;const d=i.value.clone(),p=E0(i.fieldTransforms,h,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof di?function(i,a,u,h){if(!Xl(i.precondition,a))return u;const d=E0(i.fieldTransforms,h,a),p=a.data;return p.setAll(i1(i)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(i,a,u){return Xl(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function RO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=ZI(r.transform,i||null);a!=null&&(t===null&&(t=an.empty()),t.set(r.field,a))}return t||null}function w0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&qs(t,r,(i,a)=>DO(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uo extends gh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends gh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function i1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function S0(n,e,t){const r=new Map;de(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,xO(u,h,t[i]))}return r}function E0(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,kO(a,u,e))}return r}class Fm extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&PO(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ba(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ba(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YI();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const d=r1(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(t,r)=>w0(t,r))&&qs(this.baseMutations,e.baseMutations,(t,r)=>w0(t,r))}}class Um{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){de(e.mutations.length===r.length);let i=IO;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Um(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ae;function NO(n){switch(n){default:return ie();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function o1(n){if(n===void 0)return mt("GRPC error has no .code"),V.UNKNOWN;switch(n){case vt.OK:return V.OK;case vt.CANCELLED:return V.CANCELLED;case vt.UNKNOWN:return V.UNKNOWN;case vt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case vt.INTERNAL:return V.INTERNAL;case vt.UNAVAILABLE:return V.UNAVAILABLE;case vt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case vt.NOT_FOUND:return V.NOT_FOUND;case vt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case vt.ABORTED:return V.ABORTED;case vt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case vt.DATA_LOSS:return V.DATA_LOSS;default:return ie()}}(Ae=vt||(vt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Nl}static getOrCreateInstance(){return Nl===null&&(Nl=new $m),Nl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Nl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Fs([4294967295,4294967295],0);function I0(n){const e=MO().encode(n),t=new _D;return t.update(e),new Uint8Array(t.digest())}function C0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fs([t,r],0),new Fs([i,a],0)]}class Bm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ya(`Invalid padding: ${t}`);if(r<0)throw new ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ya(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Fs.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Fs.fromNumber(r)));return i.compare(LO)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const t=I0(e),[r,i]=C0(t);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,i,a);if(!this.At(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Bm(a,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.It===0)return;const t=I0(e),[r,i]=C0(t);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,i,a);this.Rt(u)}}Rt(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new du(he.min(),i,new Ye(Ce),mn(),ke())}}class fu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fu(r,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class a1{constructor(e,t){this.targetId=e,this.Vt=t}}class u1{constructor(e,t,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class T0{constructor(){this.St=0,this.Dt=k0(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ke(),t=ke(),r=ke();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new fu(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=k0()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class FO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=mn(),this.zt=_0(),this.Wt=new Ye(Ce)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const u=a.target;if(Ec(u))if(i===0){const h=new J(u.path);this.Yt(r,h,ct.newNoDocument(h,he.min()))}else de(i===1);else{const h=this.ie(r);if(h!==i){const d=this.re(e,h);if(d!==0){this.ee(r);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,p)}(t=$m.instance)===null||t===void 0||t.notifyOnExistenceFilterMismatch(function(p,g,y){var S,I,x,k,C,D;const F={localCacheCount:g,existenceFilterCount:y.count},M=y.unchangedNames;return M&&(F.bloomFilter={applied:p===0,hashCount:(S=M==null?void 0:M.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(k=(x=(I=M==null?void 0:M.bits)===null||I===void 0?void 0:I.bitmap)===null||x===void 0?void 0:x.length)!==null&&k!==void 0?k:0,padding:(D=(C=M==null?void 0:M.bits)===null||C===void 0?void 0:C.padding)!==null&&D!==void 0?D:0}),F}(d,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=r;let d,p;try{d=ii(a).toUint8Array()}catch(g){if(g instanceof NI)return ni("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw g}try{p=new Bm(d,u,h)}catch(g){return ni(g instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",g),1}return p.It===0?1:i!==t-this.oe(e.targetId,p)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const u=this.Gt.ue(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.vt(h)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,u)=>{const h=this.se(u);if(h){if(a.current&&Ec(h.target)){const d=new J(h.target.path);this.jt.get(d)!==null||this.ae(u,d)||this.Yt(u,d,ct.newNoDocument(d,e))}a.Mt&&(t.set(u,a.Ot()),a.Ft())}});let r=ke();this.zt.forEach((a,u)=>{let h=!0;u.forEachWhile(d=>{const p=this.se(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.jt.forEach((a,u)=>u.setReadTime(e));const i=new du(e,t,this.Wt,this.jt,r);return this.jt=mn(),this.zt=_0(),this.Wt=new Ye(Ce),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new T0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new tt(Ce),this.zt=this.zt.insert(e,t)),t}te(e){const t=this.se(e)!==null;return t||H("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new T0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function _0(){return new Ye(J.comparator)}function k0(){return new Ye(J.comparator)}const VO={asc:"ASCENDING",desc:"DESCENDING"},UO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class $O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Np(n,e){return n.useProto3Json||dh(e)?e:{value:e}}function Xs(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BO(n,e){return Xs(n,e.toTimestamp())}function Xt(n){return de(!!n),he.fromTimestamp(function(e){const t=ri(e);return new at(t.seconds,t.nanos)}(n))}function zm(n,e){return function(t){return new Ke(["projects",t.projectId,"databases",t.database])}(n).child("documents").child(e).canonicalString()}function c1(n){const e=Ke.fromString(n);return de(y1(e)),e}function Cc(n,e){return zm(n.databaseId,e.path)}function Vi(n,e){const t=c1(e);if(t.get(1)!==n.databaseId.projectId)throw new te(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(d1(t))}function Mp(n,e){return zm(n.databaseId,e)}function h1(n){const e=c1(n);return e.length===4?Ke.emptyPath():d1(e)}function Lp(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d1(n){return de(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function x0(n,e,t){return{name:Cc(n,e),fields:t.value.mapValue.fields}}function zO(n,e,t){const r=Vi(n,e.name),i=Xt(e.updateTime),a=e.createTime?Xt(e.createTime):he.min(),u=new an({mapValue:{fields:e.fields}}),h=ct.newFoundDocument(r,i,a,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function HO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,p){return d.useProto3Json?(de(p===void 0||typeof p=="string"),Dt.fromBase64String(p||"")):(de(p===void 0||p instanceof Uint8Array),Dt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const p=d.code===void 0?V.UNKNOWN:o1(d.code);return new te(p,d.message||"")}(u);t=new u1(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vi(n,r.document.name),a=Xt(r.document.updateTime),u=r.document.createTime?Xt(r.document.createTime):he.min(),h=new an({mapValue:{fields:r.document.fields}}),d=ct.newFoundDocument(i,a,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Jl(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vi(n,r.document),a=r.readTime?Xt(r.readTime):he.min(),u=ct.newNoDocument(i,a),h=r.removedTargetIds||[];t=new Jl([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vi(n,r.document),a=r.removedTargetIds||[];t=new Jl([],a,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new AO(i,a),h=r.targetId;t=new a1(h,u)}}return t}function Tc(n,e){let t;if(e instanceof uo)t={update:x0(n,e.key,e.value)};else if(e instanceof Fm)t={delete:Cc(n,e.key)};else if(e instanceof di)t={update:x0(n,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof s1))return ie();t={verify:Cc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof qa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ys)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ka)return{fieldPath:a.field.canonicalString(),increment:u.gt};throw ie()}(0,r))),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:BO(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(n,e.precondition)),t}function Fp(n,e){const t=e.currentDocument?function(i){return i.updateTime!==void 0?gn.updateTime(Xt(i.updateTime)):i.exists!==void 0?gn.exists(i.exists):gn.none()}(e.currentDocument):gn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let h=null;if("setToServerValue"in u)de(u.setToServerValue==="REQUEST_TIME"),h=new qa;else if("appendMissingElements"in u){const p=u.appendMissingElements.values||[];h=new Qs(p)}else if("removeAllFromArray"in u){const p=u.removeAllFromArray.values||[];h=new Ys(p)}else"increment"in u?h=new Ka(a,u.increment):ie();const d=wt.fromServerFormat(u.fieldPath);return new bO(d,h)}(n,i)):[];if(e.update){e.update.name;const i=Vi(n,e.update.name),a=new an({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(h){const d=h.fieldPaths||[];return new xn(d.map(p=>wt.fromServerFormat(p)))}(e.updateMask);return new di(i,a,u,t,r)}return new uo(i,a,t,r)}if(e.delete){const i=Vi(n,e.delete);return new Fm(i,t)}if(e.verify){const i=Vi(n,e.verify);return new s1(i,t)}return ie()}function qO(n,e){return n&&n.length>0?(de(e!==void 0),n.map(t=>function(r,i){let a=r.updateTime?Xt(r.updateTime):Xt(i);return a.isEqual(he.min())&&(a=Xt(i)),new OO(a,r.transformResults||[])}(t,e))):[]}function f1(n,e){return{documents:[Mp(n,e.path)]}}function p1(n,e){const t={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(t.parent=Mp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Mp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(d){if(d.length!==0)return v1(We.create(d,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(p=>function(g){return{field:Ps(g.field),direction:GO(g.dir)}}(p))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=Np(n,e.limit);var h;return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),t}function m1(n){let e=h1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){de(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(g){const y=g1(g);return y instanceof We&&Nm(y)?y.getFilters():[y]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(g=>function(y){return new ka(Rs(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g)));let h=null;t.limit&&(h=function(g){let y;return y=typeof g=="object"?g.value:g,dh(y)?null:y}(t.limit));let d=null;t.startAt&&(d=function(g){const y=!!g.before,S=g.values||[];return new Gs(S,y)}(t.startAt));let p=null;return t.endAt&&(p=function(g){const y=!g.before,S=g.values||[];return new Gs(S,y)}(t.endAt)),HI(e,i,u,a,h,"F",d,p)}function KO(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rs(e.unaryFilter.field);return Re.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Rs(e.unaryFilter.field);return Re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rs(e.unaryFilter.field);return Re.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Rs(e.unaryFilter.field);return Re.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Rs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return We.create(e.compositeFilter.filters.map(t=>g1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ie()}}(e.compositeFilter.op))}(n):ie()}function GO(n){return VO[n]}function WO(n){return UO[n]}function QO(n){return jO[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function Rs(n){return wt.fromServerFormat(n.fieldPath)}function v1(n){return n instanceof Re?function(e){if(e.op==="=="){if(c0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NAN"}};if(l0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(c0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NAN"}};if(l0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(e.field),op:WO(e.op),value:e.value}}}(n):n instanceof We?function(e){const t=e.getFilters().map(r=>v1(r));return t.length===1?t[0]:{compositeFilter:{op:QO(e.op),filters:t}}}(n):ie()}function YO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function y1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t,r,i,a=he.min(),u=he.min(),h=Dt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.fe=e}}function XO(n,e){let t;if(e.document)t=zO(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=J.fromSegments(e.noDocument.path),i=Gi(e.noDocument.readTime);t=ct.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ie();{const r=J.fromSegments(e.unknownDocument.path),i=Gi(e.unknownDocument.version);t=ct.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new at(r[0],r[1]);return he.fromTimestamp(i)}(e.readTime)),t}function b0(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_c(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,a){return{name:Cc(i,a.key),fields:a.data.value.mapValue.fields,updateTime:Xs(i,a.version.toTimestamp()),createTime:Xs(i,a.createTime.toTimestamp())}}(n.fe,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ki(e.version)};else{if(!e.isUnknownDocument())return ie();r.unknownDocument={path:t.path.toArray(),version:Ki(e.version)}}return r}function _c(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ki(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gi(n){const e=new at(n.seconds,n.nanoseconds);return he.fromTimestamp(e)}function Ri(n,e){const t=(e.baseMutations||[]).map(a=>Fp(n.fe,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const h=e.mutations[a+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>Fp(n.fe,a)),i=at.fromMillis(e.localWriteTimeMs);return new Vm(e.batchId,i,t,r)}function wa(n){const e=Gi(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Gi(n.lastLimboFreeSnapshotVersion):he.min();let r;var i;return n.query.documents!==void 0?(de((i=n.query).documents.length===1),r=bn(Mm(h1(i.documents[0])))):r=function(a){return bn(m1(a))}(n.query),new fr(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Dt.fromBase64String(n.resumeToken))}function S1(n,e){const t=Ki(e.snapshotVersion),r=Ki(e.lastLimboFreeSnapshotVersion);let i;i=Ec(e.target)?f1(n.fe,e.target):p1(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qi(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function E1(n){const e=m1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rp(e,e.limit,"L"):e}function zf(n,e){return new jm(e.largestBatchId,Fp(n.fe,e.overlayMutation))}function D0(n,e){const t=e.path.lastSegment();return[n,Yt(e.path.popLast()),t]}function O0(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ki(r.readTime),documentKey:Yt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{getBundleMetadata(e,t){return P0(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Gi(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return P0(e).put({bundleId:(r=t).id,createTime:Ki(Xt(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return R0(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:E1(i.bundledQuery),readTime:Gi(i.readTime)};var i})}saveNamedQuery(e,t){return R0(e).put(function(r){return{name:r.name,readTime:Ki(Xt(r.readTime)),bundledQuery:r.bundledQuery}}(t))}}function P0(n){return Pt(n,"bundles")}function R0(n){return Pt(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const r=t.uid||"";return new vh(e,r)}getOverlay(e,t){return sa(e).get(D0(this.userId,t)).next(r=>r?zf(this.serializer,r):null)}getOverlays(e,t){const r=Xn();return P.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const h=new jm(t,u);i.push(this.we(e,h))}),P.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Yt(u.getCollectionPath())));const a=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(sa(e).J("collectionPathOverlayIndex",h))}),P.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Xn(),a=Yt(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sa(e).j("collectionPathOverlayIndex",u).next(h=>{for(const d of h){const p=zf(this.serializer,d);i.set(p.getKey(),p)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Xn();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sa(e).X({index:"collectionGroupOverlayIndex",range:h},(d,p,g)=>{const y=zf(this.serializer,p);a.size()<i||y.largestBatchId===u?(a.set(y.getKey(),y),u=y.largestBatchId):g.done()}).next(()=>a)}we(e,t){return sa(e).put(function(r,i,a){const[u,h,d]=D0(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Tc(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function sa(n){return Pt(n,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),$a(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),typeof r=="string"?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ii(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?MI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ie()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),J.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ai.Ve=new Ai;function ZO(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function A0(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=ZO(255&t[i]);if(r+=a,a!==8)break}return r}(n);return Math.ceil(e/8)}class eP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=A0(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=A0(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;t===0?(this.Ue(0),this.Ue(255)):t===255?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;t===0?(this.Ge(0),this.Ge(255)):t===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class tP{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class nP{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class oa{constructor(){this.je=new eP,this.ze=new tP(this.je),this.We=new nP(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ni(this.indexId,this.documentKey,this.arrayValue,r)}}function zr(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=N0(n.arrayValue,e.arrayValue),t!==0?t:(t=N0(n.directionalValue,e.directionalValue),t!==0?t:J.comparator(n.documentKey,e.documentKey)))}function N0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){de(e.collectionGroup===this.collectionId);const t=_p(e);if(t!==void 0&&!this.en(t))return!1;const r=Oi(e);let i=new Set,a=0,u=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Ze!==void 0){if(!i.has(this.Ze.field.canonicalString())){const h=r[a];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[u++],h))return!1}++a}for(;a<r.length;++a){const h=r[a];if(u>=this.Ye.length||!this.sn(this.Ye[u++],h))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){var e,t;if(de(n instanceof Re||n instanceof We),n instanceof Re){if(n instanceof zI){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(a=>Re.create(n.field,"==",a)))||[];return We.create(i,"or")}return n}const r=n.filters.map(i=>I1(i));return We.create(r,n.op)}function iP(n){if(n.getFilters().length===0)return[];const e=jp(I1(n));return de(C1(e)),Vp(e)||Up(e)?[e]:e.getFilters()}function Vp(n){return n instanceof Re}function Up(n){return n instanceof We&&Nm(n)}function C1(n){return Vp(n)||Up(n)||function(e){if(e instanceof We&&Dp(e)){for(const t of e.getFilters())if(!Vp(t)&&!Up(t))return!1;return!0}return!1}(n)}function jp(n){if(de(n instanceof Re||n instanceof We),n instanceof Re)return n;if(n.filters.length===1)return jp(n.filters[0]);const e=n.filters.map(r=>jp(r));let t=We.create(e,n.op);return t=kc(t),C1(t)?t:(de(t instanceof We),de(Ws(t)),de(t.filters.length>1),t.filters.reduce((r,i)=>Hm(r,i)))}function Hm(n,e){let t;return de(n instanceof Re||n instanceof We),de(e instanceof Re||e instanceof We),t=n instanceof Re?e instanceof Re?function(r,i){return We.create([r,i],"and")}(n,e):M0(n,e):e instanceof Re?M0(e,n):function(r,i){if(de(r.filters.length>0&&i.filters.length>0),Ws(r)&&Ws(i))return jI(r,i.getFilters());const a=Dp(r)?r:i,u=Dp(r)?i:r,h=a.filters.map(d=>Hm(d,u));return We.create(h,"or")}(n,e),kc(t)}function M0(n,e){if(Ws(e))return jI(e,n.getFilters());{const t=e.filters.map(r=>Hm(n,r));return We.create(t,"or")}}function kc(n){if(de(n instanceof Re||n instanceof We),n instanceof Re)return n;const e=n.getFilters();if(e.length===1)return kc(e[0]);if(VI(n))return n;const t=e.map(i=>kc(i)),r=[];return t.forEach(i=>{i instanceof Re?r.push(i):i instanceof We&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:We.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.rn=new qm}addToCollectionParentIndex(e,t){return this.rn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(wn.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(wn.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}}class qm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tt(Ke.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Uint8Array(0);class oP{constructor(e,t){this.user=e,this.databaseId=t,this.on=new qm,this.un=new hi(r=>qi(r),(r,i)=>cu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Yt(i)};return L0(e).put(a)}return P.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[II(t),""],!1,!0);return L0(e).j(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(Yn(u.parent))}return r})}addFieldIndex(e,t){const r=Ll(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])}}(t);delete i.indexId;const a=r.add(i);if(t.indexState){const u=ua(e);return a.next(h=>{u.put(O0(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Ll(e),i=ua(e),a=aa(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=aa(e);let i=!0;const a=new Map;return P.forEach(this.cn(t),u=>this.an(e,u).next(h=>{i&&(i=!!h),a.set(u,h)})).next(()=>{if(i){let u=ke();const h=[];return P.forEach(a,(d,p)=>{var g;H("IndexedDbIndexManager",`Using index ${g=d,`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(M=>`${M.fieldPath}:${M.kind}`).join(",")}`} to execute ${qi(t)}`);const y=function(M,B){const R=_p(B);if(R===void 0)return null;for(const U of Ic(M,R.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null}(p,d),S=function(M,B){const R=new Map;for(const U of Oi(B))for(const z of Ic(M,U.fieldPath))switch(z.op){case"==":case"in":R.set(U.fieldPath.canonicalString(),z.value);break;case"not-in":case"!=":return R.set(U.fieldPath.canonicalString(),z.value),Array.from(R.values())}return null}(p,d),I=function(M,B){const R=[];let U=!0;for(const z of Oi(B)){const Z=z.kind===0?m0(M,z.fieldPath,M.startAt):g0(M,z.fieldPath,M.startAt);R.push(Z.value),U&&(U=Z.inclusive)}return new Gs(R,U)}(p,d),x=function(M,B){const R=[];let U=!0;for(const z of Oi(B)){const Z=z.kind===0?g0(M,z.fieldPath,M.endAt):m0(M,z.fieldPath,M.endAt);R.push(Z.value),U&&(U=Z.inclusive)}return new Gs(R,U)}(p,d),k=this.hn(d,p,I),C=this.hn(d,p,x),D=this.ln(d,p,S),F=this.fn(d.indexId,y,k,I.inclusive,C,x.inclusive,D);return P.forEach(F,M=>r.H(M,t.limit).next(B=>{B.forEach(R=>{const U=J.fromSegments(R.documentKey);u.has(U)||(u=u.add(U),h.push(U))})}))}).next(()=>h)}return P.resolve(null)})}cn(e){let t=this.un.get(e);return t||(e.filters.length===0?t=[e]:t=iP(We.create(e.filters,"and")).map(r=>Pp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,a.length),p=d/(t!=null?t.length:1),g=[];for(let y=0;y<d;++y){const S=t?this.dn(t[y/p]):Ml,I=this.wn(e,S,r[y%p],i),x=this._n(e,S,a[y%p],u),k=h.map(C=>this.wn(e,S,C,!0));g.push(...this.createRange(I,x,k))}return g}wn(e,t,r,i){const a=new Ni(e,J.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new Ni(e,J.empty(),t,r);return i?a.Je():a}an(e,t){const r=new rP(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const h of a)r.tn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.cn(t);return P.forEach(i,a=>this.an(e,a).next(u=>{u?r!==0&&u.fields.length<function(h){let d=new tt(wt.comparator),p=!1;for(const g of h.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?p=!0:d=d.add(y.field));for(const g of h.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(p?1:0)}(a)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(t)&&i.length>1&&r===2?1:r)}mn(e,t){const r=new oa;for(const i of Oi(e)){const a=t.data.field(i.fieldPath);if(a==null)return null;const u=r.He(i.kind);Ai.Ve._e(a,u)}return r.Qe()}dn(e){const t=new oa;return Ai.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new oa;return Ai.Ve._e(Am(this.databaseId,t),r.He(function(i){const a=Oi(i);return a.length===0?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(r===null)return[];let i=[];i.push(new oa);let a=0;for(const u of Oi(e)){const h=r[a++];for(const d of i)if(this.yn(t,u.fieldPath)&&Ha(h))i=this.pn(i,u,h);else{const p=d.He(u.kind);Ai.Ve._e(h,p)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new oa;d.seed(h.Qe()),Ai.Ve._e(u,d.He(t.kind)),a.push(d)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof Re&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Ll(e),i=ua(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const u=[];return P.forEach(a,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(p,g){const y=g?new Sc(g.sequenceNumber,new wn(Gi(g.readTime),new J(Yn(g.documentKey)),g.largestBatchId)):Sc.empty(),S=p.fields.map(([I,x])=>new LD(wt.fromServerFormat(I),x));return new CI(p.indexId,p.collectionGroup,S,y)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Ce(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ll(e),a=ua(e);return this.Tn(e).next(u=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>P.forEach(h,d=>a.put(O0(d.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return P.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?P.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),P.forEach(h,d=>this.En(e,i,d).next(p=>{const g=this.An(a,d);return p.isEqual(g)?P.resolve():this.vn(e,a,d,p,g)}))))})}Rn(e,t,r,i){return aa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return aa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=aa(e);let a=new tt(zr);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(u,h)=>{a=a.add(new Ni(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}An(e,t){let r=new tt(zr);const i=this.mn(t,e);if(i==null)return r;const a=_p(t);if(a!=null){const u=e.data.field(a.fieldPath);if(Ha(u))for(const h of u.arrayValue.values||[])r=r.add(new Ni(t.indexId,e.key,this.dn(h),i))}else r=r.add(new Ni(t.indexId,e.key,Ml,i));return r}vn(e,t,r,i,a){H("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,d,p,g,y){const S=h.getIterator(),I=d.getIterator();let x=ks(S),k=ks(I);for(;x||k;){let C=!1,D=!1;if(x&&k){const F=p(x,k);F<0?D=!0:F>0&&(C=!0)}else x!=null?D=!0:C=!0;C?(g(k),k=ks(I)):D?(y(x),x=ks(S)):(x=ks(S),k=ks(I))}}(i,a,zr,h=>{u.push(this.Rn(e,t,r,h))},h=>{u.push(this.Pn(e,t,r,h))}),P.waitFor(u)}Tn(e){let t=1;return ua(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>zr(u,h)).filter((u,h,d)=>!h||zr(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=zr(u,e),d=zr(u,t);if(h===0)i[0]=e.Je();else if(h>0&&d<0)i.push(u),i.push(u.Je());else if(d>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2){if(this.bn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,Ml,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,Ml,[]];a.push(IDBKeyRange.bound(h,d))}return a}bn(e,t){return zr(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(F0)}getMinOffset(e,t){return P.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ie())).next(F0)}}function L0(n){return Pt(n,"collectionParents")}function aa(n){return Pt(n,"indexEntries")}function Ll(n){return Pt(n,"indexConfiguration")}function ua(n){return Pt(n,"indexState")}function F0(n){de(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Dm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new wn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class on{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.X({range:u},(g,y,S)=>(h++,S.delete()));a.push(d.next(()=>{de(h===1)}));const p=[];for(const g of t.mutations){const y=DI(e,g.key.path,t.batchId);a.push(i.delete(y)),p.push(g.key)}return P.waitFor(a).next(()=>p)}function xc(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ie();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class yh{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){de(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new yh(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hr(e).X({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=As(e),u=Hr(e);return u.add({}).next(h=>{de(typeof h=="number");const d=new Vm(h,t,r,i),p=function(S,I,x){const k=x.baseMutations.map(D=>Tc(S.fe,D)),C=x.mutations.map(D=>Tc(S.fe,D));return{userId:I,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:k,mutations:C}}(this.serializer,this.userId,d),g=[];let y=new tt((S,I)=>Ce(S.canonicalString(),I.canonicalString()));for(const S of i){const I=DI(this.userId,S.key.path,h);y=y.add(S.key.path.popLast()),g.push(u.put(p)),g.push(a.put(I,BD))}return y.forEach(S=>{g.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.Vn[h]=d.keys()}),P.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Hr(e).get(t).next(r=>r?(de(r.userId===this.userId),Ri(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?P.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Hr(e).X({index:"userMutationsIndex",range:i},(u,h,d)=>{h.userId===this.userId&&(de(h.batchId>=r),a=Ri(this.serializer,h)),d.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Hr(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hr(e).j("userMutationsIndex",t).next(r=>r.map(i=>Ri(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Wl(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return As(e).X({range:i},(u,h,d)=>{const[p,g,y]=u,S=Yn(g);if(p===this.userId&&t.path.isEqual(S))return Hr(e).get(y).next(I=>{if(!I)throw ie();de(I.userId===this.userId),a.push(Ri(this.serializer,I))});d.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tt(Ce);const i=[];return t.forEach(a=>{const u=Wl(this.userId,a.path),h=IDBKeyRange.lowerBound(u),d=As(e).X({range:h},(p,g,y)=>{const[S,I,x]=p,k=Yn(I);S===this.userId&&a.path.isEqual(k)?r=r.add(x):y.done()});i.push(d)}),P.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Wl(this.userId,r),u=IDBKeyRange.lowerBound(a);let h=new tt(Ce);return As(e).X({range:u},(d,p,g)=>{const[y,S,I]=d,x=Yn(S);y===this.userId&&r.isPrefixOf(x)?x.length===i&&(h=h.add(I)):g.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Hr(e).get(a).next(u=>{if(u===null)throw ie();de(u.userId===this.userId),r.push(Ri(this.serializer,u))}))}),P.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return T1(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),P.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return P.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return As(e).X({range:r},(a,u,h)=>{if(a[0]===this.userId){const d=Yn(a[1]);i.push(d)}else h.done()}).next(()=>{de(i.length===0)})})}containsKey(e,t){return _1(e,this.userId,t)}xn(e){return k1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _1(n,e,t){const r=Wl(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return As(n).X({range:a,Y:!0},(h,d,p)=>{const[g,y,S]=h;g===e&&y===i&&(u=!0),p.done()}).next(()=>u)}function Hr(n){return Pt(n,"mutations")}function As(n){return Pt(n,"documentMutations")}function k1(n){return Pt(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Wi(0)}static Mn(){return new Wi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Wi(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>he.fromTimestamp(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xs(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(de(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return xs(e).X((u,h)=>{const d=wa(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,a.push(this.removeTargetData(e,d)))}).next(()=>P.waitFor(a)).next(()=>i)}forEachTarget(e,t){return xs(e).X((r,i)=>{const a=wa(i);t(a)})}$n(e){return U0(e).get("targetGlobalKey").next(t=>(de(t!==null),t))}On(e,t){return U0(e).put("targetGlobalKey",t)}Fn(e,t){return xs(e).put(S1(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=qi(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return xs(e).X({range:i,index:"queryTargetsIndex"},(u,h,d)=>{const p=wa(h);cu(t,p.target)&&(a=p,d.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Kr(e);return t.forEach(u=>{const h=Yt(u.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),P.waitFor(i)}removeMatchingKeys(e,t,r){const i=Kr(e);return P.forEach(t,a=>{const u=Yt(a.path);return P.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Kr(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Kr(e);let a=ke();return i.X({range:r,Y:!0},(u,h,d)=>{const p=Yn(u[1]),g=new J(p);a=a.add(g)}).next(()=>a)}containsKey(e,t){const r=Yt(t.path),i=IDBKeyRange.bound([r],[II(r)],!1,!0);let a=0;return Kr(e).X({index:"documentTargetsIndex",Y:!0,range:i},([u,h],d,p)=>{u!==0&&(a++,p.done())}).next(()=>a>0)}le(e,t){return xs(e).get(t).next(r=>r?wa(r):null)}}function xs(n){return Pt(n,"targets")}function U0(n){return Pt(n,"targetGlobal")}function Kr(n){return Pt(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0([n,e],[t,r]){const i=Ce(n,t);return i===0?Ce(e,r):i}class uP{constructor(e){this.Ln=e,this.buffer=new tt(j0),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();j0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ci(t)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await li(t)}await this.Qn(3e5)})}}class cP{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(un.ct);const r=new uP(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(V0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,u,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,u=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,h=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),Tp()<=Le.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function hP(n,e){return new cP(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.db=e,this.garbageCollector=hP(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return Fl(e,r)}removeReference(e,t,r){return Fl(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Fl(e,t)}Xn(e,t){return function(r,i){let a=!1;return k1(r).Z(u=>_1(r,u,i).next(h=>(h&&(a=!0),P.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(u,h)=>{if(h<=t){const d=this.Xn(e,u).next(p=>{if(!p)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,he.min()),Kr(e).delete([0,Yt(u.path)])))});i.push(d)}}).next(()=>P.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Fl(e,t)}Yn(e,t){const r=Kr(e);let i,a=un.ct;return r.X({index:"documentTargetsIndex"},([u,h],{path:d,sequenceNumber:p})=>{u===0?(a!==un.ct&&t(new J(Yn(i)),a),a=p,i=d):a=un.ct}).next(()=>{a!==un.ct&&t(new J(Yn(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fl(n,e){return Kr(n).put(function(t,r){return{targetId:0,path:Yt(t.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.changes=new hi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bi(e).put(r)}removeEntry(e,t,r){return bi(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],_c(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=ct.newInvalidDocument(t);return bi(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(la(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:ct.newInvalidDocument(t)};return bi(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(la(t))},(i,a)=>{r={document:this.ts(t,a),size:xc(a)}}).next(()=>r)}getEntries(e,t){let r=mn();return this.ns(e,t,(i,a)=>{const u=this.ts(i,a);r=r.insert(i,u)}).next(()=>r)}ss(e,t){let r=mn(),i=new Ye(J.comparator);return this.ns(e,t,(a,u)=>{const h=this.ts(a,u);r=r.insert(a,h),i=i.insert(a,xc(u))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return P.resolve();let i=new tt(z0);t.forEach(d=>i=i.add(d));const a=IDBKeyRange.bound(la(i.first()),la(i.last())),u=i.getIterator();let h=u.getNext();return bi(e).X({index:"documentKeyIndex",range:a},(d,p,g)=>{const y=J.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&z0(h,y)<0;)r(h,null),h=u.getNext();h&&h.isEqual(y)&&(r(h,p),h=u.hasNext()?u.getNext():null),h?g.G(la(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),_c(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bi(e).j(IDBKeyRange.bound(u,h,!0)).next(d=>{let p=mn();for(const g of d){const y=this.ts(J.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(hu(t,y)||i.has(y.key))&&(p=p.insert(y.key,y))}return p})}getAllFromCollectionGroup(e,t,r,i){let a=mn();const u=B0(t,r),h=B0(t,wn.max());return bi(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(d,p,g)=>{const y=this.ts(J.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);a=a.insert(y.key,y),a.size===i&&g.done()}).next(()=>a)}newChangeBuffer(e){return new pP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $0(e).get("remoteDocumentGlobalKey").next(t=>(de(!!t),t))}Zn(e,t){return $0(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=XO(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return ct.newInvalidDocument(e)}}function b1(n){return new fP(n)}class pP extends x1{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new hi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new tt((a,u)=>Ce(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.us.get(a);if(t.push(this.os.removeEntry(e,a,h.readTime)),u.isValidDocument()){const d=b0(this.os.serializer,u);i=i.add(a.path.popLast());const p=xc(d);r+=p-h.size,t.push(this.os.addEntry(e,a,d))}else if(r-=h.size,this.trackRemovals){const d=b0(this.os.serializer,u.convertToNoDocument(he.min()));t.push(this.os.addEntry(e,a,d))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),P.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,u)=>{this.us.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function $0(n){return Pt(n,"remoteDocumentGlobal")}function bi(n){return Pt(n,"remoteDocumentsV14")}function la(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function B0(n,e){const t=e.documentKey.path.toArray();return[n,_c(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function z0(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Ce(t[a],r[a]),i)return i;return i=Ce(t.length,r.length),i||(i=Ce(t[t.length-2],r[r.length-2]),i||Ce(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ba(r.mutation,i,xn.empty(),at.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){const i=Xn();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=va();return a.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Xn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let a=mn();const u=xa(),h=xa();return t.forEach((d,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof di)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),ba(g.mutation,p,g.mutation.getFieldMask(),at.now())):u.set(p.key,xn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>{var y;return h.set(p,new mP(g,(y=u.get(p))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,t){const r=xa();let i=new Ye((u,h)=>u-h),a=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let g=r.get(d)||xn.empty();g=h.applyToLocalView(p,g),r.set(d,g);const y=(i.get(h.batchId)||ke()).add(d);i=i.insert(h.batchId,y)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,y=YI();g.forEach(S=>{if(!a.has(S)){const I=r1(t.get(S),r.get(S));I!==null&&y.set(S,I),a=a.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return P.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return function(i){return J.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):P.resolve(Xn());let h=-1,d=a;return u.next(p=>P.forEach(p,(g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),a.get(g)?P.resolve():this.remoteDocumentCache.getEntry(e,g).next(S=>{d=d.insert(g,S)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,ke())).next(g=>({batchId:h,changes:QI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=va();return this.indexManager.getCollectionParents(e,i).next(u=>P.forEach(u,h=>{const d=function(p,g){return new fh(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r).next(p=>{p.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((h,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,ct.newInvalidDocument(p)))});let u=va();return a.forEach((h,d)=>{const p=i.get(h);p!==void 0&&ba(p.mutation,d,xn.empty(),at.now()),hu(t,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return P.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Xt(r.createTime)}),P.resolve()}getNamedQuery(e,t){return P.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(r){return{name:r.name,query:E1(r.bundledQuery),readTime:Xt(r.readTime)}}(t)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.overlays=new Ye(J.comparator),this.ls=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xn();return P.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),P.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){const i=Xn(),a=t.length+1,u=new J(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ye((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Xn(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Xn(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=i)););return P.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new jm(t,r));let a=this.ls.get(t);a===void 0&&(a=ke(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.fs=new tt(kt.ds),this.ws=new tt(kt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new kt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new kt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new J(new Ke([])),r=new kt(t,e),i=new kt(t,e+1),a=[];return this.ws.forEachInRange([r,i],u=>{this.ys(u),a.push(u.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new J(new Ke([])),r=new kt(t,e),i=new kt(t,e+1);let a=ke();return this.ws.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.fs.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return J.comparator(e.key,t.key)||Ce(e.As,t.As)}static _s(e,t){return Ce(e.As,t.As)||J.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new tt(kt.ds)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Vm(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Rs=this.Rs.add(new kt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return P.resolve(u)}lookupMutationBatch(e,t){return P.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.bs(r),a=i<0?0:i;return P.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),i=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],u=>{const h=this.Ps(u.As);a.push(h)}),P.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tt(Ce);return t.forEach(i=>{const a=new kt(i,0),u=new kt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],h=>{r=r.add(h.As)})}),P.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;J.isDocumentKey(a)||(a=a.child(""));const u=new kt(new J(a),0);let h=new tt(Ce);return this.Rs.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(d.As)),!0)},u),P.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){de(this.Ss(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return P.forEach(t.mutations,i=>{const a=new kt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new kt(t,0),i=this.Rs.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Ss(e,t){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.Ds=e,this.docs=new Ye(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(t))}getEntries(e,t){let r=mn();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ct.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=mn();const u=t.path,h=new J(u.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Dm(_I(g),r)<=0||(i.has(g.key)||hu(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return P.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ie()}Cs(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SP(this)}getSize(e){return P.resolve(this.size)}}class SP extends x1{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.persistence=e,this.xs=new hi(t=>qi(t),cu),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Km,this.targetCount=0,this.Ms=Wi.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),P.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Wi(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Fn(t),P.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.xs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),P.waitFor(a).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),P.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),P.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.ks.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.$s={},this.overlays={},this.Os=new un(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new EP(this),this.indexManager=new sP,this.remoteDocumentCache=function(r){return new wP(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new w1(t),this.qs=new gP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new yP(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){H("MemoryPersistence","Starting transaction:",e);const i=new IP(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return P.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class IP extends xI{constructor(e){super(),this.currentSequenceNumber=e}}class wh{constructor(e){this.persistence=e,this.Qs=new Km,this.js=null}static zs(e){return new wh(e)}get Ws(){if(this.js)return this.js;throw ie()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),P.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,he.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return P.or([()=>P.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.serializer=e}O(e,t,r,i){const a=new hh("createOrUpgrade",t);r<1&&i>=1&&(function(h){h.createObjectStore("owner")}(e),function(h){h.createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",s0,{unique:!0}),h.createObjectStore("documentMutations")}(e),H0(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=P.resolve();return r<3&&i>=3&&(r!==0&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),H0(e)),u=u.next(()=>function(h){const d=h.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",p)}(a))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(h,d){return d.store("mutations").j().next(p=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",s0,{unique:!0});const g=d.store("mutations"),y=p.map(S=>g.put(S));return P.waitFor(y)})}(e,a))),u=u.next(()=>{(function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.Ys(a))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(u=u.next(()=>this.Zs(a))),r<8&&i>=8&&(u=u.next(()=>this.ti(e,a))),r<9&&i>=9&&(u=u.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.ei(a))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(h){const d=h.createObjectStore("documentOverlays",{keyPath:eO});d.createIndex("collectionPathOverlayIndex",tO,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",nO,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const d=h.createObjectStore("remoteDocumentsV14",{keyPath:zD});d.createIndex("documentKeyIndex",HD),d.createIndex("collectionGroupIndex",qD)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.si(e,a))),r<15&&i>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:YD}).createIndex("sequenceNumberIndex",XD,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:JD}).createIndex("documentKeyIndex",ZD,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=xc(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>P.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(h=>P.forEach(h,d=>{de(d.userId===a.userId);const p=Ri(this.serializer,d);return T1(e,a.userId,p).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((u,h)=>{const d=new Ke(u),p=function(g){return[0,Yt(g)]}(d);a.push(t.get(p).next(g=>g?P.resolve():(y=>t.put({targetId:0,path:Yt(y),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>P.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:QD});const r=t.store("collectionParents"),i=new qm,a=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Yt(d)})}};return t.store("remoteDocuments").X({Y:!0},(u,h)=>{const d=new Ke(u);return a(d.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,h,d],p)=>{const g=Yn(h);return a(g.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=wa(i),u=S1(this.serializer,a);return t.put(u)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,u)=>{const h=t.store("remoteDocumentsV14"),d=(p=u,p.document?new J(Ke.fromString(p.document.name).popFirst(5)):p.noDocument?J.fromSegments(p.noDocument.path):p.unknownDocument?J.fromSegments(p.unknownDocument.path):ie()).path.toArray();var p;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const g={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(g))}).next(()=>P.waitFor(i))}si(e,t){const r=t.store("mutations"),i=b1(this.serializer),a=new O1(wh.zs,this.serializer.fe);return r.j().next(u=>{const h=new Map;return u.forEach(d=>{var p;let g=(p=h.get(d.userId))!==null&&p!==void 0?p:ke();Ri(this.serializer,d).keys().forEach(y=>g=g.add(y)),h.set(d.userId,g)}),P.forEach(h,(d,p)=>{const g=new xt(p),y=vh.de(this.serializer,g),S=a.getIndexManager(g),I=yh.de(g,this.serializer,S,a.referenceDelegate);return new D1(i,I,y,S).recalculateAndSaveOverlaysForDocumentKeys(new kp(t,un.ct),d).next()})})}}function H0(n){n.createObjectStore("targetDocuments",{keyPath:GD}).createIndex("documentTargetsIndex",WD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KD,{unique:!0}),n.createObjectStore("targetGlobal")}const Hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gm{constructor(e,t,r,i,a,u,h,d,p,g,y=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=u,this.document=h,this.ri=p,this.oi=g,this.ui=y,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=S=>Promise.resolve(),!Gm.D())throw new te(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dP(this,i),this.di=t+"main",this.serializer=new w1(d),this.wi=new dr(this.di,this.ui,new CP(this.serializer)),this.Bs=new aP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=b1(this.serializer),this.qs=new JO,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,g===!1&&mt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(V.FAILED_PRECONDITION,Hf);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new un(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ci(e))return H("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return H("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ca(e).get("owner").next(t=>P.resolve(this.Ri(t)))}Pi(e){return Vl(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=Pt(t,"clientMetadata");return r.j().next(i=>{const a=this.Si(i,18e5),u=i.filter(h=>a.indexOf(h)===-1);return P.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?P.resolve(!0):ca(e).get("owner").next(t=>{if(t!==null&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new te(V.FAILED_PRECONDITION,Hf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vl(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(a||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&H("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new kp(e,un.ct);return this.Ai(t).next(()=>this.Pi(t))}),this.wi.close(),this.Mi()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Vl(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return yh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oP(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return vh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){H("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",a=(u=this.ui)===15?iO:u===14?RI:u===13?PI:u===12?rO:u===11?OI:void ie();var u;let h;return this.wi.runTransaction(e,i,a,d=>(h=new kp(d,this.Os?this.Os.next():un.ct),t==="readwrite-primary"?this.Ti(h).next(p=>!!p||this.Ei(h)).next(p=>{if(!p)throw mt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new te(V.FAILED_PRECONDITION,kI);return r(h)}).next(p=>this.vi(h).next(()=>p)):this.Oi(h).next(()=>r(h)))).then(d=>(h.raiseOnCommittedEvent(),d))}Oi(e){return ca(e).get("owner").next(t=>{if(t!==null&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new te(V.FAILED_PRECONDITION,Hf)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ca(e).put("owner",t)}static D(){return dr.D()}Ai(e){const t=ca(e);return t.get("owner").next(r=>this.Ri(r)?(H("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):P.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(mt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;ix()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=((t=this._i)===null||t===void 0?void 0:t.getItem(this.Di(e)))!==null;return H("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return mt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){mt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ca(n){return Pt(n,"owner")}function Vl(n){return Pt(n,"clientMetadata")}function P1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ke(),i=ke();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Wm(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(v0(t))return P.resolve(null);let r=bn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Rp(t,null,"F"),r=bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=ke(...a);return this.Ui.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.ji(t,h);return this.zi(t,p,u,d.readTime)?this.Ki(e,Rp(t,null,"F")):this.Wi(e,p,t,d)}))})))}Gi(e,t,r,i){return v0(t)||i.isEqual(he.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const u=this.ji(t,a);return this.zi(t,u,r,i)?this.Qi(e,t):(Tp()<=Le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ap(t)),this.Wi(e,u,t,TI(i,-1)))})}ji(e,t){let r=new tt(GI(e));return t.forEach((i,a)=>{hu(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return Tp()<=Le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ap(t)),this.Ui.getDocumentsMatchingQuery(e,t,wn.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ye(Ce),this.Yi=new hi(a=>qi(a),cu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function A1(n,e,t,r){return new TP(n,e,t,r)}async function N1(n,e){const t=ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let d=ke();for(const p of i){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(p=>({er:p,removedBatchIds:u,addedBatchIds:h}))})})}function _P(n,e){const t=ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,h,d,p){const g=d.batch,y=g.keys();let S=P.resolve();return y.forEach(I=>{S=S.next(()=>p.getEntry(h,I)).next(x=>{const k=d.docVersions.get(I);de(k!==null),x.version.compareTo(k)<0&&(g.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),p.addEntry(x)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(h,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=ke();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function M1(n){const e=ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function kP(n,e){const t=ue(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((g,y)=>{const S=i.get(y);if(!S)return;h.push(t.Bs.removeMatchingKeys(a,g.removedDocuments,y).next(()=>t.Bs.addMatchingKeys(a,g.addedDocuments,y)));let I=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(Dt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),i=i.insert(y,I),function(x,k,C){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(S,I,g)&&h.push(t.Bs.updateTargetData(a,I))});let d=mn(),p=ke();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(xP(a,u,e.documentUpdates).next(g=>{d=g.nr,p=g.sr})),!r.isEqual(he.min())){const g=t.Bs.getLastRemoteSnapshotVersion(a).next(y=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return P.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.Ji=i,a))}function xP(n,e,t){let r=ke(),i=ke();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=mn();return t.forEach((h,d)=>{const p=a.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(he.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):H("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{nr:u,sr:i}})}function bP(n,e){const t=ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bc(n,e){const t=ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,P.resolve(i)):t.Bs.allocateTargetId(r).next(u=>(i=new fr(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}async function Js(n,e,t){const r=ue(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!ci(u))throw u;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function $p(n,e,t){const r=ue(n);let i=he.min(),a=ke();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,d,p){const g=ue(h),y=g.Yi.get(p);return y!==void 0?P.resolve(g.Ji.get(y)):g.Bs.getTargetData(d,p)}(r,u,bn(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,h.targetId).next(d=>{a=d})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,t?i:he.min(),t?a:ke())).next(h=>(V1(r,KI(e),h),{documents:h,ir:a})))}function L1(n,e){const t=ue(n),r=ue(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(u=>u?u.target:null))}function F1(n,e){const t=ue(n),r=t.Xi.get(e)||he.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,TI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(V1(t,e,i),i))}function V1(n,e,t){let r=n.Xi.get(e)||he.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function q0(n,e){return`firestore_clients_${n}_${e}`}function K0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qf(n,e){return`firestore_targets_${n}_${e}`}class Dc{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(a=new te(i.error.code,i.error.message))),u?new Dc(e,t,i.state,a):(mt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Da{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new te(r.error.code,r.error.message))),a?new Da(e,r.state,i):(mt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Oc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=Lm();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=bI(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new Oc(e,a):(mt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qm{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Qm(t.clientId,t.onlineState):(mt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bp{constructor(){this.activeTargetIds=Lm()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kf{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ye(Ce),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=q0(this.persistenceKey,this.wr),this.Ir=function(h){return`firestore_sequence_number_${h}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Bp),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=function(h){return`firestore_online_state_${h}`}(this.persistenceKey),this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(q0(this.persistenceKey,r));if(i){const a=Oc.ar(r,i);a&&(this.gr=this.gr.insert(a.clientId,a))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const r=this.br(t);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qf(this.persistenceKey,e));if(r){const i=Da.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qf(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return H("SharedClientState","READ",e,t),t}setItem(e,t){H("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){H("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(H("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void mt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Tr.test(t.key)){if(t.newValue==null){const r=this.Or(t.key);return this.Fr(r,null)}{const r=this.Br(t.key,t.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(t.key)){if(t.newValue!==null){const r=this.Lr(t.key,t.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(t.key)){if(t.newValue!==null){const r=this.Ur(t.key,t.newValue);if(r)return this.Kr(r)}}else if(t.key===this.vr){if(t.newValue!==null){const r=this.br(t.newValue);if(r)return this.Vr(r)}}else if(t.key===this.Ir){const r=function(i){let a=un.ct;if(i!=null)try{const u=JSON.parse(i);de(typeof u=="number"),a=u}catch(u){mt("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(t.newValue);r!==un.ct&&this.sequenceNumberHandler(r)}else if(t.key===this.Rr){const r=this.Gr(t.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(t)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new Dc(this.currentUser,e,t,r),a=K0(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=K0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,r){const i=qf(this.persistenceKey,e),a=new Da(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return Oc.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Dc.ar(new xt(a),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Da.ar(i,t)}br(e){return Qm.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);H("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),u=[],h=[];return a.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{a.has(d)||h.push(d)}),this.syncEngine.Wr(u,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Lm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class U1{constructor(){this.Hr=new Bp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Bp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul=null;function Gf(){return Ul===null?Ul=268435456+Math.round(2147483648*Math.random()):Ul++,"0x"+Ul.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class RP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const u=Gf(),h=this.To(e,t);H("RestConnection",`Sending RPC '${e}' ${u}:`,h,r);const d={};return this.Eo(d,i,a),this.Ao(e,h,d,r).then(p=>(H("RestConnection",`Received RPC '${e}' ${u}: `,p),p),p=>{throw ni("RestConnection",`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}vo(e,t,r,i,a,u){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){const r=OP[e];return`${this.mo}/v1/${t}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=Gf();return new Promise((u,h)=>{const d=new TD;d.setWithCredentials(!0),d.listenOnce(ED.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bf.NO_ERROR:const g=d.getResponseJson();H(Bt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Bf.TIMEOUT:H(Bt,`RPC '${e}' ${a} timed out`),h(new te(V.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const y=d.getStatus();if(H(Bt,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const x=function(k){const C=k.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(C)>=0?C:V.UNKNOWN}(I.status);h(new te(x,I.message))}else h(new te(V.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new te(V.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{H(Bt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);H(Bt,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",p,r,15)})}Ro(e,t,r){const i=Gf(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=wD(),h=SD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.xmlHttpFactory=new CD({})),this.Eo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=a.join("");H(Bt,`Creating RPC '${e}' stream ${i}: ${g}`,d);const y=u.createWebChannel(g,d);let S=!1,I=!1;const x=new PP({ro:C=>{I?H(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(S||(H(Bt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),S=!0),H(Bt,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},oo:()=>y.close()}),k=(C,D,F)=>{C.listen(D,M=>{try{F(M)}catch(B){setTimeout(()=>{throw B},0)}})};return k(y,Rl.EventType.OPEN,()=>{I||H(Bt,`RPC '${e}' stream ${i} transport opened.`)}),k(y,Rl.EventType.CLOSE,()=>{I||(I=!0,H(Bt,`RPC '${e}' stream ${i} transport closed`),x.wo())}),k(y,Rl.EventType.ERROR,C=>{I||(I=!0,ni(Bt,`RPC '${e}' stream ${i} transport errored:`,C),x.wo(new te(V.UNAVAILABLE,"The operation could not be completed")))}),k(y,Rl.EventType.MESSAGE,C=>{var D;if(!I){const F=C.data[0];de(!!F);const M=F,B=M.error||((D=M[0])===null||D===void 0?void 0:D.error);if(B){H(Bt,`RPC '${e}' stream ${i} received error:`,B);const R=B.status;let U=function(Z){const Te=vt[Z];if(Te!==void 0)return o1(Te)}(R),z=B.message;U===void 0&&(U=V.INTERNAL,z="Unknown error status: "+R+" with message "+B.message),I=!0,x.wo(new te(U,z)),y.close()}else H(Bt,`RPC '${e}' stream ${i} received:`,F),x._o(F)}}),k(h,ID.STAT_EVENT,C=>{C.stat===t0.PROXY?H(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===t0.NOPROXY&&H(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof window<"u"?window:null}function Zl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n){return new $O(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t,r,i,a,u,h,d){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $1(e,t)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(mt(t.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new te(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AP extends B1{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=HO(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?Xt(a.readTime):he.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Lp(this.serializer),t.addTarget=function(i,a){let u;const h=a.target;if(u=Ec(h)?{documents:f1(i,h)}:{query:p1(i,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=l1(i,a.resumeToken);const d=Np(i,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(he.min())>0){u.readTime=Xs(i,a.snapshotVersion.toTimestamp());const d=Np(i,a.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=KO(this.serializer,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Lp(this.serializer),t.removeTarget=e,this.Wo(t)}}class NP extends B1{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=qO(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.cu(r,t)}return de(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Lp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Tc(this.serializer,r))};this.Wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new te(V.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(V.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.vo(e,t,r,a,u,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(V.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class LP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(mt(t),this.mu=!1):H("OnlineStateTracker",t)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(u=>{r.enqueueAndForget(async()=>{Zi(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(h){const d=ue(h);d.vu.add(4),await pu(d),d.bu.set("Unknown"),d.vu.delete(4),await Eh(d)}(this))})}),this.bu=new LP(r,i)}}async function Eh(n){if(Zi(n))for(const e of n.Ru)await e(!0)}async function pu(n){for(const e of n.Ru)await e(!1)}function Ih(n,e){const t=ue(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Jm(t)?Xm(t):co(t).Ko()&&Ym(t,e))}function Ga(n,e){const t=ue(n),r=co(t);t.Au.delete(e),r.Ko()&&z1(t,e),t.Au.size===0&&(r.Ko()?r.jo():Zi(t)&&t.bu.set("Unknown"))}function Ym(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}co(n).su(e)}function z1(n,e){n.Vu.qt(e),co(n).iu(e)}function Xm(n){n.Vu=new FO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),co(n).start(),n.bu.gu()}function Jm(n){return Zi(n)&&!co(n).Uo()&&n.Au.size>0}function Zi(n){return ue(n).vu.size===0}function H1(n){n.Vu=void 0}async function VP(n){n.Au.forEach((e,t)=>{Ym(n,e)})}async function UP(n,e){H1(n),Jm(n)?(n.bu.Iu(e),Xm(n)):n.bu.set("Unknown")}async function jP(n,e,t){if(n.bu.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const u of i.targetIds)r.Au.has(u)&&(await r.remoteSyncer.rejectListen(u,a),r.Au.delete(u),r.Vu.removeTarget(u))}(n,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pc(n,r)}else if(e instanceof Jl?n.Vu.Ht(e):e instanceof a1?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(he.min()))try{const r=await M1(n.localStore);t.compareTo(r)>=0&&await function(i,a){const u=i.Vu.ce(a);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=i.Au.get(d);p&&i.Au.set(d,p.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach((h,d)=>{const p=i.Au.get(h);if(!p)return;i.Au.set(h,p.withResumeToken(Dt.EMPTY_BYTE_STRING,p.snapshotVersion)),z1(i,h);const g=new fr(p.target,h,d,p.sequenceNumber);Ym(i,g)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await Pc(n,r)}}async function Pc(n,e,t){if(!ci(e))throw e;n.vu.add(1),await pu(n),n.bu.set("Offline"),t||(t=()=>M1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await t(),n.vu.delete(1),await Eh(n)})}function q1(n,e){return e().catch(t=>Pc(n,t,e))}async function lo(n){const e=ue(n),t=oi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;$P(e);)try{const i=await bP(e.localStore,r);if(i===null){e.Eu.length===0&&t.jo();break}r=i.batchId,BP(e,i)}catch(i){await Pc(e,i)}K1(e)&&G1(e)}function $P(n){return Zi(n)&&n.Eu.length<10}function BP(n,e){n.Eu.push(e);const t=oi(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function K1(n){return Zi(n)&&!oi(n).Uo()&&n.Eu.length>0}function G1(n){oi(n).start()}async function zP(n){oi(n).hu()}async function HP(n){const e=oi(n);for(const t of n.Eu)e.uu(t.mutations)}async function qP(n,e,t){const r=n.Eu.shift(),i=Um.from(r,e,t);await q1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await lo(n)}async function KP(n,e){e&&oi(n).ou&&await async function(t,r){if(i=r.code,NO(i)&&i!==V.ABORTED){const a=t.Eu.shift();oi(t).Qo(),await q1(t,()=>t.remoteSyncer.rejectFailedWrite(a.batchId,r)),await lo(t)}var i}(n,e),K1(n)&&G1(n)}async function W0(n,e){const t=ue(n);t.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Zi(t);t.vu.add(3),await pu(t),r&&t.bu.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),await Eh(t)}async function zp(n,e){const t=ue(n);e?(t.vu.delete(2),await Eh(t)):e||(t.vu.add(2),await pu(t),t.bu.set("Unknown"))}function co(n){return n.Su||(n.Su=function(e,t,r){const i=ue(e);return i.fu(),new AP(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:VP.bind(null,n),ao:UP.bind(null,n),nu:jP.bind(null,n)}),n.Ru.push(async e=>{e?(n.Su.Qo(),Jm(n)?Xm(n):n.bu.set("Unknown")):(await n.Su.stop(),H1(n))})),n.Su}function oi(n){return n.Du||(n.Du=function(e,t,r){const i=ue(e);return i.fu(),new NP(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:zP.bind(null,n),ao:KP.bind(null,n),au:HP.bind(null,n),cu:qP.bind(null,n)}),n.Ru.push(async e=>{e?(n.Du.Qo(),await lo(n)):(await n.Du.stop(),n.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))})),n.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new Zm(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(n,e){if(mt("AsyncQueue",`${e}: ${n}`),ci(n))return new te(V.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=va(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.Cu=new Ye(J.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(t,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(t):e.type===1&&r.type===2?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ie():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zs{constructor(e,t,r,i,a,u,h,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Zs(e,t,Us.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Nu=void 0,this.listeners=[]}}class WP{constructor(){this.queries=new hi(e=>qI(e),ph),this.onlineState="Unknown",this.ku=new Set}}async function QP(n,e){const t=ue(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new GP),i)try{a.Nu=await t.onListen(r)}catch(u){const h=eg(u,`Initialization of query '${Ap(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&tg(t)}async function YP(n,e){const t=ue(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=a.listeners.length===0)}if(i)return t.queries.delete(r),t.onUnlisten(r)}function XP(n,e){const t=ue(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const h of u.listeners)h.$u(i)&&(r=!0);u.Nu=i}}r&&tg(t)}function JP(n,e,t){const r=ue(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function tg(n){n.ku.forEach(e=>{e.next()})}class ZP{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const r=t!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Uu(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.key=e}}class Q1{constructor(e){this.key=e}}class eR{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ke(),this.mutatedKeys=ke(),this.tc=GI(e),this.ec=new Us(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Q0,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const S=i.get(g),I=hu(this.query,y)?y:null,x=!!S&&this.mutatedKeys.has(S.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;S&&I?S.data.isEqual(I.data)?x!==k&&(r.track({type:3,doc:I}),C=!0):this.rc(S,I)||(r.track({type:2,doc:I}),C=!0,(d&&this.tc(I,d)>0||p&&this.tc(I,p)<0)&&(h=!0)):!S&&I?(r.track({type:0,doc:I}),C=!0):S&&!I&&(r.track({type:1,doc:S}),C=!0,(d||p)&&(h=!0)),C&&(I?(u=u.add(I),a=k?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ec:u,ic:r,zi:h,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((p,g)=>function(y,S){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return I(y)-I(S)}(p.type,g.type)||this.tc(p.doc,g.doc)),this.oc(r);const u=t?this.uc():[],h=this.Zu.size===0&&this.current?1:0,d=h!==this.Xu;return this.Xu=h,a.length!==0||d?{snapshot:new Zs(this.query,e.ec,i,a,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Q0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ke(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Q1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new W1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ke();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Zs.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class tR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nR{constructor(e){this.key=e,this.fc=!1}}class rR{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new hi(h=>qI(h),ph),this._c=new Map,this.mc=new Set,this.gc=new Ye(J.comparator),this.yc=new Map,this.Ic=new Km,this.Tc={},this.Ec=new Map,this.Ac=Wi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function iR(n,e){const t=og(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const u=await bc(t.localStore,bn(e)),h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=await ng(t,e,r,h==="current",u.resumeToken),t.isPrimaryClient&&Ih(t.remoteStore,u)}return i}async function ng(n,e,t,r,i){n.Rc=(y,S,I)=>async function(x,k,C,D){let F=k.view.sc(C);F.zi&&(F=await $p(x.localStore,k.query,!1).then(({documents:R})=>k.view.sc(R,F)));const M=D&&D.targetChanges.get(k.targetId),B=k.view.applyChanges(F,x.isPrimaryClient,M);return Hp(x,k.targetId,B.cc),B.snapshot}(n,y,S,I);const a=await $p(n.localStore,e,!0),u=new eR(e,a.ir),h=u.sc(a.documents),d=fu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(h,n.isPrimaryClient,d);Hp(n,t,p.cc);const g=new tR(e,t,u);return n.wc.set(e,g),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),p.snapshot}async function sR(n,e){const t=ue(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!ph(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||await Js(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ga(t.remoteStore,r.targetId),eo(t,r.targetId)}).catch(li)):(eo(t,r.targetId),await Js(t.localStore,r.targetId,!0))}async function oR(n,e,t){const r=ag(n);try{const i=await function(a,u){const h=ue(a),d=at.now(),p=u.reduce((S,I)=>S.add(I.key),ke());let g,y;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let I=mn(),x=ke();return h.Zi.getEntries(S,p).next(k=>{I=k,I.forEach((C,D)=>{D.isValidDocument()||(x=x.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,I)).next(k=>{g=k;const C=[];for(const D of u){const F=RO(D,g.get(D.key).overlayedDocument);F!=null&&C.push(new di(D.key,F,LI(F.value.mapValue),gn.exists(!0)))}return h.mutationQueue.addMutationBatch(S,d,C,u)}).next(k=>{y=k;const C=k.applyToLocalDocumentSet(g,x);return h.documentOverlayCache.saveOverlays(S,k.batchId,C)})}).then(()=>({batchId:y.batchId,changes:QI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let d=a.Tc[a.currentUser.toKey()];d||(d=new Ye(Ce)),d=d.insert(u,h),a.Tc[a.currentUser.toKey()]=d}(r,i.batchId,t),await fi(r,i.changes),await lo(r.remoteStore)}catch(i){const a=eg(i,"Failed to persist write");t.reject(a)}}async function Y1(n,e){const t=ue(n);try{const r=await kP(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.yc.get(a);u&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.fc=!0:i.modifiedDocuments.size>0?de(u.fc):i.removedDocuments.size>0&&(de(u.fc),u.fc=!1))}),await fi(t,r,e)}catch(r){await li(r)}}function Y0(n,e,t){const r=ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.wc.forEach((a,u)=>{const h=u.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(a,u){const h=ue(a);h.onlineState=u;let d=!1;h.queries.forEach((p,g)=>{for(const y of g.listeners)y.Mu(u)&&(d=!0)}),d&&tg(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aR(n,e,t){const r=ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let u=new Ye(J.comparator);u=u.insert(a,ct.newNoDocument(a,he.min()));const h=ke().add(a),d=new du(he.min(),new Map,new Ye(Ce),u,h);await Y1(r,d),r.gc=r.gc.remove(a),r.yc.delete(e),sg(r)}else await Js(r.localStore,e,!1).then(()=>eo(r,e,t)).catch(li)}async function uR(n,e){const t=ue(n),r=e.batch.batchId;try{const i=await _P(t.localStore,e);ig(t,r,null),rg(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await fi(t,i)}catch(i){await li(i)}}async function lR(n,e,t){const r=ue(n);try{const i=await function(a,u){const h=ue(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,u).next(g=>(de(g!==null),p=g.keys(),h.mutationQueue.removeMutationBatch(d,g))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(r.localStore,e);ig(r,e,t),rg(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await fi(r,i)}catch(i){await li(i)}}function rg(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ig(n,e,t){const r=ue(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function eo(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||X1(n,r)})}function X1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);t!==null&&(Ga(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sg(n))}function Hp(n,e,t){for(const r of t)r instanceof W1?(n.Ic.addReference(r.key,e),cR(n,r)):r instanceof Q1?(H("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||X1(n,r.key)):ie()}function cR(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(H("SyncEngine","New document in limbo: "+t),n.mc.add(r),sg(n))}function sg(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new J(Ke.fromString(e)),r=n.Ac.next();n.yc.set(r,new nR(t)),n.gc=n.gc.insert(t,r),Ih(n.remoteStore,new fr(bn(Mm(t.path)),r,"TargetPurposeLimboResolution",un.ct))}}async function fi(n,e,t){const r=ue(n),i=[],a=[],u=[];r.wc.isEmpty()||(r.wc.forEach((h,d)=>{u.push(r.Rc(d,e,t).then(p=>{if((p||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,p!=null&&p.fromCache?"not-current":"current"),p){i.push(p);const g=Wm.Li(d.targetId,p);a.push(g)}}))}),await Promise.all(u),r.dc.nu(i),await async function(h,d){const p=ue(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(d,y=>P.forEach(y.Fi,S=>p.persistence.referenceDelegate.addReference(g,y.targetId,S)).next(()=>P.forEach(y.Bi,S=>p.persistence.referenceDelegate.removeReference(g,y.targetId,S)))))}catch(g){if(!ci(g))throw g;H("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const y=g.targetId;if(!g.fromCache){const S=p.Ji.get(y),I=S.snapshotVersion,x=S.withLastLimboFreeSnapshotVersion(I);p.Ji=p.Ji.insert(y,x)}}}(r.localStore,a))}async function hR(n,e){const t=ue(n);if(!t.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await N1(t.localStore,e);t.currentUser=e,function(i,a){i.Ec.forEach(u=>{u.forEach(h=>{h.reject(new te(V.CANCELLED,a))})}),i.Ec.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fi(t,r.er)}}function dR(n,e){const t=ue(n),r=t.yc.get(e);if(r&&r.fc)return ke().add(r.key);{let i=ke();const a=t._c.get(e);if(!a)return i;for(const u of a){const h=t.wc.get(u);i=i.unionWith(h.view.nc)}return i}}async function fR(n,e){const t=ue(n),r=await $p(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&Hp(t,e.targetId,i.cc),i}async function pR(n,e){const t=ue(n);return F1(t.localStore,e).then(r=>fi(t,r))}async function mR(n,e,t,r){const i=ue(n),a=await function(u,h){const d=ue(u),p=ue(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",g=>p.Sn(g,h).next(y=>y?d.localDocuments.getDocuments(g,y):P.resolve(null)))}(i.localStore,e);a!==null?(t==="pending"?await lo(i.remoteStore):t==="acknowledged"||t==="rejected"?(ig(i,e,r||null),rg(i,e),function(u,h){ue(ue(u).mutationQueue).Cn(h)}(i.localStore,e)):ie(),await fi(i,a)):H("SyncEngine","Cannot apply mutation batch with id: "+e)}async function gR(n,e){const t=ue(n);if(og(t),ag(t),e===!0&&t.vc!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await X0(t,r.toArray());t.vc=!0,await zp(t.remoteStore,!0);for(const a of i)Ih(t.remoteStore,a)}else if(e===!1&&t.vc!==!1){const r=[];let i=Promise.resolve();t._c.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(eo(t,u),Js(t.localStore,u,!0))),Ga(t.remoteStore,u)}),await i,await X0(t,r),function(a){const u=ue(a);u.yc.forEach((h,d)=>{Ga(u.remoteStore,d)}),u.Ic.Ts(),u.yc=new Map,u.gc=new Ye(J.comparator)}(t),t.vc=!1,await zp(t.remoteStore,!1)}}async function X0(n,e,t){const r=ue(n),i=[],a=[];for(const u of e){let h;const d=r._c.get(u);if(d&&d.length!==0){h=await bc(r.localStore,bn(d[0]));for(const p of d){const g=r.wc.get(p),y=await fR(r,g);y.snapshot&&a.push(y.snapshot)}}else{const p=await L1(r.localStore,u);h=await bc(r.localStore,p),await ng(r,J1(p),u,!1,h.resumeToken)}i.push(h)}return r.dc.nu(a),i}function J1(n){return HI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vR(n){const e=ue(n);return ue(ue(e.localStore).persistence).$i()}async function yR(n,e,t,r){const i=ue(n);if(i.vc)return void H("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=await F1(i.localStore,KI(a[0])),h=du.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Dt.EMPTY_BYTE_STRING);await fi(i,u,h);break}case"rejected":await Js(i.localStore,e,!0),eo(i,e,r);break;default:ie()}}async function wR(n,e,t){const r=og(n);if(r.vc){for(const i of e){if(r._c.has(i)){H("SyncEngine","Adding an already active target "+i);continue}const a=await L1(r.localStore,i),u=await bc(r.localStore,a);await ng(r,J1(a),u.targetId,!1,u.resumeToken),Ih(r.remoteStore,u)}for(const i of t)r._c.has(i)&&await Js(r.localStore,i,!1).then(()=>{Ga(r.remoteStore,i),eo(r,i)}).catch(li)}}function og(n){const e=ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aR.bind(null,e),e.dc.nu=XP.bind(null,e.eventManager),e.dc.Pc=JP.bind(null,e.eventManager),e}function ag(n){const e=ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lR.bind(null,e),e}class qp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return A1(this.persistence,new R1,e.initialUser,this.serializer)}createPersistence(e){return new O1(wh.zs,this.serializer)}createSharedClientState(e){return new U1}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SR extends qp{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await ag(this.Vc.syncEngine),await lo(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return A1(this.persistence,new R1,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new lP(r,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new jD(t,this.persistence);return new UD(e.asyncQueue,r)}createPersistence(e){const t=P1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Gm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,j1(),Zl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new U1}}class ER extends SR{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof Kf&&(this.sharedClientState.syncEngine={jr:mR.bind(null,t),zr:yR.bind(null,t),Wr:wR.bind(null,t),$i:vR.bind(null,t),Qr:pR.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await gR(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const t=j1();if(!Kf.D(t))throw new te(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=P1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kf(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Z1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hR.bind(null,this.syncEngine),await zp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new WP}createDatastore(e){const t=Sh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new RP(i));var i;return function(a,u,h,d){return new MP(a,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>Y0(this.syncEngine,h,0),u=G0.D()?new G0:new DP,new FP(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,h,d,p){const g=new rR(r,i,a,u,h,d);return p&&(g.vc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ue(e);H("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await pu(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):mt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=EI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{H("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(H("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ec(n,e){n.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const t=await n.getConfiguration();await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await N1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Kp(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TR(n);H("FirestoreClient","Initializing OnlineComponentProvider");const r=await n.getConfiguration();await e.initialize(t,r),n.setCredentialChangeListener(i=>W0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>W0(e.remoteStore,a)),n._onlineComponents=e}function eC(n){return n.name==="FirebaseError"?n.code===V.FAILED_PRECONDITION||n.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function TR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await ec(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!eC(t))throw t;ni("Error using user provided cache. Falling back to memory cache: "+t),await ec(n,new qp)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await ec(n,new qp);return n._offlineComponents}async function tC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Kp(n,n._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Kp(n,new Z1))),n._onlineComponents}function _R(n){return tC(n).then(e=>e.syncEngine)}async function kR(n){const e=await tC(n),t=e.eventManager;return t.onListen=iR.bind(null,e.syncEngine),t.onUnlisten=sR.bind(null,e.syncEngine),t}function xR(n,e,t={}){const r=new Jn;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,u,h,d){const p=new IR({next:y=>{a.enqueueAndForget(()=>YP(i,g)),y.fromCache&&h.source==="server"?d.reject(new te(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new ZP(u,p,{includeMetadataChanges:!0,Ku:!0});return QP(i,g)}(await kR(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n,e,t){if(!t)throw new te(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bR(n,e,t,r){if(e===!0&&r===!0)throw new te(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z0(n){if(!J.isDocumentKey(n))throw new te(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eS(n){if(J.isDocumentKey(n))throw new te(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ug(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie()}function Wa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ug(n);throw new te(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,t.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,r}}class Ch{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tS(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new xD;switch(t.type){case"firstParty":return new PD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new te(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=J0.get(e);t&&(H("ComponentProvider","Removing Datastore"),J0.delete(e),t.terminate())}(this),Promise.resolve()}}function DR(n,e,t,r={}){var i;const a=(n=Wa(n,Ch))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=xt.MOCK_USER;else{h=Jk(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new te(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new xt(p)}n._authCredentials=new bD(new SI(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Th{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Th(this.firestore,e,this._query)}}class ti extends Th{constructor(e,t,r){super(e,t,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new J(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function jl(n,e,...t){if(n=Jt(n),rC("collection","path",e),n instanceof Ch){const r=Ke.fromString(e,...t);return eS(r),new ti(n,null,r)}{if(!(n instanceof Ln||n instanceof ti))throw new te(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return eS(r),new ti(n.firestore,null,r)}}function OR(n,e,...t){if(n=Jt(n),arguments.length===1&&(e=EI.A()),rC("doc","path",e),n instanceof Ch){const r=Ke.fromString(e,...t);return Z0(r),new Ln(n,null,new J(r))}{if(!(n instanceof Ln||n instanceof ti))throw new te(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return Z0(r),new Ln(n.firestore,n instanceof ti?n.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $1(this,"async_queue_retry"),this.Xc=()=>{const t=Zl();t&&H("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Zl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Zl();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Jn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ci(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw mt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Zm.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&ie()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class _h extends Ch{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iC(this),this._firestoreClient.terminate()}}function RR(n,e){const t=typeof n=="object"?n:gE(),r=typeof n=="string"?n:"(default)",i=om(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Yk("firestore");a&&DR(i,...a)}return i}function lg(n){return n._firestoreClient||iC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function iC(n){var e,t,r;const i=n._freezeSettings(),a=function(u,h,d,p){return new oO(u,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,nC(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new CR(n._authCredentials,n._appCheckCredentials,n._queue,a),!((t=i.cache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function AR(n){MR(n=Wa(n,_h));const e=lg(n);if(e._uninitializedComponentsProvider)throw new te(V.FAILED_PRECONDITION,"SDK cache is already specified.");ni("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Z1;return NR(e,r,new ER(r,t.cacheSizeBytes))}function NR(n,e,t){const r=new Jn;return n.asyncQueue.enqueue(async()=>{try{await ec(n,t),await Kp(n,e),r.resolve()}catch(i){const a=i;if(!eC(a))throw a;ni("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}}).then(()=>r.promise)}function MR(n){if(n._initialized||n._terminated)throw new te(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(Dt.fromBase64String(e))}catch(t){throw new te(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new to(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=/^__.*__$/;class FR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,t,this.fieldTransforms):new uo(e,this.data,t,this.fieldTransforms)}}function oC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class dg{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Rc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(oC(this.ca)&&LR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class VR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sh(e)}ya(e,t,r,i=!1){return new dg({ca:e,methodName:t,ga:r,path:wt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UR(n){const e=n._freezeSettings(),t=Sh(n._databaseId);return new VR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jR(n,e,t,r,i,a={}){const u=n.ya(a.merge||a.mergeFields?2:0,e,t,i);cC("Data must be an object, but it was:",u,r);const h=uC(r,u);let d,p;if(a.merge)d=new xn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const S=$R(e,y,t);if(!u.contains(S))throw new te(V.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);zR(g,S)||g.push(S)}d=new xn(g),p=u.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=u.fieldTransforms;return new FR(new an(h),d,p)}function aC(n,e){if(lC(n=Jt(n)))return cC("Unsupported field value:",e,n),uC(n,e);if(n instanceof sC)return function(t,r){if(!oC(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let h=aC(u,r.wa(a));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if((t=Jt(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return _O(r.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const i=at.fromDate(t);return{timestampValue:Xs(r.serializer,i)}}if(t instanceof at){const i=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xs(r.serializer,i)}}if(t instanceof hg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof to)return{bytesValue:l1(r.serializer,t._byteString)};if(t instanceof Ln){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${ug(t)}`)}(n,e)}function uC(n,e){const t={};return AI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(n,(r,i)=>{const a=aC(i,e.ha(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function lC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof at||n instanceof hg||n instanceof to||n instanceof Ln||n instanceof sC)}function cC(n,e,t){if(!lC(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const r=ug(t);throw r==="an object"?e._a(n+" a custom object"):e._a(n+" "+r)}}function $R(n,e,t){if((e=Jt(e))instanceof cg)return e._internalPath;if(typeof e=="string")return hC(n,e);throw Rc("Field path arguments must be of type string or ",n,!1,void 0,t)}const BR=new RegExp("[~\\*/\\[\\]]");function hC(n,e,t){if(e.search(BR)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cg(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rc(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new te(V.INVALID_ARGUMENT,h+n+d)}function zR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HR extends dC{data(){return super.data()}}function fC(n,e){return typeof e=="string"?hC(n,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new te(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KR{convertValue(e,t="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ao(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new hg(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const t=ri(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ke.fromString(e);de(y1(r));const i=new zi(r.get(1),r.get(3)),a=new J(r.popFirst(5));return i.isEqual(t)||mt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WR extends dC{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class tc extends WR{data(e={}){return super.data(e)}}class QR{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tc(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>{const h=new tc(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $l(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const h=new tc(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $l(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:YR(u.type),doc:h,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class XR extends KR{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function nS(n){n=Wa(n,Th);const e=Wa(n.firestore,_h),t=lg(e),r=new XR(e);return qR(n._query),xR(t,n._query).then(i=>new QR(e,r,n,i))}function rS(n,e){const t=Wa(n.firestore,_h),r=OR(n),i=GR(n.converter,e);return JR(t,[jR(UR(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}function JR(n,e){return function(t,r){const i=new Jn;return t.asyncQueue.enqueueAndForget(async()=>oR(await _R(t),r,i)),i.promise}(lg(n),e)}(function(n,e=!0){(function(t){oo=t})(ro),zs(new ji("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new _h(new DD(t.getProvider("auth-internal")),new AD(t.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new te(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zi(h.options.projectId,d)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),ei(n0,"3.13.0",n),ei(n0,"3.13.0","esm2017")})();function fg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZR=pC,mC=new tu("auth","Firebase",pC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new im("@firebase/auth");function eA(n,...e){Ac.logLevel<=Le.WARN&&Ac.warn(`Auth (${ro}): ${n}`,...e)}function nc(n,...e){Ac.logLevel<=Le.ERROR&&Ac.error(`Auth (${ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(n,...e){throw pg(n,...e)}function Zn(n,...e){return pg(n,...e)}function tA(n,e,t){const r=Object.assign(Object.assign({},ZR()),{[e]:t});return new tu("auth","Firebase",r).create(e,{appName:n.name})}function pg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mC.create(n,...e)}function Se(n,e,...t){if(!n)throw pg(e,...t)}function pr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nc(e),new Error(e)}function yr(n,e){n||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nA(){return iS()==="http:"||iS()==="https:"}function iS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nA()||tx()||"connection"in navigator)?navigator.onLine:!0}function iA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=Zk()||nx()}get(){return rA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(n,e){yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new mu(3e4,6e4);function ho(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fo(n,e,t,r,i={}){return vC(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=nu(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode),gC.fetch()(yC(n,n.config.apiHost,t,h),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},a))})}async function vC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sA),e);try{const i=new aA(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Bl(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bl(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Bl(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Bl(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tA(n,g,p);Vn(n,g)}}catch(i){if(i instanceof Sr)throw i;Vn(n,"network-request-failed",{message:String(i)})}}async function gu(n,e,t,r,i={}){const a=await fo(n,e,t,r,i);return"mfaPendingCredential"in a&&Vn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function yC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?mg(n.config,i):`${n.config.apiScheme}://${i}`}class aA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),oA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Zn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(n,e){return fo(n,"POST","/v1/accounts:delete",e)}async function lA(n,e){return fo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cA(n,e=!1){const t=Jt(n),r=await t.getIdToken(e),i=gg(r);Se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Oa(Wf(i.auth_time)),issuedAtTime:Oa(Wf(i.iat)),expirationTime:Oa(Wf(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Wf(n){return Number(n)*1e3}function gg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const i=uE(t);return i?JSON.parse(i):(nc("Failed to decode base64 JWT payload"),null)}catch(i){return nc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hA(n){const e=gg(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Sr&&dA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Qa(n,lA(t,{idToken:r}));Se(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?gA(a.providerUserInfo):[],h=mA(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new wC(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function pA(n){const e=Jt(n);await Nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mA(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gA(n){return n.map(e=>{var{providerId:t}=e,r=fg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(n,e){const t=await vC(n,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=yC(n,i,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",gC.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await vA(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Ya;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Se(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wC(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cA(this,e)}reload(){return pA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qa(this,uA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,u,h,d,p,g;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(i=t.email)!==null&&i!==void 0?i:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(u=t.photoURL)!==null&&u!==void 0?u:void 0,k=(h=t.tenantId)!==null&&h!==void 0?h:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:M,emailVerified:B,isAnonymous:R,providerData:U,stsTokenManager:z}=t;Se(M&&z,e,"internal-error");const Z=Ya.fromJSON(this.name,z);Se(typeof M=="string",e,"internal-error"),qr(y,e.name),qr(S,e.name),Se(typeof B=="boolean",e,"internal-error"),Se(typeof R=="boolean",e,"internal-error"),qr(I,e.name),qr(x,e.name),qr(k,e.name),qr(C,e.name),qr(D,e.name),qr(F,e.name);const Te=new Ui({uid:M,auth:e,email:S,emailVerified:B,displayName:y,isAnonymous:R,photoURL:x,phoneNumber:I,tenantId:k,stsTokenManager:Z,createdAt:D,lastLoginAt:F});return U&&Array.isArray(U)&&(Te.providerData=U.map(ze=>Object.assign({},ze))),C&&(Te._redirectEventId=C),Te}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ya;i.updateFromServerResponse(t);const a=new Ui({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nc(a),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Map;function mr(n){yr(n instanceof Function,"Expected a class definition");let e=sS.get(n);return e?(yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SC.type="NONE";const oS=SC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n,e,t){return`firebase:${n}:${e}:${t}`}class js{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=rc(this.userKey,i.apiKey,a),this.fullPersistenceKey=rc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new js(mr(oS),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||mr(oS);const u=rc(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(u);if(g){const y=Ui._fromJSON(e,g);p!==a&&(h=y),a=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new js(a,e,r):(a=d[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new js(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_C(e))return"Blackberry";if(kC(e))return"Webos";if(vg(e))return"Safari";if((e.includes("chrome/")||IC(e))&&!e.includes("edge/"))return"Chrome";if(TC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EC(n=It()){return/firefox\//i.test(n)}function vg(n=It()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IC(n=It()){return/crios\//i.test(n)}function CC(n=It()){return/iemobile/i.test(n)}function TC(n=It()){return/android/i.test(n)}function _C(n=It()){return/blackberry/i.test(n)}function kC(n=It()){return/webos/i.test(n)}function kh(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yA(n=It()){var e;return kh(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wA(){return rx()&&document.documentMode===10}function xC(n=It()){return kh(n)||TC(n)||kC(n)||_C(n)||/windows phone/i.test(n)||CC(n)}function SA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n,e=[]){let t;switch(n){case"Browser":t=aS(It());break;case"Worker":t=`${aS(It())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}async function DC(n,e){return fo(n,"GET","/v2/recaptchaConfig",ho(n,e))}function uS(n){return n!==void 0&&n.enterprise!==void 0}class OC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>t.provider==="EMAIL_PASSWORD_PROVIDER"&&t.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function PC(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Zn("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",EA().appendChild(r)})}function IA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const CA="https://www.google.com/recaptcha/enterprise.js?render=",TA="recaptcha-enterprise",_A="NO_RECAPTCHA";class RC{constructor(e){this.type=TA,this.auth=po(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{DC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new OC(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function i(a,u,h){const d=window.grecaptcha;uS(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(_A)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&uS(window.grecaptcha))i(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}PC(CA+h).then(()=>{i(h,a,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function Mc(n,e,t,r=!1){const i=new RC(n);let a;try{a=await i.verify(t)}catch{a=await i.verify(t,!0)}const u=Object.assign({},e);return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const d=e(a);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lS(this),this.idTokenSubscription=new lS(this),this.beforeStateQueue=new kA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Jt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}async initializeRecaptchaConfig(){const e=await DC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new OC(e);this.tenantId==null?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new RC(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t),u=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(u,this,"internal-error"),u.then(()=>a(this.currentUser)),typeof t=="function"?e.addObserver(t,r,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function po(n){return Jt(n)}class lS{constructor(e){this.auth=e,this.observer=null,this.addObserver=cx(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n,e){const t=om(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(hc(a,e??{}))return i;Vn(i,"already-initialized")}return t.initialize({options:e})}function DA(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(mr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OA(n,e,t){const r=po(n);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=AC(e),{host:u,port:h}=PA(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),RA()}function AC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PA(n){const e=AC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:cS(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:cS(u)}}}function cS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,t){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function AA(n,e){return fo(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(n,e){return gu(n,"POST","/v1/accounts:signInWithPassword",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(n,e){return gu(n,"POST","/v1/accounts:signInWithEmailLink",ho(n,e))}async function MA(n,e){return gu(n,"POST","/v1/accounts:signInWithEmailLink",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends yg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Xa(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xa(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((t=e._getRecaptchaConfig())===null||t===void 0)&&t.emailPasswordEnabled){const i=await Mc(e,r,"signInWithPassword");return Qf(e,i)}else return Qf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=await Mc(e,r,"signInWithPassword");return Qf(e,a)}else return Promise.reject(i)});case"emailLink":return NA(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return AA(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return MA(e,{idToken:t,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(n,e){return gu(n,"POST","/v1/accounts:signInWithIdp",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="http://localhost";class Qi extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=fg(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Qi(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return $s(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$s(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$s(e,t)}buildRequest(){const e={requestUri:LA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VA(n){const e=fa(pa(n)).link,t=e?fa(pa(e)).deep_link_id:null,r=fa(pa(n)).deep_link_id;return(r?fa(pa(r)).link:null)||r||t||e||n}class wg{constructor(e){var t,r,i,a,u,h;const d=fa(pa(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=FA((i=d.mode)!==null&&i!==void 0?i:null);Se(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=VA(e);try{return new wg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,t){return Xa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wg.parseLink(t);return Se(r,"argument-error"),Xa._fromEmailAndCode(e,r.code,r.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends NC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends vu{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wr.credential(t,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends vu{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends vu{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yr.credential(t,r)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(n,e){return gu(n,"POST","/v1/accounts:signUp",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Ui._fromIdTokenResponse(e,r,i),u=hS(r);return new Yi({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=hS(r);return new Yi({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function hS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Sr{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Lc(e,t,r,i)}}function MC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(n,a,e,r):a})}async function UA(n,e,t=!1){const r=await Qa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yi._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const a=await Qa(n,MC(r,i,e,n),t);Se(a.idToken,r,"internal-error");const u=gg(a.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(n.uid===h,r,"user-mismatch"),Yi._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(n,e,t=!1){const r="signIn",i=await MC(n,r,e),a=await Yi._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function $A(n,e){return LC(po(n),e)}async function BA(n,e,t){var r;const i=po(n),a={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let u;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const p=await Mc(i,a,"signUpPassword");u=Yf(i,p)}else u=Yf(i,a).catch(async p=>{if(p.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const g=await Mc(i,a,"signUpPassword");return Yf(i,g)}else return Promise.reject(p)});const h=await u.catch(p=>Promise.reject(p)),d=await Yi._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(d.user),d}function zA(n,e,t){return $A(Jt(n),mo.credential(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n,e){return Jt(n).setPersistence(e)}function qA(n,e,t,r){return Jt(n).onIdTokenChanged(e,t,r)}function KA(n,e,t){return Jt(n).beforeAuthStateChanged(e,t)}function GA(n,e,t,r){return Jt(n).onAuthStateChanged(e,t,r)}function WA(n){return Jt(n).signOut()}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){const n=It();return vg(n)||kh(n)}const YA=1e3,XA=10;class VC extends FC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QA()&&SA(),this.fallbackToPolling=xC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);wA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XA):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},YA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VC.type="LOCAL";const UC=VC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends FC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jC.type="SESSION";const $C=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async p=>p(t.origin,a)),d=await JA(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((h,d)=>{const p=Sg("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(y){const S=y;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(S.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function eN(n){er().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function tN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rN(){return BC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebaseLocalStorageDb",iN=1,Vc="firebaseLocalStorage",HC="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bh(n,e){return n.transaction([Vc],e?"readwrite":"readonly").objectStore(Vc)}function sN(){const n=indexedDB.deleteDatabase(zC);return new yu(n).toPromise()}function Wp(){const n=indexedDB.open(zC,iN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vc,{keyPath:HC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vc)?e(r):(r.close(),await sN(),e(await Wp()))})})}async function dS(n,e,t){const r=bh(n,!0).put({[HC]:e,value:t});return new yu(r).toPromise()}async function oN(n,e){const t=bh(n,!1).get(e),r=await new yu(t).toPromise();return r===void 0?null:r.value}function fS(n,e){const t=bh(n,!0).delete(e);return new yu(t).toPromise()}const aN=800,uN=3;class qC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new ZA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wp();return await dS(e,Fc,"1"),await fS(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>dS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=bh(i,!1).getAll();return new yu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qC.type="LOCAL";const lN=qC;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(n,e){return e?mr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $s(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hN(n){return LC(n.auth,new Eg(n),n.bypassAuthState)}function dN(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),jA(t,new Eg(n),n.bypassAuthState)}async function fN(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),UA(t,new Eg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return dN;default:Vn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new mu(2e3,1e4);class Ms extends KC{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",ic=new Map;class gN extends KC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const r=await vN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vN(n,e){const t=SN(e),r=wN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function yN(n,e){ic.set(n._key(),e)}function wN(n){return mr(n._redirectPersistence)}function SN(n){return rc(mN,n.config.apiKey,n.name)}async function EN(n,e,t=!1){const r=po(n),i=cN(r,e),u=await new gN(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=10*60*1e3;class CN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!GC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IN&&this.cachedEventUids.clear(),this.cachedEventUids.has(pS(e))}saveEventToCache(e){this.cachedEventUids.add(pS(e)),this.lastProcessedEventTime=Date.now()}}function pS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e={}){return fo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xN=/^https?/;async function bN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _N(n);for(const t of e)try{if(DN(t))return}catch{}Vn(n,"unauthorized-domain")}function DN(n){const e=Gp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!xN.test(t))return!1;if(kN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new mu(3e4,6e4);function mS(){const n=er().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PN(n){return new Promise((e,t)=>{var r,i,a;function u(){mS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mS(),t(Zn(n,"network-request-failed"))},timeout:ON.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=er().gapi)===null||a===void 0)&&a.load)u();else{const h=IA("iframefcb");return er()[h]=()=>{gapi.load?u():t(Zn(n,"network-request-failed"))},PC(`https://apis.google.com/js/api.js?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw sc=null,e})}let sc=null;function RN(n){return sc=sc||PN(n),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new mu(5e3,15e3),NN="__/auth/iframe",MN="emulator/auth/iframe",LN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VN(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mg(e,MN):`https://${n.config.authDomain}/${NN}`,r={apiKey:e.apiKey,appName:n.name,v:ro},i=FN.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${nu(r).slice(1)}`}async function UN(n){const e=await RN(n),t=er().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:VN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Zn(n,"network-request-failed"),h=er().setTimeout(()=>{a(u)},AN.get());function d(){er().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$N=500,BN=600,zN="_blank",HN="http://localhost";class gS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qN(n,e,t,r=$N,i=BN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},jN),{width:r.toString(),height:i.toString(),top:a,left:u}),p=It().toLowerCase();t&&(h=IC(p)?zN:t),EC(p)&&(e=e||HN,d.scrollbars="yes");const g=Object.entries(d).reduce((S,[I,x])=>`${S}${I}=${x},`,"");if(yA(p)&&h!=="_self")return KN(e||"",h),new gS(null);const y=window.open(e||"",h,g);Se(y,n,"popup-blocked");try{y.focus()}catch{}return new gS(y)}function KN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="__/auth/handler",WN="emulator/auth/handler",QN=encodeURIComponent("fac");async function vS(n,e,t,r,i,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ro,eventId:i};if(e instanceof NC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",lx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof vu){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),p=d?`#${QN}=${encodeURIComponent(d)}`:"";return`${YN(n)}?${nu(h).slice(1)}${p}`}function YN({config:n}){return n.emulator?mg(n,WN):`https://${n.authDomain}/${GN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="webStorageSupport";class XN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$C,this._completeRedirectFn=EN,this._overrideRedirectResult=yN}async _openPopup(e,t,r,i){var a;yr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await vS(e,t,r,Gp(),i);return qN(e,u,Sg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await vS(e,t,r,Gp(),i);return eN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(yr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await UN(e),r=new CN(e);return t.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xf,{type:Xf},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Xf];u!==void 0&&t(!!u),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xC()||vg()||kh()}}const JN=XN;var yS="@firebase/auth",wS="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function tM(n){zs(new ji("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bC(n)},p=new xA(r,i,a,d);return DA(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zs(new ji("auth-internal",e=>{const t=po(e.getProvider("auth").getImmediate());return(r=>new ZN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(yS,wS,eM(n)),ei(yS,wS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=5*60,rM=hE("authIdTokenMaxAge")||nM;let SS=null;const iM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rM)return;const i=t==null?void 0:t.token;SS!==i&&(SS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sM(n=gE()){const e=om(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bA(n,{popupRedirectResolver:JN,persistence:[lN,UC,$C]}),r=hE("authTokenSyncURL");if(r){const a=iM(r);KA(t,a,()=>a(t.currentUser)),qA(t,u=>a(u))}const i=lE("auth");return i&&OA(t,`http://${i}`),t}tM("Browser");const oM={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},WC=mE(oM),Sa=sM(WC),Ea=RR(WC);try{AR(Ea)}catch(n){n.code!=="failed-precondition"&&console.error("Firebase persistence error:",n)}HA(Sa,UC).catch(n=>{console.error("Auth persistence error:",n)});function Xi(n){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(n)}function aM(n,e){if(Xi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function QC(n){var e=aM(n,"string");return Xi(e)=="symbol"?e:e+""}function Ia(n,e,t){return(e=QC(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ES(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function me(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(t),!0).forEach(function(r){Ia(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ES(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uM(n){if(Array.isArray(n))return n}function lM(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,u,h=[],d=!0,p=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=a.call(t)).done)&&(h.push(r.value),h.length!==e);d=!0);}catch(g){p=!0,i=g}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw i}}return h}}function Qp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function YC(n,e){if(n){if(typeof n=="string")return Qp(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Qp(n,e):void 0}}function cM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(n,e){return uM(n)||lM(n,e)||YC(n,e)||cM()}function hM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Er(n,e){if(n==null)return{};var t,r,i=hM(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var dM=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function fM(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,i=r===void 0?!1:r,a=n.defaultValue,u=a===void 0?null:a,h=n.inputValue,d=n.menuIsOpen,p=n.onChange,g=n.onInputChange,y=n.onMenuClose,S=n.onMenuOpen,I=n.value,x=Er(n,dM),k=N.useState(h!==void 0?h:t),C=gr(k,2),D=C[0],F=C[1],M=N.useState(d!==void 0?d:i),B=gr(M,2),R=B[0],U=B[1],z=N.useState(I!==void 0?I:u),Z=gr(z,2),Te=Z[0],ze=Z[1],nt=N.useCallback(function(G,oe){typeof p=="function"&&p(G,oe),ze(G)},[p]),De=N.useCallback(function(G,oe){var E;typeof g=="function"&&(E=g(G,oe)),F(E!==void 0?E:G)},[g]),Xe=N.useCallback(function(){typeof S=="function"&&S(),U(!0)},[S]),Ue=N.useCallback(function(){typeof y=="function"&&y(),U(!1)},[y]),Fe=h!==void 0?h:D,xe=d!==void 0?d:R,Pe=I!==void 0?I:Te;return me(me({},x),{},{inputValue:Fe,menuIsOpen:xe,onChange:nt,onInputChange:De,onMenuClose:Ue,onMenuOpen:Xe,value:Pe})}function ye(){return ye=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ye.apply(null,arguments)}function pM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IS(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,QC(r.key),r)}}function mM(n,e,t){return e&&IS(n.prototype,e),t&&IS(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Yp(n,e){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Yp(n,e)}function gM(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Yp(n,e)}function Uc(n){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uc(n)}function XC(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XC=function(){return!!n})()}function vM(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function yM(n,e){if(e&&(Xi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vM(n)}function wM(n){var e=XC();return function(){var t,r=Uc(n);if(e){var i=Uc(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return yM(this,t)}}function SM(n){if(Array.isArray(n))return Qp(n)}function EM(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function IM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ig(n){return SM(n)||EM(n)||YC(n)||IM()}function CM(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function TM(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var _M=function(){function n(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TM(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=CM(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zt="-ms-",jc="-moz-",$e="-webkit-",JC="comm",Cg="rule",Tg="decl",kM="@import",ZC="@keyframes",xM="@layer",bM=Math.abs,Dh=String.fromCharCode,DM=Object.assign;function OM(n,e){return Mt(n,0)^45?(((e<<2^Mt(n,0))<<2^Mt(n,1))<<2^Mt(n,2))<<2^Mt(n,3):0}function eT(n){return n.trim()}function PM(n,e){return(n=e.exec(n))?n[0]:n}function Be(n,e,t){return n.replace(e,t)}function Xp(n,e){return n.indexOf(e)}function Mt(n,e){return n.charCodeAt(e)|0}function Ja(n,e,t){return n.slice(e,t)}function qn(n){return n.length}function _g(n){return n.length}function zl(n,e){return e.push(n),n}function RM(n,e){return n.map(e).join("")}var Oh=1,no=1,tT=0,ln=0,yt=0,go="";function Ph(n,e,t,r,i,a,u){return{value:n,root:e,parent:t,type:r,props:i,children:a,line:Oh,column:no,length:u,return:""}}function ha(n,e){return DM(Ph("",null,null,"",null,null,0),n,{length:-n.length},e)}function AM(){return yt}function NM(){return yt=ln>0?Mt(go,--ln):0,no--,yt===10&&(no=1,Oh--),yt}function vn(){return yt=ln<tT?Mt(go,ln++):0,no++,yt===10&&(no=1,Oh++),yt}function tr(){return Mt(go,ln)}function oc(){return ln}function wu(n,e){return Ja(go,n,e)}function Za(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nT(n){return Oh=no=1,tT=qn(go=n),ln=0,[]}function rT(n){return go="",n}function ac(n){return eT(wu(ln-1,Jp(n===91?n+2:n===40?n+1:n)))}function MM(n){for(;(yt=tr())&&yt<33;)vn();return Za(n)>2||Za(yt)>3?"":" "}function LM(n,e){for(;--e&&vn()&&!(yt<48||yt>102||yt>57&&yt<65||yt>70&&yt<97););return wu(n,oc()+(e<6&&tr()==32&&vn()==32))}function Jp(n){for(;vn();)switch(yt){case n:return ln;case 34:case 39:n!==34&&n!==39&&Jp(yt);break;case 40:n===41&&Jp(n);break;case 92:vn();break}return ln}function FM(n,e){for(;vn()&&n+yt!==57;)if(n+yt===84&&tr()===47)break;return"/*"+wu(e,ln-1)+"*"+Dh(n===47?n:vn())}function VM(n){for(;!Za(tr());)vn();return wu(n,ln)}function UM(n){return rT(uc("",null,null,null,[""],n=nT(n),0,[0],n))}function uc(n,e,t,r,i,a,u,h,d){for(var p=0,g=0,y=u,S=0,I=0,x=0,k=1,C=1,D=1,F=0,M="",B=i,R=a,U=r,z=M;C;)switch(x=F,F=vn()){case 40:if(x!=108&&Mt(z,y-1)==58){Xp(z+=Be(ac(F),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:z+=ac(F);break;case 9:case 10:case 13:case 32:z+=MM(x);break;case 92:z+=LM(oc()-1,7);continue;case 47:switch(tr()){case 42:case 47:zl(jM(FM(vn(),oc()),e,t),d);break;default:z+="/"}break;case 123*k:h[p++]=qn(z)*D;case 125*k:case 59:case 0:switch(F){case 0:case 125:C=0;case 59+g:D==-1&&(z=Be(z,/\f/g,"")),I>0&&qn(z)-y&&zl(I>32?TS(z+";",r,t,y-1):TS(Be(z," ","")+";",r,t,y-2),d);break;case 59:z+=";";default:if(zl(U=CS(z,e,t,p,g,i,h,M,B=[],R=[],y),a),F===123)if(g===0)uc(z,e,U,U,B,a,y,h,R);else switch(S===99&&Mt(z,3)===110?100:S){case 100:case 108:case 109:case 115:uc(n,U,U,r&&zl(CS(n,U,U,0,0,i,h,M,i,B=[],y),R),i,R,y,h,r?B:R);break;default:uc(z,U,U,U,[""],R,0,h,R)}}p=g=I=0,k=D=1,M=z="",y=u;break;case 58:y=1+qn(z),I=x;default:if(k<1){if(F==123)--k;else if(F==125&&k++==0&&NM()==125)continue}switch(z+=Dh(F),F*k){case 38:D=g>0?1:(z+="\f",-1);break;case 44:h[p++]=(qn(z)-1)*D,D=1;break;case 64:tr()===45&&(z+=ac(vn())),S=tr(),g=y=qn(M=z+=VM(oc())),F++;break;case 45:x===45&&qn(z)==2&&(k=0)}}return a}function CS(n,e,t,r,i,a,u,h,d,p,g){for(var y=i-1,S=i===0?a:[""],I=_g(S),x=0,k=0,C=0;x<r;++x)for(var D=0,F=Ja(n,y+1,y=bM(k=u[x])),M=n;D<I;++D)(M=eT(k>0?S[D]+" "+F:Be(F,/&\f/g,S[D])))&&(d[C++]=M);return Ph(n,e,t,i===0?Cg:h,d,p,g)}function jM(n,e,t){return Ph(n,e,t,JC,Dh(AM()),Ja(n,2,-2),0)}function TS(n,e,t,r){return Ph(n,e,t,Tg,Ja(n,0,r),Ja(n,r+1,-1),r)}function Bs(n,e){for(var t="",r=_g(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function $M(n,e,t,r){switch(n.type){case xM:if(n.children.length)break;case kM:case Tg:return n.return=n.return||n.value;case JC:return"";case ZC:return n.return=n.value+"{"+Bs(n.children,r)+"}";case Cg:n.value=n.props.join(",")}return qn(t=Bs(n.children,r))?n.return=n.value+"{"+t+"}":""}function BM(n){var e=_g(n);return function(t,r,i,a){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,a)||"";return u}}function zM(n){return function(e){e.root||(e=e.return)&&n(e)}}function HM(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var qM=function(e,t,r){for(var i=0,a=0;i=a,a=tr(),i===38&&a===12&&(t[r]=1),!Za(a);)vn();return wu(e,ln)},KM=function(e,t){var r=-1,i=44;do switch(Za(i)){case 0:i===38&&tr()===12&&(t[r]=1),e[r]+=qM(ln-1,t,r);break;case 2:e[r]+=ac(i);break;case 4:if(i===44){e[++r]=tr()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Dh(i)}while(i=vn());return e},GM=function(e,t){return rT(KM(nT(e),t))},_S=new WeakMap,WM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!_S.get(r))&&!i){_S.set(e,!0);for(var a=[],u=GM(t,a),h=r.props,d=0,p=0;d<u.length;d++)for(var g=0;g<h.length;g++,p++)e.props[p]=a[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},QM=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function iT(n,e){switch(OM(n,e)){case 5103:return $e+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+n+jc+n+zt+n+n;case 6828:case 4268:return $e+n+zt+n+n;case 6165:return $e+n+zt+"flex-"+n+n;case 5187:return $e+n+Be(n,/(\w+).+(:[^]+)/,$e+"box-$1$2"+zt+"flex-$1$2")+n;case 5443:return $e+n+zt+"flex-item-"+Be(n,/flex-|-self/,"")+n;case 4675:return $e+n+zt+"flex-line-pack"+Be(n,/align-content|flex-|-self/,"")+n;case 5548:return $e+n+zt+Be(n,"shrink","negative")+n;case 5292:return $e+n+zt+Be(n,"basis","preferred-size")+n;case 6060:return $e+"box-"+Be(n,"-grow","")+$e+n+zt+Be(n,"grow","positive")+n;case 4554:return $e+Be(n,/([^-])(transform)/g,"$1"+$e+"$2")+n;case 6187:return Be(Be(Be(n,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),n,"")+n;case 5495:case 3959:return Be(n,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return Be(Be(n,/(.+:)(flex-)?(.*)/,$e+"box-pack:$3"+zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+n+n;case 4095:case 3583:case 4068:case 2532:return Be(n,/(.+)-inline(.+)/,$e+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qn(n)-1-e>6)switch(Mt(n,e+1)){case 109:if(Mt(n,e+4)!==45)break;case 102:return Be(n,/(.+:)(.+)-([^]+)/,"$1"+$e+"$2-$3$1"+jc+(Mt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Xp(n,"stretch")?iT(Be(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Mt(n,e+1)!==115)break;case 6444:switch(Mt(n,qn(n)-3-(~Xp(n,"!important")&&10))){case 107:return Be(n,":",":"+$e)+n;case 101:return Be(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$e+(Mt(n,14)===45?"inline-":"")+"box$3$1"+$e+"$2$3$1"+zt+"$2box$3")+n}break;case 5936:switch(Mt(n,e+11)){case 114:return $e+n+zt+Be(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return $e+n+zt+Be(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return $e+n+zt+Be(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return $e+n+zt+n+n}return n}var YM=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Tg:e.return=iT(e.value,e.length);break;case ZC:return Bs([ha(e,{value:Be(e.value,"@","@"+$e)})],i);case Cg:if(e.length)return RM(e.props,function(a){switch(PM(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bs([ha(e,{props:[Be(a,/:(read-\w+)/,":"+jc+"$1")]})],i);case"::placeholder":return Bs([ha(e,{props:[Be(a,/:(plac\w+)/,":"+$e+"input-$1")]}),ha(e,{props:[Be(a,/:(plac\w+)/,":"+jc+"$1")]}),ha(e,{props:[Be(a,/:(plac\w+)/,zt+"input-$1")]})],i)}return""})}},XM=[YM],JM=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var C=k.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=e.stylisPlugins||XM,a={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(k){for(var C=k.getAttribute("data-emotion").split(" "),D=1;D<C.length;D++)a[C[D]]=!0;h.push(k)});var d,p=[WM,QM];{var g,y=[$M,zM(function(k){g.insert(k)})],S=BM(p.concat(i,y)),I=function(C){return Bs(UM(C),S)};d=function(C,D,F,M){g=F,I(C?C+"{"+D.styles+"}":D.styles),M&&(x.inserted[D.name]=!0)}}var x={key:t,sheet:new _M({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:d};return x.sheet.hydrate(h),x},Jf={exports:{}},He={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function ZM(){if(kS)return He;kS=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,I=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,k=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,D=n?Symbol.for("react.responder"):60118,F=n?Symbol.for("react.scope"):60119;function M(R){if(typeof R=="object"&&R!==null){var U=R.$$typeof;switch(U){case e:switch(R=R.type,R){case d:case p:case r:case a:case i:case y:return R;default:switch(R=R&&R.$$typeof,R){case h:case g:case x:case I:case u:return R;default:return U}}case t:return U}}}function B(R){return M(R)===p}return He.AsyncMode=d,He.ConcurrentMode=p,He.ContextConsumer=h,He.ContextProvider=u,He.Element=e,He.ForwardRef=g,He.Fragment=r,He.Lazy=x,He.Memo=I,He.Portal=t,He.Profiler=a,He.StrictMode=i,He.Suspense=y,He.isAsyncMode=function(R){return B(R)||M(R)===d},He.isConcurrentMode=B,He.isContextConsumer=function(R){return M(R)===h},He.isContextProvider=function(R){return M(R)===u},He.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},He.isForwardRef=function(R){return M(R)===g},He.isFragment=function(R){return M(R)===r},He.isLazy=function(R){return M(R)===x},He.isMemo=function(R){return M(R)===I},He.isPortal=function(R){return M(R)===t},He.isProfiler=function(R){return M(R)===a},He.isStrictMode=function(R){return M(R)===i},He.isSuspense=function(R){return M(R)===y},He.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===p||R===a||R===i||R===y||R===S||typeof R=="object"&&R!==null&&(R.$$typeof===x||R.$$typeof===I||R.$$typeof===u||R.$$typeof===h||R.$$typeof===g||R.$$typeof===C||R.$$typeof===D||R.$$typeof===F||R.$$typeof===k)},He.typeOf=M,He}var xS;function e2(){return xS||(xS=1,Jf.exports=ZM()),Jf.exports}var Zf,bS;function t2(){if(bS)return Zf;bS=1;var n=e2(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=i;function u(x){return n.isMemo(x)?i:a[x.$$typeof]||e}var h=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,S=Object.prototype;function I(x,k,C){if(typeof k!="string"){if(S){var D=y(k);D&&D!==S&&I(x,D,C)}var F=d(k);p&&(F=F.concat(p(k)));for(var M=u(x),B=u(k),R=0;R<F.length;++R){var U=F[R];if(!t[U]&&!(C&&C[U])&&!(B&&B[U])&&!(M&&M[U])){var z=g(k,U);try{h(x,U,z)}catch{}}}}return x}return Zf=I,Zf}t2();var n2=!0;function r2(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var sT=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||n2===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},i2=function(e,t,r){sT(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function s2(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var o2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a2=/[A-Z]|^ms/g,u2=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oT=function(e){return e.charCodeAt(1)===45},DS=function(e){return e!=null&&typeof e!="boolean"},ep=HM(function(n){return oT(n)?n:n.replace(a2,"-$&").toLowerCase()}),OS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(u2,function(r,i,a){return Kn={name:i,styles:a,next:Kn},i})}return o2[e]!==1&&!oT(e)&&typeof t=="number"&&t!==0?t+"px":t};function eu(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Kn={name:i.name,styles:i.styles,next:Kn},i.name;var a=t;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)Kn={name:u.name,styles:u.styles,next:Kn},u=u.next;var h=a.styles+";";return h}return l2(n,e,t)}case"function":{if(n!==void 0){var d=Kn,p=t(n);return Kn=d,eu(n,e,p)}break}}var g=t;return g}function l2(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=eu(n,e,t[i])+";";else for(var a in t){var u=t[a];if(typeof u!="object"){var h=u;DS(h)&&(r+=ep(a)+":"+OS(a,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var d=0;d<u.length;d++)DS(u[d])&&(r+=ep(a)+":"+OS(a,u[d])+";");else{var p=eu(n,e,u);switch(a){case"animation":case"animationName":{r+=ep(a)+":"+p+";";break}default:r+=a+"{"+p+"}"}}}return r}var PS=/label:\s*([^\s;{]+)\s*(;|$)/g,Kn;function aT(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Kn=void 0;var a=n[0];if(a==null||a.raw===void 0)r=!1,i+=eu(t,e,a);else{var u=a;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=eu(t,e,n[h]),r){var d=a;i+=d[h]}PS.lastIndex=0;for(var p="",g;(g=PS.exec(i))!==null;)p+="-"+g[1];var y=s2(i)+p;return{name:y,styles:i,next:Kn}}var c2=function(e){return e()},h2=bw.useInsertionEffect?bw.useInsertionEffect:!1,d2=h2||c2,uT=N.createContext(typeof HTMLElement<"u"?JM({key:"css"}):null);uT.Provider;var f2=function(e){return N.forwardRef(function(t,r){var i=N.useContext(uT);return e(t,i,r)})},p2=N.createContext({}),kg={}.hasOwnProperty,Zp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m2=function(e,t){var r={};for(var i in t)kg.call(t,i)&&(r[i]=t[i]);return r[Zp]=e,r},g2=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return sT(t,r,i),d2(function(){return i2(t,r,i)}),null},v2=f2(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[Zp],a=[r],u="";typeof n.className=="string"?u=r2(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var h=aT(a,void 0,N.useContext(p2));u+=e.key+"-"+h.name;var d={};for(var p in n)kg.call(n,p)&&p!=="css"&&p!==Zp&&(d[p]=n[p]);return d.className=u,t&&(d.ref=t),N.createElement(N.Fragment,null,N.createElement(g2,{cache:e,serialized:h,isStringTag:typeof i=="string"}),N.createElement(i,d))}),y2=v2,ce=function(e,t){var r=arguments;if(t==null||!kg.call(t,"css"))return N.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=y2,a[1]=m2(e,t);for(var u=2;u<i;u++)a[u]=r[u];return N.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ce||(ce={}));function xg(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return aT(e)}function w2(){var n=xg.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function S2(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const E2=Math.min,I2=Math.max,$c=Math.round,Hl=Math.floor,Bc=n=>({x:n,y:n});function C2(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Rh(){return typeof window<"u"}function lT(n){return hT(n)?(n.nodeName||"").toLowerCase():"#document"}function wr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function cT(n){var e;return(e=(hT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hT(n){return Rh()?n instanceof Node||n instanceof wr(n).Node:!1}function T2(n){return Rh()?n instanceof Element||n instanceof wr(n).Element:!1}function bg(n){return Rh()?n instanceof HTMLElement||n instanceof wr(n).HTMLElement:!1}function RS(n){return!Rh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof wr(n).ShadowRoot}function dT(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Dg(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function _2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function k2(n){return["html","body","#document"].includes(lT(n))}function Dg(n){return wr(n).getComputedStyle(n)}function x2(n){if(lT(n)==="html")return n;const e=n.assignedSlot||n.parentNode||RS(n)&&n.host||cT(n);return RS(e)?e.host:e}function fT(n){const e=x2(n);return k2(e)?n.ownerDocument?n.ownerDocument.body:n.body:bg(e)&&dT(e)?e:fT(e)}function zc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=fT(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),u=wr(i);if(a){const h=em(u);return e.concat(u,u.visualViewport||[],dT(i)?i:[],h&&t?zc(h):[])}return e.concat(i,zc(i,[],t))}function em(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function b2(n){const e=Dg(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=bg(n),a=i?n.offsetWidth:t,u=i?n.offsetHeight:r,h=$c(t)!==a||$c(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function Og(n){return T2(n)?n:n.contextElement}function AS(n){const e=Og(n);if(!bg(e))return Bc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=b2(e);let u=(a?$c(t.width):t.width)/r,h=(a?$c(t.height):t.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const D2=Bc(0);function O2(n){const e=wr(n);return!_2()||!e.visualViewport?D2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P2(n,e,t){return!1}function NS(n,e,t,r){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),a=Og(n);let u=Bc(1);e&&(u=AS(n));const h=P2()?O2(a):Bc(0);let d=(i.left+h.x)/u.x,p=(i.top+h.y)/u.y,g=i.width/u.x,y=i.height/u.y;if(a){const S=wr(a),I=r;let x=S,k=em(x);for(;k&&r&&I!==x;){const C=AS(k),D=k.getBoundingClientRect(),F=Dg(k),M=D.left+(k.clientLeft+parseFloat(F.paddingLeft))*C.x,B=D.top+(k.clientTop+parseFloat(F.paddingTop))*C.y;d*=C.x,p*=C.y,g*=C.x,y*=C.y,d+=M,p+=B,x=wr(k),k=em(x)}}return C2({width:g,height:y,x:d,y:p})}function pT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function R2(n,e){let t=null,r;const i=cT(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,d){h===void 0&&(h=!1),d===void 0&&(d=1),a();const p=n.getBoundingClientRect(),{left:g,top:y,width:S,height:I}=p;if(h||e(),!S||!I)return;const x=Hl(y),k=Hl(i.clientWidth-(g+S)),C=Hl(i.clientHeight-(y+I)),D=Hl(g),M={rootMargin:-x+"px "+-k+"px "+-C+"px "+-D+"px",threshold:I2(0,E2(1,d))||1};let B=!0;function R(U){const z=U[0].intersectionRatio;if(z!==d){if(!B)return u();z?u(!1,z):r=setTimeout(()=>{u(!1,1e-7)},1e3)}z===1&&!pT(p,n.getBoundingClientRect())&&u(),B=!1}try{t=new IntersectionObserver(R,{...M,root:i.ownerDocument})}catch{t=new IntersectionObserver(R,M)}t.observe(n)}return u(!0),a}function A2(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Og(n),g=i||a?[...p?zc(p):[],...zc(e)]:[];g.forEach(D=>{i&&D.addEventListener("scroll",t,{passive:!0}),a&&D.addEventListener("resize",t)});const y=p&&h?R2(p,t):null;let S=-1,I=null;u&&(I=new ResizeObserver(D=>{let[F]=D;F&&F.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=I)==null||M.observe(e)})),t()}),p&&!d&&I.observe(p),I.observe(e));let x,k=d?NS(n):null;d&&C();function C(){const D=NS(n);k&&!pT(k,D)&&t(),k=D,x=requestAnimationFrame(C)}return t(),()=>{var D;g.forEach(F=>{i&&F.removeEventListener("scroll",t),a&&F.removeEventListener("resize",t)}),y==null||y(),(D=I)==null||D.disconnect(),I=null,d&&cancelAnimationFrame(x)}}var tm=N.useLayoutEffect,N2=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Hc=function(){};function M2(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function L2(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&a.push("".concat(M2(n,u)));return a.filter(function(h){return h}).map(function(h){return String(h).trim()}).join(" ")}var MS=function(e){return q2(e)?e.filter(Boolean):Xi(e)==="object"&&e!==null?[e]:[]},mT=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Er(e,N2);return me({},t)},ht=function(e,t,r){var i=e.cx,a=e.getStyles,u=e.getClassNames,h=e.className;return{css:a(t,e),className:i(r??{},u(t,e),h)}};function Ah(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function F2(n){return Ah(n)?window.innerHeight:n.clientHeight}function gT(n){return Ah(n)?window.pageYOffset:n.scrollTop}function qc(n,e){if(Ah(n)){window.scrollTo(0,e);return}n.scrollTop=e}function V2(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=n;i=i.parentElement;)if(e=getComputedStyle(i),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function U2(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function ql(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Hc,i=gT(n),a=e-i,u=10,h=0;function d(){h+=u;var p=U2(h,i,a,t);qc(n,p),h<t?window.requestAnimationFrame(d):r(n)}d()}function LS(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>t.bottom?qc(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+i,n.scrollHeight)):r.top-i<t.top&&qc(n,Math.max(e.offsetTop-i,0))}function j2(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function FS(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function $2(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var vT=!1,B2={get passive(){return vT=!0}},Kl=typeof window<"u"?window:{};Kl.addEventListener&&Kl.removeEventListener&&(Kl.addEventListener("p",Hc,B2),Kl.removeEventListener("p",Hc,!1));var z2=vT;function H2(n){return n!=null}function q2(n){return Array.isArray(n)}function Gl(n,e,t){return n?e:t}var K2=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(u){var h=gr(u,1),d=h[0];return!r.includes(d)});return a.reduce(function(u,h){var d=gr(h,2),p=d[0],g=d[1];return u[p]=g,u},{})},G2=["children","innerProps"],W2=["children","innerProps"];function Q2(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,i=n.placement,a=n.shouldScroll,u=n.isFixedPosition,h=n.controlHeight,d=V2(t),p={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return p;var g=d.getBoundingClientRect(),y=g.height,S=t.getBoundingClientRect(),I=S.bottom,x=S.height,k=S.top,C=t.offsetParent.getBoundingClientRect(),D=C.top,F=u?window.innerHeight:F2(d),M=gT(d),B=parseInt(getComputedStyle(t).marginBottom,10),R=parseInt(getComputedStyle(t).marginTop,10),U=D-R,z=F-k,Z=U+M,Te=y-M-k,ze=I-F+M+B,nt=M+k-R,De=160;switch(i){case"auto":case"bottom":if(z>=x)return{placement:"bottom",maxHeight:e};if(Te>=x&&!u)return a&&ql(d,ze,De),{placement:"bottom",maxHeight:e};if(!u&&Te>=r||u&&z>=r){a&&ql(d,ze,De);var Xe=u?z-B:Te-B;return{placement:"bottom",maxHeight:Xe}}if(i==="auto"||u){var Ue=e,Fe=u?U:Z;return Fe>=r&&(Ue=Math.min(Fe-B-h,e)),{placement:"top",maxHeight:Ue}}if(i==="bottom")return a&&qc(d,ze),{placement:"bottom",maxHeight:e};break;case"top":if(U>=x)return{placement:"top",maxHeight:e};if(Z>=x&&!u)return a&&ql(d,nt,De),{placement:"top",maxHeight:e};if(!u&&Z>=r||u&&U>=r){var xe=e;return(!u&&Z>=r||u&&U>=r)&&(xe=u?U-R:Z-R),a&&ql(d,nt,De),{placement:"top",maxHeight:xe}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return p}function Y2(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var yT=function(e){return e==="auto"?"bottom":e},X2=function(e,t){var r,i=e.placement,a=e.theme,u=a.borderRadius,h=a.spacing,d=a.colors;return me((r={label:"menu"},Ia(r,Y2(i),"100%"),Ia(r,"position","absolute"),Ia(r,"width","100%"),Ia(r,"zIndex",1),r),t?{}:{backgroundColor:d.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},wT=N.createContext(null),J2=function(e){var t=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,u=e.menuPosition,h=e.menuShouldScrollIntoView,d=e.theme,p=N.useContext(wT)||{},g=p.setPortalPlacement,y=N.useRef(null),S=N.useState(i),I=gr(S,2),x=I[0],k=I[1],C=N.useState(null),D=gr(C,2),F=D[0],M=D[1],B=d.spacing.controlHeight;return tm(function(){var R=y.current;if(R){var U=u==="fixed",z=h&&!U,Z=Q2({maxHeight:i,menuEl:R,minHeight:r,placement:a,shouldScroll:z,isFixedPosition:U,controlHeight:B});k(Z.maxHeight),M(Z.placement),g==null||g(Z.placement)}},[i,a,u,h,r,g,B]),t({ref:y,placerProps:me(me({},e),{},{placement:F||yT(a),maxHeight:x})})},Z2=function(e){var t=e.children,r=e.innerRef,i=e.innerProps;return ce("div",ye({},ht(e,"menu",{menu:!0}),{ref:r},i),t)},eL=Z2,tL=function(e,t){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return me({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},nL=function(e){var t=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return ce("div",ye({},ht(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),t)},ST=function(e,t){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return me({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},rL=ST,iL=ST,sL=function(e){var t=e.children,r=t===void 0?"No options":t,i=e.innerProps,a=Er(e,G2);return ce("div",ye({},ht(me(me({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},oL=function(e){var t=e.children,r=t===void 0?"Loading...":t,i=e.innerProps,a=Er(e,W2);return ce("div",ye({},ht(me(me({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},aL=function(e){var t=e.rect,r=e.offset,i=e.position;return{left:t.left,position:i,top:r,width:t.width,zIndex:1}},uL=function(e){var t=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,u=e.menuPlacement,h=e.menuPosition,d=N.useRef(null),p=N.useRef(null),g=N.useState(yT(u)),y=gr(g,2),S=y[0],I=y[1],x=N.useMemo(function(){return{setPortalPlacement:I}},[]),k=N.useState(null),C=gr(k,2),D=C[0],F=C[1],M=N.useCallback(function(){if(i){var z=j2(i),Z=h==="fixed"?0:window.pageYOffset,Te=z[S]+Z;(Te!==(D==null?void 0:D.offset)||z.left!==(D==null?void 0:D.rect.left)||z.width!==(D==null?void 0:D.rect.width))&&F({offset:Te,rect:z})}},[i,h,S,D==null?void 0:D.offset,D==null?void 0:D.rect.left,D==null?void 0:D.rect.width]);tm(function(){M()},[M]);var B=N.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),i&&d.current&&(p.current=A2(i,d.current,M,{elementResize:"ResizeObserver"in window}))},[i,M]);tm(function(){B()},[B]);var R=N.useCallback(function(z){d.current=z,B()},[B]);if(!t&&h!=="fixed"||!D)return null;var U=ce("div",ye({ref:R},ht(me(me({},e),{},{offset:D.offset,position:h,rect:D.rect}),"menuPortal",{"menu-portal":!0}),a),r);return ce(wT.Provider,{value:x},t?sE.createPortal(U,t):U)},lL=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},cL=function(e){var t=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return ce("div",ye({},ht(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),t)},hL=function(e,t){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,u=e.selectProps.controlShouldRenderValue;return me({alignItems:"center",display:i&&a&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},dL=function(e){var t=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return ce("div",ye({},ht(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),t)},fL=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},pL=function(e){var t=e.children,r=e.innerProps;return ce("div",ye({},ht(e,"indicatorsContainer",{indicators:!0}),r),t)},VS,mL=["size"],gL=["innerProps","isRtl","size"],vL={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ET=function(e){var t=e.size,r=Er(e,mL);return ce("svg",ye({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:vL},r))},Pg=function(e){return ce(ET,ye({size:20},e),ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},IT=function(e){return ce(ET,ye({size:20},e),ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},CT=function(e,t){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,u=i.colors;return me({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:a*2,":hover":{color:r?u.neutral80:u.neutral40}})},yL=CT,wL=function(e){var t=e.children,r=e.innerProps;return ce("div",ye({},ht(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||ce(IT,null))},SL=CT,EL=function(e){var t=e.children,r=e.innerProps;return ce("div",ye({},ht(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||ce(Pg,null))},IL=function(e,t){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,u=i.colors;return me({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2})},CL=function(e){var t=e.innerProps;return ce("span",ye({},t,ht(e,"indicatorSeparator",{"indicator-separator":!0})))},TL=w2(VS||(VS=S2([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),_L=function(e,t){var r=e.isFocused,i=e.size,a=e.theme,u=a.colors,h=a.spacing.baseUnit;return me({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:h*2})},tp=function(e){var t=e.delay,r=e.offset;return ce("span",{css:xg({animation:"".concat(TL," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},kL=function(e){var t=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,u=Er(e,gL);return ce("div",ye({},ht(me(me({},u),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ce(tp,{delay:0,offset:r}),ce(tp,{delay:160,offset:!0}),ce(tp,{delay:320,offset:!r}))},xL=function(e,t){var r=e.isDisabled,i=e.isFocused,a=e.theme,u=a.colors,h=a.borderRadius,d=a.spacing;return me({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:i?u.primary:u.neutral20,borderRadius:h,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:i?u.primary:u.neutral30}})},bL=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,u=e.innerProps,h=e.menuIsOpen;return ce("div",ye({ref:a},ht(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":h}),u,{"aria-disabled":r||void 0}),t)},DL=bL,OL=["data"],PL=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},RL=function(e){var t=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,u=e.Heading,h=e.headingProps,d=e.innerProps,p=e.label,g=e.theme,y=e.selectProps;return ce("div",ye({},ht(e,"group",{group:!0}),d),ce(u,ye({},h,{selectProps:y,theme:g,getStyles:i,getClassNames:a,cx:r}),p),ce("div",null,t))},AL=function(e,t){var r=e.theme,i=r.colors,a=r.spacing;return me({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},NL=function(e){var t=mT(e);t.data;var r=Er(t,OL);return ce("div",ye({},ht(e,"groupHeading",{"group-heading":!0}),r))},ML=RL,LL=["innerRef","isDisabled","isHidden","inputClassName"],FL=function(e,t){var r=e.isDisabled,i=e.value,a=e.theme,u=a.spacing,h=a.colors;return me(me({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},VL),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:h.neutral80})},TT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},VL={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":me({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},TT)},UL=function(e){return me({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},TT)},jL=function(e){var t=e.cx,r=e.value,i=mT(e),a=i.innerRef,u=i.isDisabled,h=i.isHidden,d=i.inputClassName,p=Er(i,LL);return ce("div",ye({},ht(e,"input",{"input-container":!0}),{"data-value":r||""}),ce("input",ye({className:t({input:!0},d),ref:a,style:UL(h),disabled:u},p)))},$L=jL,BL=function(e,t){var r=e.theme,i=r.spacing,a=r.borderRadius,u=r.colors;return me({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},zL=function(e,t){var r=e.theme,i=r.borderRadius,a=r.colors,u=e.cropWithEllipsis;return me({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},HL=function(e,t){var r=e.theme,i=r.spacing,a=r.borderRadius,u=r.colors,h=e.isFocused;return me({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:h?u.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},_T=function(e){var t=e.children,r=e.innerProps;return ce("div",r,t)},qL=_T,KL=_T;function GL(n){var e=n.children,t=n.innerProps;return ce("div",ye({role:"button"},t),e||ce(Pg,{size:14}))}var WL=function(e){var t=e.children,r=e.components,i=e.data,a=e.innerProps,u=e.isDisabled,h=e.removeProps,d=e.selectProps,p=r.Container,g=r.Label,y=r.Remove;return ce(p,{data:i,innerProps:me(me({},ht(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),a),selectProps:d},ce(g,{data:i,innerProps:me({},ht(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},t),ce(y,{data:i,innerProps:me(me({},ht(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},h),selectProps:d}))},QL=WL,YL=function(e,t){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,u=e.theme,h=u.spacing,d=u.colors;return me({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?d.primary:i?d.primary25:"transparent",color:r?d.neutral20:a?d.neutral0:"inherit",padding:"".concat(h.baseUnit*2,"px ").concat(h.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?d.primary:d.primary50}})},XL=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,u=e.innerRef,h=e.innerProps;return ce("div",ye({},ht(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:u,"aria-disabled":r},h),t)},JL=XL,ZL=function(e,t){var r=e.theme,i=r.spacing,a=r.colors;return me({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},eF=function(e){var t=e.children,r=e.innerProps;return ce("div",ye({},ht(e,"placeholder",{placeholder:!0}),r),t)},tF=eF,nF=function(e,t){var r=e.isDisabled,i=e.theme,a=i.spacing,u=i.colors;return me({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},rF=function(e){var t=e.children,r=e.isDisabled,i=e.innerProps;return ce("div",ye({},ht(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),t)},iF=rF,sF={ClearIndicator:EL,Control:DL,DropdownIndicator:wL,DownChevron:IT,CrossIcon:Pg,Group:ML,GroupHeading:NL,IndicatorsContainer:pL,IndicatorSeparator:CL,Input:$L,LoadingIndicator:kL,Menu:eL,MenuList:nL,MenuPortal:uL,LoadingMessage:oL,NoOptionsMessage:sL,MultiValue:QL,MultiValueContainer:qL,MultiValueLabel:KL,MultiValueRemove:GL,Option:JL,Placeholder:tF,SelectContainer:cL,SingleValue:iF,ValueContainer:dL},oF=function(e){return me(me({},sF),e.components)},US=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function aF(n,e){return!!(n===e||US(n)&&US(e))}function uF(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!aF(n[t],e[t]))return!1;return!0}function lF(n,e){e===void 0&&(e=uF);var t=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var u=n.apply(this,i);return t={lastResult:u,lastArgs:i,lastThis:this},u}return r.clear=function(){t=null},r}var cF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},hF=function(e){return ce("span",ye({css:cF},e))},jS=hF,dF={guidance:function(e){var t=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,u=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return u?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,i=e.options,a=e.label,u=a===void 0?"":a,h=e.selectValue,d=e.isDisabled,p=e.isSelected,g=e.isAppleDevice,y=function(k,C){return k&&k.length?"".concat(k.indexOf(C)+1," of ").concat(k.length):""};if(t==="value"&&h)return"value ".concat(u," focused, ").concat(y(h,r),".");if(t==="menu"&&g){var S=d?" disabled":"",I="".concat(p?" selected":"").concat(S);return"".concat(u).concat(I,", ").concat(y(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},fF=function(e){var t=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,u=e.isFocused,h=e.selectValue,d=e.selectProps,p=e.id,g=e.isAppleDevice,y=d.ariaLiveMessages,S=d.getOptionLabel,I=d.inputValue,x=d.isMulti,k=d.isOptionDisabled,C=d.isSearchable,D=d.menuIsOpen,F=d.options,M=d.screenReaderStatus,B=d.tabSelectsValue,R=d.isLoading,U=d["aria-label"],z=d["aria-live"],Z=N.useMemo(function(){return me(me({},dF),y||{})},[y]),Te=N.useMemo(function(){var Fe="";if(t&&Z.onChange){var xe=t.option,Pe=t.options,G=t.removedValue,oe=t.removedValues,E=t.value,L=function(Ie){return Array.isArray(Ie)?null:Ie},Q=G||xe||L(E),ge=Q?S(Q):"",le=Pe||oe||void 0,be=le?le.map(S):[],ve=me({isDisabled:Q&&k(Q,h),label:ge,labels:be},t);Fe=Z.onChange(ve)}return Fe},[t,Z,k,h,S]),ze=N.useMemo(function(){var Fe="",xe=r||i,Pe=!!(r&&h&&h.includes(r));if(xe&&Z.onFocus){var G={focused:xe,label:S(xe),isDisabled:k(xe,h),isSelected:Pe,options:a,context:xe===r?"menu":"value",selectValue:h,isAppleDevice:g};Fe=Z.onFocus(G)}return Fe},[r,i,S,k,Z,a,h,g]),nt=N.useMemo(function(){var Fe="";if(D&&F.length&&!R&&Z.onFilter){var xe=M({count:a.length});Fe=Z.onFilter({inputValue:I,resultsMessage:xe})}return Fe},[a,I,D,Z,F,M,R]),De=(t==null?void 0:t.action)==="initial-input-focus",Xe=N.useMemo(function(){var Fe="";if(Z.guidance){var xe=i?"value":D?"menu":"input";Fe=Z.guidance({"aria-label":U,context:xe,isDisabled:r&&k(r,h),isMulti:x,isSearchable:C,tabSelectsValue:B,isInitialFocus:De})}return Fe},[U,r,i,x,k,C,D,Z,h,B,De]),Ue=ce(N.Fragment,null,ce("span",{id:"aria-selection"},Te),ce("span",{id:"aria-focused"},ze),ce("span",{id:"aria-results"},nt),ce("span",{id:"aria-guidance"},Xe));return ce(N.Fragment,null,ce(jS,{id:p},De&&Ue),ce(jS,{"aria-live":z,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!De&&Ue))},pF=fF,nm=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],mF=new RegExp("["+nm.map(function(n){return n.letters}).join("")+"]","g"),kT={};for(var np=0;np<nm.length;np++)for(var rp=nm[np],ip=0;ip<rp.letters.length;ip++)kT[rp.letters[ip]]=rp.base;var xT=function(e){return e.replace(mF,function(t){return kT[t]})},gF=lF(xT),$S=function(e){return e.replace(/^\s+|\s+$/g,"")},vF=function(e){return"".concat(e.label," ").concat(e.value)},yF=function(e){return function(t,r){if(t.data.__isNew__)return!0;var i=me({ignoreCase:!0,ignoreAccents:!0,stringify:vF,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,u=i.ignoreAccents,h=i.stringify,d=i.trim,p=i.matchFrom,g=d?$S(r):r,y=d?$S(h(t)):h(t);return a&&(g=g.toLowerCase(),y=y.toLowerCase()),u&&(g=gF(g),y=xT(y)),p==="start"?y.substr(0,g.length)===g:y.indexOf(g)>-1}},wF=["innerRef"];function SF(n){var e=n.innerRef,t=Er(n,wF),r=K2(t,"onExited","in","enter","exit","appear");return ce("input",ye({ref:e},r,{css:xg({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var EF=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function IF(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,i=n.onTopArrive,a=n.onTopLeave,u=N.useRef(!1),h=N.useRef(!1),d=N.useRef(0),p=N.useRef(null),g=N.useCallback(function(C,D){if(p.current!==null){var F=p.current,M=F.scrollTop,B=F.scrollHeight,R=F.clientHeight,U=p.current,z=D>0,Z=B-R-M,Te=!1;Z>D&&u.current&&(r&&r(C),u.current=!1),z&&h.current&&(a&&a(C),h.current=!1),z&&D>Z?(t&&!u.current&&t(C),U.scrollTop=B,Te=!0,u.current=!0):!z&&-D>M&&(i&&!h.current&&i(C),U.scrollTop=0,Te=!0,h.current=!0),Te&&EF(C)}},[t,r,i,a]),y=N.useCallback(function(C){g(C,C.deltaY)},[g]),S=N.useCallback(function(C){d.current=C.changedTouches[0].clientY},[]),I=N.useCallback(function(C){var D=d.current-C.changedTouches[0].clientY;g(C,D)},[g]),x=N.useCallback(function(C){if(C){var D=z2?{passive:!1}:!1;C.addEventListener("wheel",y,D),C.addEventListener("touchstart",S,D),C.addEventListener("touchmove",I,D)}},[I,S,y]),k=N.useCallback(function(C){C&&(C.removeEventListener("wheel",y,!1),C.removeEventListener("touchstart",S,!1),C.removeEventListener("touchmove",I,!1))},[I,S,y]);return N.useEffect(function(){if(e){var C=p.current;return x(C),function(){k(C)}}},[e,x,k]),function(C){p.current=C}}var BS=["boxSizing","height","overflow","paddingRight","position"],zS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function HS(n){n.cancelable&&n.preventDefault()}function qS(n){n.stopPropagation()}function KS(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function GS(){return"ontouchstart"in window||navigator.maxTouchPoints}var WS=!!(typeof window<"u"&&window.document&&window.document.createElement),da=0,bs={capture:!1,passive:!1};function CF(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,i=N.useRef({}),a=N.useRef(null),u=N.useCallback(function(d){if(WS){var p=document.body,g=p&&p.style;if(r&&BS.forEach(function(x){var k=g&&g[x];i.current[x]=k}),r&&da<1){var y=parseInt(i.current.paddingRight,10)||0,S=document.body?document.body.clientWidth:0,I=window.innerWidth-S+y||0;Object.keys(zS).forEach(function(x){var k=zS[x];g&&(g[x]=k)}),g&&(g.paddingRight="".concat(I,"px"))}p&&GS()&&(p.addEventListener("touchmove",HS,bs),d&&(d.addEventListener("touchstart",KS,bs),d.addEventListener("touchmove",qS,bs))),da+=1}},[r]),h=N.useCallback(function(d){if(WS){var p=document.body,g=p&&p.style;da=Math.max(da-1,0),r&&da<1&&BS.forEach(function(y){var S=i.current[y];g&&(g[y]=S)}),p&&GS()&&(p.removeEventListener("touchmove",HS,bs),d&&(d.removeEventListener("touchstart",KS,bs),d.removeEventListener("touchmove",qS,bs)))}},[r]);return N.useEffect(function(){if(e){var d=a.current;return u(d),function(){h(d)}}},[e,u,h]),function(d){a.current=d}}var TF=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},_F={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function kF(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,i=r===void 0?!0:r,a=n.onBottomArrive,u=n.onBottomLeave,h=n.onTopArrive,d=n.onTopLeave,p=IF({isEnabled:i,onBottomArrive:a,onBottomLeave:u,onTopArrive:h,onTopLeave:d}),g=CF({isEnabled:t}),y=function(I){p(I),g(I)};return ce(N.Fragment,null,t&&ce("div",{onClick:TF,css:_F}),e(y))}var xF={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},bF=function(e){var t=e.name,r=e.onFocus;return ce("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:xF,value:"",onChange:function(){}})},DF=bF;function Rg(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function OF(){return Rg(/^iPhone/i)}function bT(){return Rg(/^Mac/i)}function PF(){return Rg(/^iPad/i)||bT()&&navigator.maxTouchPoints>1}function RF(){return OF()||PF()}function AF(){return bT()||RF()}var NF=function(e){return e.label},MF=function(e){return e.label},LF=function(e){return e.value},FF=function(e){return!!e.isDisabled},VF={clearIndicator:SL,container:lL,control:xL,dropdownIndicator:yL,group:PL,groupHeading:AL,indicatorsContainer:fL,indicatorSeparator:IL,input:FL,loadingIndicator:_L,loadingMessage:iL,menu:X2,menuList:tL,menuPortal:aL,multiValue:BL,multiValueLabel:zL,multiValueRemove:HL,noOptionsMessage:rL,option:YL,placeholder:ZL,singleValue:nF,valueContainer:hL},UF={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},jF=4,DT=4,$F=38,BF=DT*2,zF={baseUnit:DT,controlHeight:$F,menuGutter:BF},sp={borderRadius:jF,colors:UF,spacing:zF},HF={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:FS(),captureMenuScroll:!FS(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:yF(),formatGroupLabel:NF,getOptionLabel:MF,getOptionValue:LF,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:FF,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!$2(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function QS(n,e,t,r){var i=RT(n,e,t),a=AT(n,e,t),u=PT(n,e),h=Kc(n,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:u,value:h,index:r}}function lc(n,e){return n.options.map(function(t,r){if("options"in t){var i=t.options.map(function(u,h){return QS(n,u,e,h)}).filter(function(u){return XS(n,u)});return i.length>0?{type:"group",data:t,options:i,index:r}:void 0}var a=QS(n,t,e,r);return XS(n,a)?a:void 0}).filter(H2)}function OT(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Ig(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function YS(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Ig(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function qF(n,e){return OT(lc(n,e))}function XS(n,e){var t=n.inputValue,r=t===void 0?"":t,i=e.data,a=e.isSelected,u=e.label,h=e.value;return(!MT(n)||!a)&&NT(n,{label:u,value:h,data:i},r)}function KF(n,e){var t=n.focusedValue,r=n.selectValue,i=r.indexOf(t);if(i>-1){var a=e.indexOf(t);if(a>-1)return t;if(i<e.length)return e[i]}return null}function GF(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var op=function(e,t){var r,i=(r=e.find(function(a){return a.data===t}))===null||r===void 0?void 0:r.id;return i||null},PT=function(e,t){return e.getOptionLabel(t)},Kc=function(e,t){return e.getOptionValue(t)};function RT(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function AT(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=Kc(n,e);return t.some(function(i){return Kc(n,i)===r})}function NT(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var MT=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},WF=1,LT=function(n){gM(t,n);var e=wM(t);function t(r){var i;if(pM(this,t),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=AF(),i.controlRef=null,i.getControlRef=function(d){i.controlRef=d},i.focusedOptionRef=null,i.getFocusedOptionRef=function(d){i.focusedOptionRef=d},i.menuListRef=null,i.getMenuListRef=function(d){i.menuListRef=d},i.inputRef=null,i.getInputRef=function(d){i.inputRef=d},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(d,p){var g=i.props,y=g.onChange,S=g.name;p.name=S,i.ariaOnChange(d,p),y(d,p)},i.setValue=function(d,p,g){var y=i.props,S=y.closeMenuOnSelect,I=y.isMulti,x=y.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:x}),S&&(i.setState({inputIsHiddenAfterUpdate:!I}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(d,{action:p,option:g})},i.selectOption=function(d){var p=i.props,g=p.blurInputOnSelect,y=p.isMulti,S=p.name,I=i.state.selectValue,x=y&&i.isOptionSelected(d,I),k=i.isOptionDisabled(d,I);if(x){var C=i.getOptionValue(d);i.setValue(I.filter(function(D){return i.getOptionValue(D)!==C}),"deselect-option",d)}else if(!k)y?i.setValue([].concat(Ig(I),[d]),"select-option",d):i.setValue(d,"select-option");else{i.ariaOnChange(d,{action:"select-option",option:d,name:S});return}g&&i.blurInput()},i.removeValue=function(d){var p=i.props.isMulti,g=i.state.selectValue,y=i.getOptionValue(d),S=g.filter(function(x){return i.getOptionValue(x)!==y}),I=Gl(p,S,S[0]||null);i.onChange(I,{action:"remove-value",removedValue:d}),i.focusInput()},i.clearValue=function(){var d=i.state.selectValue;i.onChange(Gl(i.props.isMulti,[],null),{action:"clear",removedValues:d})},i.popValue=function(){var d=i.props.isMulti,p=i.state.selectValue,g=p[p.length-1],y=p.slice(0,p.length-1),S=Gl(d,y,y[0]||null);g&&i.onChange(S,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(d){return op(i.state.focusableOptionsWithIds,d)},i.getFocusableOptionsWithIds=function(){return YS(lc(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return L2.apply(void 0,[i.props.classNamePrefix].concat(p))},i.getOptionLabel=function(d){return PT(i.props,d)},i.getOptionValue=function(d){return Kc(i.props,d)},i.getStyles=function(d,p){var g=i.props.unstyled,y=VF[d](p,g);y.boxSizing="border-box";var S=i.props.styles[d];return S?S(y,p):y},i.getClassNames=function(d,p){var g,y;return(g=(y=i.props.classNames)[d])===null||g===void 0?void 0:g.call(y,p)},i.getElementId=function(d){return"".concat(i.state.instancePrefix,"-").concat(d)},i.getComponents=function(){return oF(i.props)},i.buildCategorizedOptions=function(){return lc(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return OT(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(d,p){i.setState({ariaSelection:me({value:d},p)})},i.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(d){i.blockOptionHover=!1},i.onControlMouseDown=function(d){if(!d.defaultPrevented){var p=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&i.onMenuClose():p&&i.openMenu("first"):(p&&(i.openAfterFocus=!0),i.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},i.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!i.props.isDisabled){var p=i.props,g=p.isMulti,y=p.menuIsOpen;i.focusInput(),y?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),d.preventDefault()}},i.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(i.clearValue(),d.preventDefault(),i.openAfterFocus=!1,d.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(d){typeof i.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Ah(d.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(d)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(d){var p=d.touches,g=p&&p.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(d){var p=d.touches,g=p&&p.item(0);if(g){var y=Math.abs(g.clientX-i.initialTouchX),S=Math.abs(g.clientY-i.initialTouchY),I=5;i.userIsDragging=y>I||S>I}},i.onTouchEnd=function(d){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(d.target)&&i.menuListRef&&!i.menuListRef.contains(d.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(d){i.userIsDragging||i.onControlMouseDown(d)},i.onClearIndicatorTouchEnd=function(d){i.userIsDragging||i.onClearIndicatorMouseDown(d)},i.onDropdownIndicatorTouchEnd=function(d){i.userIsDragging||i.onDropdownIndicatorMouseDown(d)},i.handleInputChange=function(d){var p=i.props.inputValue,g=d.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:p}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(d){i.props.onFocus&&i.props.onFocus(d),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(d){var p=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(d),i.onInputChange("",{action:"input-blur",prevInputValue:p}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(d){if(!(i.blockOptionHover||i.state.focusedOption===d)){var p=i.getFocusableOptions(),g=p.indexOf(d);i.setState({focusedOption:d,focusedOptionId:g>-1?i.getFocusedOptionId(d):null})}},i.shouldHideSelectedOptions=function(){return MT(i.props)},i.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),i.focus()},i.onKeyDown=function(d){var p=i.props,g=p.isMulti,y=p.backspaceRemovesValue,S=p.escapeClearsValue,I=p.inputValue,x=p.isClearable,k=p.isDisabled,C=p.menuIsOpen,D=p.onKeyDown,F=p.tabSelectsValue,M=p.openMenuOnFocus,B=i.state,R=B.focusedOption,U=B.focusedValue,z=B.selectValue;if(!k&&!(typeof D=="function"&&(D(d),d.defaultPrevented))){switch(i.blockOptionHover=!0,d.key){case"ArrowLeft":if(!g||I)return;i.focusValue("previous");break;case"ArrowRight":if(!g||I)return;i.focusValue("next");break;case"Delete":case"Backspace":if(I)return;if(U)i.removeValue(U);else{if(!y)return;g?i.popValue():x&&i.clearValue()}break;case"Tab":if(i.isComposing||d.shiftKey||!C||!F||!R||M&&i.isOptionSelected(R,z))return;i.selectOption(R);break;case"Enter":if(d.keyCode===229)break;if(C){if(!R||i.isComposing)return;i.selectOption(R);break}return;case"Escape":C?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:I}),i.onMenuClose()):x&&S&&i.clearValue();break;case" ":if(I)return;if(!C){i.openMenu("first");break}if(!R)return;i.selectOption(R);break;case"ArrowUp":C?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":C?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!C)return;i.focusOption("pageup");break;case"PageDown":if(!C)return;i.focusOption("pagedown");break;case"Home":if(!C)return;i.focusOption("first");break;case"End":if(!C)return;i.focusOption("last");break;default:return}d.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++WF),i.state.selectValue=MS(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),u=i.buildFocusableOptions(),h=u.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=u[h],i.state.focusedOptionId=op(a,u[h])}return i}return mM(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&LS(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,u=a.isDisabled,h=a.menuIsOpen,d=this.state.isFocused;(d&&!u&&i.isDisabled||d&&h&&!i.menuIsOpen)&&this.focusInput(),d&&u&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!u&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(LS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,u=this.state,h=u.selectValue,d=u.isFocused,p=this.buildFocusableOptions(),g=i==="first"?0:p.length-1;if(!this.props.isMulti){var y=p.indexOf(h[0]);y>-1&&(g=y)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[g],focusedOptionId:this.getFocusedOptionId(p[g])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,u=a.selectValue,h=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=u.indexOf(h);h||(d=-1);var p=u.length-1,g=-1;if(u.length){switch(i){case"previous":d===0?g=0:d===-1?g=p:g=d-1;break;case"next":d>-1&&d<p&&(g=d+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:u[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,u=this.state.focusedOption,h=this.getFocusableOptions();if(h.length){var d=0,p=h.indexOf(u);u||(p=-1),i==="up"?d=p>0?p-1:h.length-1:i==="down"?d=(p+1)%h.length:i==="pageup"?(d=p-a,d<0&&(d=0)):i==="pagedown"?(d=p+a,d>h.length-1&&(d=h.length-1)):i==="last"&&(d=h.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:h[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(h[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(sp):me(me({},sp),this.props.theme):sp}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,u=this.getStyles,h=this.getClassNames,d=this.getValue,p=this.selectOption,g=this.setValue,y=this.props,S=y.isMulti,I=y.isRtl,x=y.options,k=this.hasValue();return{clearValue:i,cx:a,getStyles:u,getClassNames:h,getValue:d,hasValue:k,isMulti:S,isRtl:I,options:x,selectOption:p,selectProps:y,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,u=i.isMulti;return a===void 0?u:a}},{key:"isOptionDisabled",value:function(i,a){return RT(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return AT(this.props,i,a)}},{key:"filterOption",value:function(i,a){return NT(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,h=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:u,selectValue:h})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,u=i.isSearchable,h=i.inputId,d=i.inputValue,p=i.tabIndex,g=i.form,y=i.menuIsOpen,S=i.required,I=this.getComponents(),x=I.Input,k=this.state,C=k.inputIsHidden,D=k.ariaSelection,F=this.commonProps,M=h||this.getElementId("input"),B=me(me(me({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":S,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(D==null?void 0:D.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?N.createElement(x,ye({},F,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:M,innerRef:this.getInputRef,isDisabled:a,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:g,type:"text",value:d},B)):N.createElement(SF,ye({id:M,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Hc,onFocus:this.onInputFocus,disabled:a,tabIndex:p,inputMode:"none",form:g,value:""},B))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),u=a.MultiValue,h=a.MultiValueContainer,d=a.MultiValueLabel,p=a.MultiValueRemove,g=a.SingleValue,y=a.Placeholder,S=this.commonProps,I=this.props,x=I.controlShouldRenderValue,k=I.isDisabled,C=I.isMulti,D=I.inputValue,F=I.placeholder,M=this.state,B=M.selectValue,R=M.focusedValue,U=M.isFocused;if(!this.hasValue()||!x)return D?null:N.createElement(y,ye({},S,{key:"placeholder",isDisabled:k,isFocused:U,innerProps:{id:this.getElementId("placeholder")}}),F);if(C)return B.map(function(Z,Te){var ze=Z===R,nt="".concat(i.getOptionLabel(Z),"-").concat(i.getOptionValue(Z));return N.createElement(u,ye({},S,{components:{Container:h,Label:d,Remove:p},isFocused:ze,isDisabled:k,key:nt,index:Te,removeProps:{onClick:function(){return i.removeValue(Z)},onTouchEnd:function(){return i.removeValue(Z)},onMouseDown:function(Xe){Xe.preventDefault()}},data:Z}),i.formatOptionLabel(Z,"value"))});if(D)return null;var z=B[0];return N.createElement(g,ye({},S,{data:z,isDisabled:k}),this.formatOptionLabel(z,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,u=this.commonProps,h=this.props,d=h.isDisabled,p=h.isLoading,g=this.state.isFocused;if(!this.isClearable()||!a||d||!this.hasValue()||p)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(a,ye({},u,{innerProps:y,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,u=this.commonProps,h=this.props,d=h.isDisabled,p=h.isLoading,g=this.state.isFocused;if(!a||!p)return null;var y={"aria-hidden":"true"};return N.createElement(a,ye({},u,{innerProps:y,isDisabled:d,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,u=i.IndicatorSeparator;if(!a||!u)return null;var h=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused;return N.createElement(u,ye({},h,{isDisabled:d,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var u=this.commonProps,h=this.props.isDisabled,d=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(a,ye({},u,{innerProps:p,isDisabled:h,isFocused:d}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),u=a.Group,h=a.GroupHeading,d=a.Menu,p=a.MenuList,g=a.MenuPortal,y=a.LoadingMessage,S=a.NoOptionsMessage,I=a.Option,x=this.commonProps,k=this.state.focusedOption,C=this.props,D=C.captureMenuScroll,F=C.inputValue,M=C.isLoading,B=C.loadingMessage,R=C.minMenuHeight,U=C.maxMenuHeight,z=C.menuIsOpen,Z=C.menuPlacement,Te=C.menuPosition,ze=C.menuPortalTarget,nt=C.menuShouldBlockScroll,De=C.menuShouldScrollIntoView,Xe=C.noOptionsMessage,Ue=C.onMenuScrollToTop,Fe=C.onMenuScrollToBottom;if(!z)return null;var xe=function(ge,le){var be=ge.type,ve=ge.data,_e=ge.isDisabled,Ie=ge.isSelected,rt=ge.label,Ir=ge.value,Un=k===ve,pi=_e?void 0:function(){return i.onOptionHover(ve)},Cr=_e?void 0:function(){return i.selectOption(ve)},Y="".concat(i.getElementId("option"),"-").concat(le),je={id:Y,onClick:Cr,onMouseMove:pi,onMouseOver:pi,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Ie};return N.createElement(I,ye({},x,{innerProps:je,data:ve,isDisabled:_e,isSelected:Ie,key:Y,label:rt,type:be,value:Ir,isFocused:Un,innerRef:Un?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ge.data,"menu"))},Pe;if(this.hasOptions())Pe=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var ge=Q.data,le=Q.options,be=Q.index,ve="".concat(i.getElementId("group"),"-").concat(be),_e="".concat(ve,"-heading");return N.createElement(u,ye({},x,{key:ve,data:ge,options:le,Heading:h,headingProps:{id:_e,data:Q.data},label:i.formatGroupLabel(Q.data)}),Q.options.map(function(Ie){return xe(Ie,"".concat(be,"-").concat(Ie.index))}))}else if(Q.type==="option")return xe(Q,"".concat(Q.index))});else if(M){var G=B({inputValue:F});if(G===null)return null;Pe=N.createElement(y,x,G)}else{var oe=Xe({inputValue:F});if(oe===null)return null;Pe=N.createElement(S,x,oe)}var E={minMenuHeight:R,maxMenuHeight:U,menuPlacement:Z,menuPosition:Te,menuShouldScrollIntoView:De},L=N.createElement(J2,ye({},x,E),function(Q){var ge=Q.ref,le=Q.placerProps,be=le.placement,ve=le.maxHeight;return N.createElement(d,ye({},x,E,{innerRef:ge,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:M,placement:be}),N.createElement(kF,{captureEnabled:D,onTopArrive:Ue,onBottomArrive:Fe,lockEnabled:nt},function(_e){return N.createElement(p,ye({},x,{innerRef:function(rt){i.getMenuListRef(rt),_e(rt)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:i.getElementId("listbox")},isLoading:M,maxHeight:ve,focusedOption:k}),Pe)}))});return ze||Te==="fixed"?N.createElement(g,ye({},x,{appendTo:ze,controlElement:this.controlRef,menuPlacement:Z,menuPosition:Te}),L):L}},{key:"renderFormField",value:function(){var i=this,a=this.props,u=a.delimiter,h=a.isDisabled,d=a.isMulti,p=a.name,g=a.required,y=this.state.selectValue;if(g&&!this.hasValue()&&!h)return N.createElement(DF,{name:p,onFocus:this.onValueInputFocus});if(!(!p||h))if(d)if(u){var S=y.map(function(k){return i.getOptionValue(k)}).join(u);return N.createElement("input",{name:p,type:"hidden",value:S})}else{var I=y.length>0?y.map(function(k,C){return N.createElement("input",{key:"i-".concat(C),name:p,type:"hidden",value:i.getOptionValue(k)})}):N.createElement("input",{name:p,type:"hidden",value:""});return N.createElement("div",null,I)}else{var x=y[0]?this.getOptionValue(y[0]):"";return N.createElement("input",{name:p,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,u=a.ariaSelection,h=a.focusedOption,d=a.focusedValue,p=a.isFocused,g=a.selectValue,y=this.getFocusableOptions();return N.createElement(pF,ye({},i,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:h,focusedValue:d,isFocused:p,selectValue:g,focusableOptions:y,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,u=i.IndicatorsContainer,h=i.SelectContainer,d=i.ValueContainer,p=this.props,g=p.className,y=p.id,S=p.isDisabled,I=p.menuIsOpen,x=this.state.isFocused,k=this.commonProps=this.getCommonProps();return N.createElement(h,ye({},k,{className:g,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:x}),this.renderLiveRegion(),N.createElement(a,ye({},k,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:x,menuIsOpen:I}),N.createElement(d,ye({},k,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),N.createElement(u,ye({},k,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var u=a.prevProps,h=a.clearFocusValueOnUpdate,d=a.inputIsHiddenAfterUpdate,p=a.ariaSelection,g=a.isFocused,y=a.prevWasFocused,S=a.instancePrefix,I=i.options,x=i.value,k=i.menuIsOpen,C=i.inputValue,D=i.isMulti,F=MS(x),M={};if(u&&(x!==u.value||I!==u.options||k!==u.menuIsOpen||C!==u.inputValue)){var B=k?qF(i,F):[],R=k?YS(lc(i,F),"".concat(S,"-option")):[],U=h?KF(a,F):null,z=GF(a,B),Z=op(R,z);M={selectValue:F,focusedOption:z,focusedOptionId:Z,focusableOptionsWithIds:R,focusedValue:U,clearFocusValueOnUpdate:!1}}var Te=d!=null&&i!==u?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},ze=p,nt=g&&y;return g&&!nt&&(ze={value:Gl(D,F,F[0]||null),options:F,action:"initial-input-focus"},nt=!y),(p==null?void 0:p.action)==="initial-input-focus"&&(ze=null),me(me(me({},M),Te),{},{prevProps:i,ariaSelection:ze,prevWasFocused:nt})}}]),t}(N.Component);LT.defaultProps=HF;var QF=N.forwardRef(function(n,e){var t=fM(n);return N.createElement(LT,ye({ref:e},t))}),Ds=QF;const FT={_origin:"https://api.emailjs.com"},YF=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class JS{constructor(e){this.status=e.status,this.text=e.responseText}}const XF=(n,e,t={})=>new Promise((r,i)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:u})=>{const h=new JS(u);h.status===200||h.text==="OK"?r(h):i(h)}),a.addEventListener("error",({target:u})=>{i(new JS(u))}),a.open("POST",FT._origin+n,!0),Object.keys(t).forEach(u=>{a.setRequestHeader(u,t[u])}),a.send(e)}),JF=(n,e,t,r)=>{const i=r||FT._userID;return YF(i,n,e),XF("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},ZS={send:JF},eE="service_fimxodg",ZF="template_bxx6jfh",eV="template_oozid5v",tE="wyfCLJgbJeNcu3092",Os={control:(n,e)=>({...n,width:"100%",minHeight:"40px",fontSize:"16px",border:e.isFocused?"2px solid #7a5d33":"2px solid #8b6c42",boxShadow:e.isFocused?"0 0 5px rgba(122, 93, 51, 0.5)":null,borderRadius:"6px",padding:"2px 5px"}),menu:n=>({...n,width:"100%"}),placeholder:n=>({...n,color:"#4b3f2a"}),singleValue:n=>({...n,fontSize:"16px"})},tV=["374 CAT mini ex","304 Peterbilt Dump Truck","306 int. Dump Truck","326 Cat D6 Dozer","329 Cat 950 Loader","335 Cat 950M Loader","347 Bobcat Skid Steer","357 Cat 140M3 Blade","358 Kubota Mini Ex","359 Kubota Skid Steer","365 Terex Light Tower","372 Allmand Light Tower","375 Amman Roller","380 JLG Telehandler","383 Cat 140M3 Blade","384 Cat 308 Mini Ex","385 Cat 336 Excavator","386 Cat Mini Ex","387 Cat Skid Steer","388 Cat Skid Steer","392 Cat Tik Truck","393 Cat Tik Truck","394 Cat Mini Ex"],nE=["18","6bar","Apache Canyon Road","Apache Screen Site","Babb Canyon Road","Babb HQ","Baylor","Big Tank HQ","Chico","Clock","Delaware Basin","DOD","Fenceline East","Fenceline West","Figure 2","Highline Road","Hogue Canyon","Honeycutt HQ","Honeycutt Rim North","Houge Pump Jack","James Cook Hanger","Lower Puett","Mule Pasture","North Baylor","North VMB HQ","Old West Town","Pipeline (East)","Pipeline (West)","Prison Camp","Puckett","Puett HQ","Red Pens","Roberts HQ","Roberts Quarry","Rock House","Roller Coaster Road","Sanford N Sons","Shortcut","Sierra Diablo","South Baylor","Space World","Stockyard","Victorio Canyon","VMB","Wind Tower Road (Bottom)","Windtower Road (Top)","Wilson HQ","Welding Shop"],nV=["Excavator X100","Bulldozer B200","Crane C300"];function rV(){N.useEffect(()=>{document.title="Daugherty Ranches Equipment Tracker"},[]);const[n,e]=N.useState(null),[t,r]=N.useState(""),[i,a]=N.useState(""),[u,h]=N.useState([]),[d,p]=N.useState(tV),[g,y]=N.useState(""),[S,I]=N.useState(""),[x,k]=N.useState(""),[C,D]=N.useState(""),[F,M]=N.useState(""),[B,R]=N.useState(""),[U,z]=N.useState(""),[Z,Te]=N.useState(""),ze=Y=>{const je=Y.value;je&&!d.includes(je)&&p(Ne=>[...Ne,je]),y(je)},nt=async Y=>{if(Y.preventDefault(),g&&S&&U&&Z&&x&&C&&F&&B){const je={unit:g,hoursMiles:S,checkoutDate:U,returnDate:Z,customerName:x,customerEmail:C,customerPhone:F,jobSite:B,createdAt:new Date().toISOString()};try{await rS(jl(Ea,"checkouts"),je),r("Checkout successful!"),ZS.send(eE,ZF,{to_email:C,customer_name:x,unit:g,checkout_date:U,return_date:Z,job_site:B},tE).catch(Ne=>console.error("Failed to send email:",Ne)),y(""),I(""),z(""),Te(""),k(""),D(""),M(""),R(""),setTimeout(()=>r(""),3e3)}catch(Ne){console.error("Error adding checkout document: ",Ne)}}else alert("Please fill in all checkout fields.")};N.useEffect(()=>{(async()=>{try{const je=await nS(jl(Ea,"checkouts")),Ne=[];je.forEach(Kt=>{Ne.push({id:Kt.id,...Kt.data()})}),h(Ne)}catch(je){console.error("Error fetching checkouts: ",je)}})()},[]);const[De,Xe]=N.useState([]),[Ue,Fe]=N.useState(""),[xe,Pe]=N.useState(""),[G,oe]=N.useState(""),[E,L]=N.useState(""),[Q,ge]=N.useState(""),[le,be]=N.useState(""),[ve,_e]=N.useState(""),[Ie,rt]=N.useState(""),[Ir,Un]=N.useState("");N.useEffect(()=>{if(ve&&Ue&&(De!=null&&De.length)){let Y=null;if(De.forEach(je=>{if((je==null?void 0:je.unit)===Ue){const Ne=new Date(je.createdAt);(!Y||Ne>Y)&&(Y=Ne)}}),Y){const je=new Date(ve)-Y,Ne=Math.ceil(je/(1e3*60*60*24));rt(Ne>0?Ne:0)}else rt("")}else rt("")},[ve,Ue,De]);const pi=async Y=>{if(Y.preventDefault(),ve&&Ue&&xe&&le&&Ie!==""&&G&&E&&Q&&Ir){const je={dateTimeReturned:ve,unit:Ue,hoursMiles:xe,jobSite:le,duration:Ie,customerName:G,customerEmail:E,customerPhone:Q,inspectionNotes:Ir,createdAt:new Date().toISOString()};try{await rS(jl(Ea,"checkins"),je),a("Check-in successful!"),ZS.send(eE,eV,{to_email:E,customer_name:G,unit:Ue,checkin_date:ve,job_site:le,inspection_notes:Ir},tE).catch(Ne=>console.error("Failed to send email:",Ne)),_e(""),Fe(""),Pe(""),be(""),rt(""),oe(""),L(""),ge(""),Un(""),setTimeout(()=>a(""),3e3)}catch(Ne){console.error("Error adding checkin document: ",Ne)}}else alert("Please fill in all check-in fields.")};N.useEffect(()=>{(async()=>{try{const je=await nS(jl(Ea,"checkins")),Ne=[];je.forEach(Kt=>{Ne.push({id:Kt.id,...Kt.data()})}),Xe(Ne)}catch(je){console.error("Error fetching checkins: ",je)}})()},[]);const Cr=()=>{if(!(d!=null&&d.length)||!(De!=null&&De.length))return[];const Y={};d.forEach(Ne=>{u.forEach(Kt=>{if((Kt==null?void 0:Kt.unit)===Ne){const cn=new Date(Kt.createdAt);(!Y[Ne]||cn>Y[Ne])&&(Y[Ne]=cn)}})});const je=[];for(const Ne in Y)De.find(cn=>(cn==null?void 0:cn.unit)===Ne&&(cn==null?void 0:cn.createdAt)&&new Date(cn.createdAt)>Y[Ne])||je.push(Ne);return je};return K.jsxs("div",{className:"App",children:[K.jsx("div",{className:"top-right-decorative",children:"2"}),K.jsxs("header",{className:"app-header",children:[K.jsx("h1",{children:"Daugherty Ranches Equipment Tracker"}),K.jsx("p",{className:"tagline",children:"Your trusted partner for equipment management"})]}),n===null?K.jsxs("div",{className:"landing",children:[K.jsx("button",{onClick:()=>e("checkout"),children:"Check-Out"}),K.jsx("button",{onClick:()=>e("checkin"),children:"Check-In"})]}):K.jsxs("div",{className:"section-container",children:[K.jsx("button",{className:"back-button",onClick:()=>e(null),children:"Back"}),n==="checkout"?K.jsxs("section",{className:"checkout",children:[K.jsx("h2",{children:"Equipment Check-Out"}),K.jsxs("form",{onSubmit:nt,children:[K.jsx("div",{children:K.jsxs("label",{children:["Unit Number:",K.jsx(Ds,{options:d.map(Y=>({value:Y,label:Y})),value:g?{value:g,label:g}:null,onChange:Y=>y(Y.value),placeholder:"Select Unit Number",styles:Os})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Hours/Miles:",K.jsx("input",{type:"text",value:S,onChange:Y=>I(Y.target.value),placeholder:"Enter hours or miles"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Customer Name:",K.jsx("input",{type:"text",value:x,onChange:Y=>k(Y.target.value),placeholder:"Enter customer name"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Customer Email:",K.jsx("input",{type:"email",value:C,onChange:Y=>D(Y.target.value),placeholder:"Enter customer email"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Customer Phone #:",K.jsx("input",{type:"text",value:F,onChange:Y=>M(Y.target.value),placeholder:"Enter customer phone number"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Job Site:",K.jsx(Ds,{options:nE.map(Y=>({value:Y,label:Y})),value:B?{value:B,label:B}:null,onChange:Y=>R(Y.value),placeholder:"Select Job Site",styles:Os})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Checkout Date:",K.jsx("input",{type:"date",value:U,onChange:Y=>z(Y.target.value)})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Return Date:",K.jsx("input",{type:"date",value:Z,onChange:Y=>Te(Y.target.value)})]})}),K.jsx("button",{type:"submit",children:"Checkout Equipment"})]}),t&&K.jsx("p",{className:"message",children:t})]}):K.jsxs("section",{className:"checkin",children:[K.jsx("h2",{children:"Equipment Check-In"}),K.jsxs("form",{onSubmit:pi,children:[K.jsx("div",{children:K.jsxs("label",{children:["Unit Number:",K.jsx(Ds,{options:d.map(Y=>({value:Y,label:Y})),value:Ue?{value:Ue,label:Ue}:null,onChange:Y=>Fe(Y.value),placeholder:"Select Unit Number",styles:Os})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Hours/Miles:",K.jsx("input",{type:"text",value:xe,onChange:Y=>Pe(Y.target.value),placeholder:"Enter hours or miles"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Customer Name:",K.jsx("input",{type:"text",value:G,onChange:Y=>oe(Y.target.value),placeholder:"Enter customer name"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Customer Email:",K.jsx("input",{type:"email",value:E,onChange:Y=>L(Y.target.value),placeholder:"Enter customer email"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Customer Phone #:",K.jsx("input",{type:"text",value:Q,onChange:Y=>ge(Y.target.value),placeholder:"Enter customer phone number"})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Job Site:",K.jsx(Ds,{options:nE.map(Y=>({value:Y,label:Y})),value:le?{value:le,label:le}:null,onChange:Y=>be(Y.value),placeholder:"Select Job Site",styles:Os})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Date and Time Returned:",K.jsx("input",{type:"datetime-local",value:ve,onChange:Y=>_e(Y.target.value)})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Duration (Days checked out):",K.jsx("input",{type:"number",value:Ie,readOnly:!0})]})}),K.jsx("div",{children:K.jsxs("label",{children:["Inspection Notes:",K.jsx("textarea",{value:Ir,onChange:Y=>Un(Y.target.value),placeholder:"Enter inspection notes"})]})}),K.jsx("button",{type:"submit",children:"Check-In Equipment"})]}),i&&K.jsx("p",{className:"message",children:i})]}),K.jsxs("div",{className:"bottom-section",children:[K.jsxs("section",{className:"active-checkouts",children:[K.jsx("h2",{children:"Active Checkouts"}),K.jsx(Ds,{options:Cr().map(Y=>({value:Y,label:Y})),placeholder:"Select Active Checkout",styles:Os})]}),K.jsx("div",{className:"rental-equipment",children:K.jsxs("label",{children:["Rental Equipment (if not in yard):",K.jsx(Ds,{options:nV.map(Y=>({value:Y,label:Y})),onChange:ze,placeholder:"Select Rental Equipment",styles:Os})]})})]})]})]})}function iV(){const[n,e]=N.useState(null),[t,r]=N.useState(!1),[i,a]=N.useState(""),[u,h]=N.useState(""),[d,p]=N.useState(""),[g,y]=N.useState(!1),[S,I]=N.useState([]);N.useEffect(()=>{const C=GA(Sa,D=>{e(D)});return()=>C()},[]),N.useEffect(()=>{n&&fetch("https://your-api-endpoint.com/equipment").then(C=>C.json()).then(C=>I(C)).catch(C=>console.error("Error fetching equipment data:",C))},[n]);const x=async C=>{if(C.preventDefault(),p(""),y(!0),t)try{const D=await BA(Sa,i,u);e(D.user)}catch(D){p(D.message)}else try{const D=await zA(Sa,i,u);e(D.user)}catch(D){p(D.message)}y(!1)},k=async()=>{await WA(Sa),e(null)};return n?K.jsxs("div",{children:[K.jsx("div",{className:"sign-out-container",children:K.jsx("button",{onClick:k,children:"Sign Out"})}),K.jsx(rV,{equipmentList:S})]}):K.jsx("div",{className:"auth-wrapper",children:K.jsxs("div",{className:"auth-container",children:[K.jsx("h2",{children:t?"Register":"Sign In"}),K.jsxs("form",{onSubmit:x,children:[K.jsx("div",{children:K.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:C=>a(C.target.value),required:!0})}),K.jsx("div",{children:K.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:C=>h(C.target.value),required:!0})}),d&&K.jsx("p",{className:"error",children:d}),K.jsx("button",{type:"submit",disabled:g,children:g?"Loading...":t?"Register":"Sign In"})]}),K.jsxs("p",{children:[t?"Already have an account?":"Don't have an account?"," ",K.jsx("button",{onClick:()=>{r(!t),p("")},children:t?"Sign In":"Register"})]})]})})}Bk.render(K.jsx(iE.StrictMode,{children:K.jsx(iV,{})}),document.getElementById("root"));
